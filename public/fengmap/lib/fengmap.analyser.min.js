/**Released Version v3.1.0,BUILD 39,Time 1652253420758. Fengmap Javascript SDK , see: https://www.fengmap.com for details**/
!function(t,i){"object"==typeof exports&&"object"==typeof module?module.exports=i(require("fs")):"function"==typeof define&&define.amd?define(["fs"],i):"object"==typeof exports?exports.fengmap=i(require("fs")):t.fengmap=i(t.fs)}(this,function(__WEBPACK_EXTERNAL_MODULE__47__){return function(n){var r={};function e(t){if(r[t])return r[t].exports;var i=r[t]={i:t,l:!1,exports:{}};return n[t].call(i.exports,i,i.exports,e),i.l=!0,i.exports}return e.m=n,e.c=r,e.d=function(t,i,n){e.o(t,i)||Object.defineProperty(t,i,{enumerable:!0,get:n})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"u",{value:!0})},e.t=function(i,t){if(1&t&&(i=e(i)),8&t)return i;if(4&t&&"object"==typeof i&&i&&i.u)return i;var n=Object.create(null);if(e.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:i}),2&t&&"string"!=typeof i)for(var r in i)e.d(n,r,function(t){return i[t]}.bind(null,r));return n},e.n=function(t){var i=t&&t.u?function(){return t.default}:function(){return t};return e.d(i,"a",i),i},e.o=function(t,i){return Object.prototype.hasOwnProperty.call(t,i)},e.p="",e(e.s=50)}([function(t,i,n){var r,e,s=t.exports=n(2),o=n(16),u=(s.codegen=n(40),s.fetch=n(41),s.path=n(42),s.fs=s.inquire("fs"),s.toArray=function(t){if(t){for(var i=Object.keys(t),n=new Array(i.length),r=0;r<i.length;)n[r]=t[i[r++]];return n}return[]},s.toObject=function(t){for(var i={},n=0;n<t.length;){var r=t[n++],e=t[n++];void 0!==e&&(i[r]=e)}return i},/\\/g),h=/"/g,a=(s.isReserved=function(t){return/^(?:do|if|in|for|let|new|try|var|case|else|enum|eval|false|null|this|true|void|with|break|catch|class|const|super|throw|while|yield|delete|export|import|public|return|static|switch|typeof|default|extends|finally|package|private|continue|debugger|function|arguments|interface|protected|implements|instanceof)$/.test(t)},s.safeProp=function(t){return!/^[$\w_]+$/.test(t)||s.isReserved(t)?'["'+t.replace(u,"\\\\").replace(h,'\\"')+'"]':"."+t},s.ucFirst=function(t){return t.charAt(0).toUpperCase()+t.substring(1)},/_([a-z])/g),f=(s.camelCase=function(t){return t.substring(0,1)+t.substring(1).replace(a,function(t,i){return i.toUpperCase()})},s.compareFieldsById=function(t,i){return t.id-i.id},s.decorateType=function(t,i){if(t.$type)return i&&t.$type.name!==i&&(s.decorateRoot.remove(t.$type),t.$type.name=i,s.decorateRoot.add(t.$type)),t.$type;i=new(r=r||n(18))(i||t.name);return s.decorateRoot.add(i),i.ctor=t,Object.defineProperty(t,"$type",{value:i,enumerable:!1}),Object.defineProperty(t.prototype,"$type",{value:i,enumerable:!1}),i},0);s.decorateEnum=function(t){if(t.$type)return t.$type;var i=new(e=e||n(3))("Enum"+f++,t);return s.decorateRoot.add(i),Object.defineProperty(t,"$type",{value:i,enumerable:!1}),i},s.setProperty=function(t,i,n){if("object"!=typeof t)throw TypeError("dst must be an object");if(i)return function t(i,n,r){var e=n.shift();return 0<n.length?i[e]=t(i[e]||{},n,r):((n=i[e])&&(r=[].concat(n).concat(r)),i[e]=r),i}(t,i=i.split("."),n);throw TypeError("path must be specified")},Object.defineProperty(s,"decorateRoot",{get:function(){return o.decorated||(o.decorated=new(n(26)))}})},function(t,i,n){!function(o){function u(t,i){for(var n=0;n<i.length;n++){var r=i[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var h=null,t=function(){function t(){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function")}var i,n,r,e;function s(){return e.apply(this,arguments)}return i=t,n=null,r=[{key:"global",value:(e=function(){if("undefined"!=typeof self&&null!==self&&0!==Object.keys(self).length)return self;if("undefined"!=typeof window&&null!==window&&0!==Object.keys(window).length)return window;if(null!=o&&0!==Object.keys(o).length)return o;var t;if("undefined"!=typeof my)return h||(t=my.getAppIdSync(),h={location:{host:t.appId+".hybrid.alipay-eco.com"}}),h;throw new Error("unable to locate global object")},s.toString=function(){return e.toString()},s)}],n&&u(i.prototype,n),r&&u(i,r),Object.defineProperty(i,"prototype",{writable:!1}),t}();i.a=t}.call(this,n(9))},function(t,n,s){!function(t){var r=n;function e(t,i,n){for(var r=Object.keys(i),e=0;e<r.length;++e)void 0!==t[r[e]]&&n||(t[r[e]]=i[r[e]]);return t}function i(t){function n(t,i){if(!(this instanceof n))return new n(t,i);Object.defineProperty(this,"message",{get:function(){return t}}),Error.captureStackTrace?Error.captureStackTrace(this,n):Object.defineProperty(this,"stack",{value:(new Error).stack||""}),i&&e(this,i)}return(n.prototype=Object.create(Error.prototype)).constructor=n,Object.defineProperty(n.prototype,"name",{get:function(){return t}}),n.prototype.toString=function(){return this.name+": "+this.message},n}r.asPromise=s(13),r.base64=s(31),r.EventEmitter=s(32),r.float=s(33),r.inquire=s(14),r.utf8=s(34),r.pool=s(35),r.LongBits=s(36),r.isNode=Boolean(void 0!==t&&t&&t.process&&t.process.versions&&t.process.versions.node),r.global=r.isNode&&t||"undefined"!=typeof window&&window||"undefined"!=typeof self&&self||this,r.emptyArray=Object.freeze?Object.freeze([]):[],r.emptyObject=Object.freeze?Object.freeze({}):{},r.isInteger=Number.isInteger||function(t){return"number"==typeof t&&isFinite(t)&&Math.floor(t)===t},r.isString=function(t){return"string"==typeof t||t instanceof String},r.isObject=function(t){return t&&"object"==typeof t},r.isset=r.isSet=function(t,i){var n=t[i];return!(null==n||!t.hasOwnProperty(i))&&("object"!=typeof n||0<(Array.isArray(n)?n:Object.keys(n)).length)},r.Buffer=function(){try{var t=r.inquire("buffer").Buffer;return t.prototype.utf8Write?t:null}catch(t){return null}}(),r.v=null,r._=null,r.newBuffer=function(t){return"number"==typeof t?r.Buffer?r._(t):new r.Array(t):r.Buffer?r.v(t):"undefined"==typeof Uint8Array?t:new Uint8Array(t)},r.Array="undefined"!=typeof Uint8Array?Uint8Array:Array,r.Long=r.global.dcodeIO&&r.global.dcodeIO.Long||r.global.Long||r.inquire("long"),r.key2Re=/^true|false|0|1$/,r.key32Re=/^-?(?:0|[1-9][0-9]*)$/,r.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,r.longToHash=function(t){return t?r.LongBits.from(t).toHash():r.LongBits.zeroHash},r.longFromHash=function(t,i){t=r.LongBits.fromHash(t);return r.Long?r.Long.fromBits(t.lo,t.hi,i):t.toNumber(Boolean(i))},r.merge=e,r.lcFirst=function(t){return t.charAt(0).toLowerCase()+t.substring(1)},r.newError=i,r.ProtocolError=i("ProtocolError"),r.oneOfGetter=function(t){for(var n={},i=0;i<t.length;++i)n[t[i]]=1;return function(){for(var t=Object.keys(this),i=t.length-1;-1<i;--i)if(1===n[t[i]]&&void 0!==this[t[i]]&&null!==this[t[i]])return t[i]}},r.oneOfSetter=function(n){return function(t){for(var i=0;i<n.length;++i)n[i]!==t&&delete this[n[i]]}},r.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},r.O=function(){var n=r.Buffer;n?(r.v=n.from!==Uint8Array.from&&n.from||function(t,i){return new n(t,i)},r._=n.allocUnsafe||function(t){return new n(t)}):r.v=r._=null}}.call(this,s(9))},function(t,i,n){t.exports=s;var u=n(4),r=(((s.prototype=Object.create(u.prototype)).constructor=s).className="Enum",n(6)),e=n(0);function s(t,i,n,r,e){if(u.call(this,t,n),i&&"object"!=typeof i)throw TypeError("values must be an object");if(this.valuesById={},this.values=Object.create(this.valuesById),this.comment=r,this.comments=e||{},this.reserved=void 0,i)for(var s=Object.keys(i),o=0;o<s.length;++o)"number"==typeof i[s[o]]&&(this.valuesById[this.values[s[o]]=i[s[o]]]=s[o])}s.fromJSON=function(t,i){t=new s(t,i.values,i.options,i.comment,i.comments);return t.reserved=i.reserved,t},s.prototype.toJSON=function(t){t=!!t&&Boolean(t.keepComments);return e.toObject(["options",this.options,"values",this.values,"reserved",this.reserved&&this.reserved.length?this.reserved:void 0,"comment",t?this.comment:void 0,"comments",t?this.comments:void 0])},s.prototype.add=function(t,i,n){if(!e.isString(t))throw TypeError("name must be a string");if(!e.isInteger(i))throw TypeError("id must be an integer");if(void 0!==this.values[t])throw Error("duplicate name '"+t+"' in "+this);if(this.isReservedId(i))throw Error("id "+i+" is reserved in "+this);if(this.isReservedName(t))throw Error("name '"+t+"' is reserved in "+this);if(void 0!==this.valuesById[i]){if(!this.options||!this.options.allow_alias)throw Error("duplicate id "+i+" in "+this);this.values[t]=i}else this.valuesById[this.values[t]=i]=t;return this.comments[t]=n||null,this},s.prototype.remove=function(t){if(!e.isString(t))throw TypeError("name must be a string");var i=this.values[t];if(null==i)throw Error("name '"+t+"' does not exist in "+this);return delete this.valuesById[i],delete this.values[t],delete this.comments[t],this},s.prototype.isReservedId=function(t){return r.isReservedId(this.reserved,t)},s.prototype.isReservedName=function(t){return r.isReservedName(this.reserved,t)}},function(t,i,n){(t.exports=e).className="ReflectionObject";var r,o=n(0);function e(t,i){if(!o.isString(t))throw TypeError("name must be a string");if(i&&!o.isObject(i))throw TypeError("options must be an object");this.options=i,this.parsedOptions=null,this.name=t,this.parent=null,this.resolved=!1,this.comment=null,this.filename=null}Object.defineProperties(e.prototype,{root:{get:function(){for(var t=this;null!==t.parent;)t=t.parent;return t}},fullName:{get:function(){for(var t=[this.name],i=this.parent;i;)t.unshift(i.name),i=i.parent;return t.join(".")}}}),e.prototype.toJSON=function(){throw Error()},e.prototype.onAdd=function(t){this.parent&&this.parent!==t&&this.parent.remove(this),this.parent=t,this.resolved=!1;t=t.root;t instanceof r&&t.j(this)},e.prototype.onRemove=function(t){t=t.root;t instanceof r&&t.T(this),this.parent=null,this.resolved=!1},e.prototype.resolve=function(){return this.resolved||this.root instanceof r&&(this.resolved=!0),this},e.prototype.getOption=function(t){if(this.options)return this.options[t]},e.prototype.setOption=function(t,i,n){return n&&this.options&&void 0!==this.options[t]||((this.options||(this.options={}))[t]=i),this},e.prototype.setParsedOption=function(i,t,n){this.parsedOptions||(this.parsedOptions=[]);var r,e,s=this.parsedOptions;return n?(r=s.find(function(t){return Object.prototype.hasOwnProperty.call(t,i)}))?(e=r[i],o.setProperty(e,n,t)):((r={})[i]=o.setProperty({},n,t),s.push(r)):((e={})[i]=t,s.push(e)),this},e.prototype.setOptions=function(t,i){if(t)for(var n=Object.keys(t),r=0;r<n.length;++r)this.setOption(n[r],t[n[r]],i);return this},e.prototype.toString=function(){var t=this.constructor.className,i=this.fullName;return i.length?t+" "+i:t},e.O=function(t){r=t}},function(t,i,n){t.exports=o;var r,u=n(4),e=(((o.prototype=Object.create(u.prototype)).constructor=o).className="Field",n(3)),h=n(7),a=n(0),f=/^required|optional|repeated$/;function o(t,i,n,r,e,s,o){if(a.isObject(r)?(o=e,s=r,r=e=void 0):a.isObject(e)&&(o=s,s=e,e=void 0),u.call(this,t,s),!a.isInteger(i)||i<0)throw TypeError("id must be a non-negative integer");if(!a.isString(n))throw TypeError("type must be a string");if(void 0!==r&&!f.test(r=r.toString().toLowerCase()))throw TypeError("rule must be a string rule");if(void 0!==e&&!a.isString(e))throw TypeError("extend must be a string");this.rule=(r="proto3_optional"===r?"optional":r)&&"optional"!==r?r:void 0,this.type=n,this.id=i,this.extend=e||void 0,this.required="required"===r,this.optional=!this.required,this.repeated="repeated"===r,this.map=!1,this.message=null,this.partOf=null,this.typeDefault=null,this.defaultValue=null,this.long=!!a.Long&&void 0!==h.long[n],this.bytes="bytes"===n,this.resolvedType=null,this.extensionField=null,this.declaringField=null,this.M=null,this.comment=o}o.fromJSON=function(t,i){return new o(t,i.id,i.type,i.rule,i.extend,i.options,i.comment)},Object.defineProperty(o.prototype,"packed",{get:function(){return null===this.M&&(this.M=!1!==this.getOption("packed")),this.M}}),o.prototype.setOption=function(t,i,n){return"packed"===t&&(this.M=null),u.prototype.setOption.call(this,t,i,n)},o.prototype.toJSON=function(t){t=!!t&&Boolean(t.keepComments);return a.toObject(["rule","optional"!==this.rule&&this.rule||void 0,"type",this.type,"id",this.id,"extend",this.extend,"options",this.options,"comment",t?this.comment:void 0])},o.prototype.resolve=function(){return this.resolved?this:(void 0===(this.typeDefault=h.defaults[this.type])&&(this.resolvedType=(this.declaringField||this).parent.lookupTypeOrEnum(this.type),this.resolvedType instanceof r?this.typeDefault=null:this.typeDefault=this.resolvedType.values[Object.keys(this.resolvedType.values)[0]]),this.options&&null!=this.options.default&&(this.typeDefault=this.options.default,this.resolvedType instanceof e&&"string"==typeof this.typeDefault&&(this.typeDefault=this.resolvedType.values[this.typeDefault])),this.options&&(!0!==this.options.packed&&(void 0===this.options.packed||!this.resolvedType||this.resolvedType instanceof e)||delete this.options.packed,Object.keys(this.options).length||(this.options=void 0)),this.long?(this.typeDefault=a.Long.fromNumber(this.typeDefault,"u"===this.type.charAt(0)),Object.freeze&&Object.freeze(this.typeDefault)):this.bytes&&"string"==typeof this.typeDefault&&(a.base64.test(this.typeDefault)?a.base64.decode(this.typeDefault,t=a.newBuffer(a.base64.length(this.typeDefault)),0):a.utf8.write(this.typeDefault,t=a.newBuffer(a.utf8.length(this.typeDefault)),0),this.typeDefault=t),this.map?this.defaultValue=a.emptyObject:this.repeated?this.defaultValue=a.emptyArray:this.defaultValue=this.typeDefault,this.parent instanceof r&&(this.parent.ctor.prototype[this.name]=this.defaultValue),u.prototype.resolve.call(this));var t},o.d=function(n,r,e,s){return"function"==typeof r?r=a.decorateType(r).name:r&&"object"==typeof r&&(r=a.decorateEnum(r).name),function(t,i){a.decorateType(t.constructor).add(new o(i,n,r,e,{default:s}))}},o.O=function(t){r=t}},function(t,i,n){t.exports=c;var e,s,o,r=n(4),u=(((c.prototype=Object.create(r.prototype)).constructor=c).className="Namespace",n(5)),h=n(8),a=n(0);function f(t,i){if(t&&t.length){for(var n={},r=0;r<t.length;++r)n[t[r].name]=t[r].toJSON(i);return n}}function c(t,i){r.call(this,t,i),this.nested=void 0,this.k=null}function l(t){return t.k=null,t}c.fromJSON=function(t,i){return new c(t,i.options).addJSON(i.nested)},c.arrayToJSON=f,c.isReservedId=function(t,i){if(t)for(var n=0;n<t.length;++n)if("string"!=typeof t[n]&&t[n][0]<=i&&t[n][1]>i)return!0;return!1},c.isReservedName=function(t,i){if(t)for(var n=0;n<t.length;++n)if(t[n]===i)return!0;return!1},Object.defineProperty(c.prototype,"nestedArray",{get:function(){return this.k||(this.k=a.toArray(this.nested))}}),c.prototype.toJSON=function(t){return a.toObject(["options",this.options,"nested",f(this.nestedArray,t)])},c.prototype.addJSON=function(t){if(t)for(var i,n=Object.keys(t),r=0;r<n.length;++r)i=t[n[r]],this.add((void 0!==i.fields?e:void 0!==i.values?o:void 0!==i.methods?s:void 0!==i.id?u:c).fromJSON(n[r],i));return this},c.prototype.get=function(t){return this.nested&&this.nested[t]||null},c.prototype.getEnum=function(t){if(this.nested&&this.nested[t]instanceof o)return this.nested[t].values;throw Error("no such enum: "+t)},c.prototype.add=function(t){if(!(t instanceof u&&void 0!==t.extend||t instanceof e||t instanceof o||t instanceof s||t instanceof c||t instanceof h))throw TypeError("object must be a valid nested object");if(this.nested){var i=this.get(t.name);if(i){if(!(i instanceof c&&t instanceof c)||i instanceof e||i instanceof s)throw Error("duplicate name '"+t.name+"' in "+this);for(var n=i.nestedArray,r=0;r<n.length;++r)t.add(n[r]);this.remove(i),this.nested||(this.nested={}),t.setOptions(i.options,!0)}}else this.nested={};return(this.nested[t.name]=t).onAdd(this),l(this)},c.prototype.remove=function(t){if(!(t instanceof r))throw TypeError("object must be a ReflectionObject");if(t.parent!==this)throw Error(t+" is not a member of "+this);return delete this.nested[t.name],Object.keys(this.nested).length||(this.nested=void 0),t.onRemove(this),l(this)},c.prototype.define=function(t,i){if(a.isString(t))t=t.split(".");else if(!Array.isArray(t))throw TypeError("illegal path");if(t&&t.length&&""===t[0])throw Error("path must be relative");for(var n=this;0<t.length;){var r=t.shift();if(n.nested&&n.nested[r]){if(!((n=n.nested[r])instanceof c))throw Error("path conflicts with non-namespace objects")}else n.add(n=new c(r))}return i&&n.addJSON(i),n},c.prototype.resolveAll=function(){for(var t=this.nestedArray,i=0;i<t.length;)t[i]instanceof c?t[i++].resolveAll():t[i++].resolve();return this.resolve()},c.prototype.lookup=function(t,i,n){if("boolean"==typeof i?(n=i,i=void 0):i&&!Array.isArray(i)&&(i=[i]),a.isString(t)&&t.length){if("."===t)return this.root;t=t.split(".")}else if(!t.length)return this;if(""===t[0])return this.root.lookup(t.slice(1),i);var r=this.get(t[0]);if(r){if(1===t.length){if(!i||-1<i.indexOf(r.constructor))return r}else if(r instanceof c&&(r=r.lookup(t.slice(1),i,!0)))return r}else for(var e=0;e<this.nestedArray.length;++e)if(this.k[e]instanceof c&&(r=this.k[e].lookup(t,i,!0)))return r;return null===this.parent||n?null:this.parent.lookup(t,i)},c.prototype.lookupType=function(t){var i=this.lookup(t,[e]);if(i)return i;throw Error("no such type: "+t)},c.prototype.lookupEnum=function(t){var i=this.lookup(t,[o]);if(i)return i;throw Error("no such Enum '"+t+"' in "+this)},c.prototype.lookupTypeOrEnum=function(t){var i=this.lookup(t,[e,o]);if(i)return i;throw Error("no such Type or Enum '"+t+"' in "+this)},c.prototype.lookupService=function(t){var i=this.lookup(t,[s]);if(i)return i;throw Error("no such Service '"+t+"' in "+this)},c.O=function(t,i,n){e=t,s=i,o=n}},function(t,i,n){var n=n(0),e=["double","float","int32","uint32","sint32","fixed32","sfixed32","int64","uint64","sint64","fixed64","sfixed64","bool","string","bytes"];function r(t,i){var n=0,r={};for(i|=0;n<t.length;)r[e[n+i]]=t[n++];return r}i.basic=r([1,5,0,0,0,5,5,0,0,0,1,1,0,2,2]),i.defaults=r([0,0,0,0,0,0,0,0,0,0,0,0,!1,"",n.emptyArray,null]),i.long=r([0,0,0,1,1],7),i.mapKey=r([0,0,0,5,5,0,0,0,1,1,0,2],2),i.packed=r([1,5,0,0,0,5,5,0,0,0,1,1,0])},function(t,i,n){t.exports=o;var e=n(4),r=(((o.prototype=Object.create(e.prototype)).constructor=o).className="OneOf",n(5)),s=n(0);function o(t,i,n,r){if(Array.isArray(i)||(n=i,i=void 0),e.call(this,t,n),void 0!==i&&!Array.isArray(i))throw TypeError("fieldNames must be an Array");this.oneof=i||[],this.fieldsArray=[],this.comment=r}function u(t){if(t.parent)for(var i=0;i<t.fieldsArray.length;++i)t.fieldsArray[i].parent||t.parent.add(t.fieldsArray[i])}o.fromJSON=function(t,i){return new o(t,i.oneof,i.options,i.comment)},o.prototype.toJSON=function(t){t=!!t&&Boolean(t.keepComments);return s.toObject(["options",this.options,"oneof",this.oneof,"comment",t?this.comment:void 0])},o.prototype.add=function(t){if(t instanceof r)return t.parent&&t.parent!==this.parent&&t.parent.remove(t),this.oneof.push(t.name),this.fieldsArray.push(t),u(t.partOf=this),this;throw TypeError("field must be a Field")},o.prototype.remove=function(t){if(!(t instanceof r))throw TypeError("field must be a Field");var i=this.fieldsArray.indexOf(t);if(i<0)throw Error(t+" is not a member of "+this);return this.fieldsArray.splice(i,1),-1<(i=this.oneof.indexOf(t.name))&&this.oneof.splice(i,1),t.partOf=null,this},o.prototype.onAdd=function(t){e.prototype.onAdd.call(this,t);for(var i=0;i<this.oneof.length;++i){var n=t.get(this.oneof[i]);n&&!n.partOf&&(n.partOf=this).fieldsArray.push(n)}u(this)},o.prototype.onRemove=function(t){for(var i,n=0;n<this.fieldsArray.length;++n)(i=this.fieldsArray[n]).parent&&i.parent.remove(i);e.prototype.onRemove.call(this,t)},o.d=function(){for(var n=new Array(arguments.length),t=0;t<arguments.length;)n[t]=arguments[t++];return function(t,i){s.decorateType(t.constructor).add(new o(i,n)),Object.defineProperty(t,i,{get:s.oneOfGetter(n),set:s.oneOfSetter(n)})}}},function(t,i){var n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,i,n){t.exports=c;var r,e=n(2),s=e.LongBits,o=e.base64,u=e.utf8;function h(t,i,n){this.fn=t,this.len=i,this.next=void 0,this.val=n}function a(){}function f(t){this.head=t.head,this.tail=t.tail,this.len=t.len,this.next=t.states}function c(){this.len=0,this.head=new h(a,0,0),this.tail=this.head,this.states=null}function l(){return e.Buffer?function(){return(c.create=function(){return new r})()}:function(){return new c}}function v(t,i,n){i[n]=255&t}function y(t,i){this.len=t,this.next=void 0,this.val=i}function d(t,i,n){for(;t.hi;)i[n++]=127&t.lo|128,t.lo=(t.lo>>>7|t.hi<<25)>>>0,t.hi>>>=7;for(;127<t.lo;)i[n++]=127&t.lo|128,t.lo=t.lo>>>7;i[n++]=t.lo}function b(t,i,n){i[n]=255&t,i[n+1]=t>>>8&255,i[n+2]=t>>>16&255,i[n+3]=t>>>24}c.create=l(),c.alloc=function(t){return new e.Array(t)},e.Array!==Array&&(c.alloc=e.pool(c.alloc,e.Array.prototype.subarray)),c.prototype.R=function(t,i,n){return this.tail=this.tail.next=new h(t,i,n),this.len+=i,this},(y.prototype=Object.create(h.prototype)).fn=function(t,i,n){for(;127<t;)i[n++]=127&t|128,t>>>=7;i[n]=t},c.prototype.uint32=function(t){return this.len+=(this.tail=this.tail.next=new y((t>>>=0)<128?1:t<16384?2:t<2097152?3:t<268435456?4:5,t)).len,this},c.prototype.int32=function(t){return t<0?this.R(d,10,s.fromNumber(t)):this.uint32(t)},c.prototype.sint32=function(t){return this.uint32((t<<1^t>>31)>>>0)},c.prototype.int64=c.prototype.uint64=function(t){t=s.from(t);return this.R(d,t.length(),t)},c.prototype.sint64=function(t){t=s.from(t).zzEncode();return this.R(d,t.length(),t)},c.prototype.bool=function(t){return this.R(v,1,t?1:0)},c.prototype.sfixed32=c.prototype.fixed32=function(t){return this.R(b,4,t>>>0)},c.prototype.sfixed64=c.prototype.fixed64=function(t){t=s.from(t);return this.R(b,4,t.lo).R(b,4,t.hi)},c.prototype.float=function(t){return this.R(e.float.writeFloatLE,4,t)},c.prototype.double=function(t){return this.R(e.float.writeDoubleLE,8,t)};var p=e.Array.prototype.set?function(t,i,n){i.set(t,n)}:function(t,i,n){for(var r=0;r<t.length;++r)i[n+r]=t[r]};c.prototype.bytes=function(t){var i,n=t.length>>>0;return n?(e.isString(t)&&(i=c.alloc(n=o.length(t)),o.decode(t,i,0),t=i),this.uint32(n).R(p,n,t)):this.R(v,1,0)},c.prototype.string=function(t){var i=u.length(t);return i?this.uint32(i).R(u.write,i,t):this.R(v,1,0)},c.prototype.fork=function(){return this.states=new f(this),this.head=this.tail=new h(a,0,0),this.len=0,this},c.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new h(a,0,0),this.len=0),this},c.prototype.ldelim=function(){var t=this.head,i=this.tail,n=this.len;return this.reset().uint32(n),n&&(this.tail.next=t.next,this.tail=i,this.len+=n),this},c.prototype.finish=function(){for(var t=this.head.next,i=this.constructor.alloc(this.len),n=0;t;)t.fn(t.val,i,n),n+=t.len,t=t.next;return i},c.O=function(t){r=t,c.create=l(),r.O()}},function(t,i,n){t.exports=h;var r,e=n(2),s=e.LongBits,o=e.utf8;function u(t,i){return RangeError("index out of range: "+t.pos+" + "+(i||1)+" > "+t.len)}function h(t){this.buf=t,this.pos=0,this.len=t.length}function a(){return e.Buffer?function(t){return(h.create=function(t){return e.Buffer.isBuffer(t)?new r(t):c(t)})(t)}:c}var f,c="undefined"!=typeof Uint8Array?function(t){if(t instanceof Uint8Array||Array.isArray(t))return new h(t);throw Error("illegal buffer")}:function(t){if(Array.isArray(t))return new h(t);throw Error("illegal buffer")};function l(){var t=new s(0,0),i=0;if(!(4<this.len-this.pos)){for(;i<3;++i){if(this.pos>=this.len)throw u(this);if(t.lo=(t.lo|(127&this.buf[this.pos])<<7*i)>>>0,this.buf[this.pos++]<128)return t}return t.lo=(t.lo|(127&this.buf[this.pos++])<<7*i)>>>0,t}for(;i<4;++i)if(t.lo=(t.lo|(127&this.buf[this.pos])<<7*i)>>>0,this.buf[this.pos++]<128)return t;if(t.lo=(t.lo|(127&this.buf[this.pos])<<28)>>>0,t.hi=(t.hi|(127&this.buf[this.pos])>>4)>>>0,this.buf[this.pos++]<128)return t;if(i=0,4<this.len-this.pos){for(;i<5;++i)if(t.hi=(t.hi|(127&this.buf[this.pos])<<7*i+3)>>>0,this.buf[this.pos++]<128)return t}else for(;i<5;++i){if(this.pos>=this.len)throw u(this);if(t.hi=(t.hi|(127&this.buf[this.pos])<<7*i+3)>>>0,this.buf[this.pos++]<128)return t}throw Error("invalid varint encoding")}function v(t,i){return(t[i-4]|t[i-3]<<8|t[i-2]<<16|t[i-1]<<24)>>>0}function y(){if(this.pos+8>this.len)throw u(this,8);return new s(v(this.buf,this.pos+=4),v(this.buf,this.pos+=4))}h.create=a(),h.prototype.A=e.Array.prototype.subarray||e.Array.prototype.slice,h.prototype.uint32=(f=4294967295,function(){if(f=(127&this.buf[this.pos])>>>0,this.buf[this.pos++]<128)return f;if(f=(f|(127&this.buf[this.pos])<<7)>>>0,this.buf[this.pos++]<128)return f;if(f=(f|(127&this.buf[this.pos])<<14)>>>0,this.buf[this.pos++]<128)return f;if(f=(f|(127&this.buf[this.pos])<<21)>>>0,this.buf[this.pos++]<128)return f;if(f=(f|(15&this.buf[this.pos])<<28)>>>0,this.buf[this.pos++]<128)return f;if((this.pos+=5)>this.len)throw this.pos=this.len,u(this,10);return f}),h.prototype.int32=function(){return 0|this.uint32()},h.prototype.sint32=function(){var t=this.uint32();return t>>>1^-(1&t)|0},h.prototype.bool=function(){return 0!==this.uint32()},h.prototype.fixed32=function(){if(this.pos+4>this.len)throw u(this,4);return v(this.buf,this.pos+=4)},h.prototype.sfixed32=function(){if(this.pos+4>this.len)throw u(this,4);return 0|v(this.buf,this.pos+=4)},h.prototype.float=function(){if(this.pos+4>this.len)throw u(this,4);var t=e.float.readFloatLE(this.buf,this.pos);return this.pos+=4,t},h.prototype.double=function(){if(this.pos+8>this.len)throw u(this,4);var t=e.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,t},h.prototype.bytes=function(){var t=this.uint32(),i=this.pos,n=this.pos+t;if(n>this.len)throw u(this,t);return this.pos+=t,Array.isArray(this.buf)?this.buf.slice(i,n):i===n?new this.buf.constructor(0):this.A.call(this.buf,i,n)},h.prototype.string=function(){var t=this.bytes();return o.read(t,0,t.length)},h.prototype.skip=function(t){if("number"==typeof t){if(this.pos+t>this.len)throw u(this,t);this.pos+=t}else do{if(this.pos>=this.len)throw u(this)}while(128&this.buf[this.pos++]);return this},h.prototype.skipType=function(t){switch(t){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;4!=(t=7&this.uint32());)this.skipType(t);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+t+" at offset "+this.pos)}return this},h.O=function(t){r=t,h.create=a(),r.O();var i=e.Long?"toLong":"toNumber";e.merge(h.prototype,{int64:function(){return l.call(this)[i](!1)},uint64:function(){return l.call(this)[i](!0)},sint64:function(){return l.call(this).zzDecode()[i](!1)},fixed64:function(){return y.call(this)[i](!0)},sfixed64:function(){return y.call(this)[i](!1)}})}},function(t,i,n){t.exports=e;var r=n(2);function e(t){if(t)for(var i=Object.keys(t),n=0;n<i.length;++n)this[i[n]]=t[i[n]]}e.create=function(t){return this.$type.create(t)},e.encode=function(t,i){return this.$type.encode(t,i)},e.encodeDelimited=function(t,i){return this.$type.encodeDelimited(t,i)},e.decode=function(t){return this.$type.decode(t)},e.decodeDelimited=function(t){return this.$type.decodeDelimited(t)},e.verify=function(t){return this.$type.verify(t)},e.fromObject=function(t){return this.$type.fromObject(t)},e.toObject=function(t,i){return this.$type.toObject(t,i)},e.prototype.toJSON=function(){return this.$type.toObject(this,r.toJSONOptions)}},function(t,i,n){t.exports=function(t,i){var n=new Array(arguments.length-1),s=0,r=2,o=!0;for(;r<arguments.length;)n[s++]=arguments[r++];return new Promise(function(r,e){n[s]=function(t){if(o)if(o=!1,t)e(t);else{for(var i=new Array(arguments.length-1),n=0;n<i.length;)i[n++]=arguments[n];r.apply(null,i)}};try{t.apply(i||null,n)}catch(t){o&&(o=!1,e(t))}})}},function(module,exports,__webpack_require__){function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(e){}return null}module.exports=inquire},function(t,i,n){i.Service=n(39)},function(t,i,n){t.exports={}},function(t,i,n){t.exports=function(t){for(var i,n=c.codegen(["m","w"],t.name+"$encode")("if(!w)")("w=Writer.create()"),r=t.fieldsArray.slice().sort(c.compareFieldsById),e=0;e<r.length;++e){var s=r[e].resolve(),o=t.S.indexOf(s),u=s.resolvedType instanceof a?"int32":s.type,h=f.basic[u];i="m"+c.safeProp(s.name),s.map?(n("if(%s!=null&&Object.hasOwnProperty.call(m,%j)){",i,s.name)("for(var ks=Object.keys(%s),i=0;i<ks.length;++i){",i)("w.uint32(%i).fork().uint32(%i).%s(ks[i])",(s.id<<3|2)>>>0,8|f.mapKey[s.keyType],s.keyType),void 0===h?n("types[%i].encode(%s[ks[i]],w.uint32(18).fork()).ldelim().ldelim()",o,i):n(".uint32(%i).%s(%s[ks[i]]).ldelim()",16|h,u,i),n("}")("}")):s.repeated?(n("if(%s!=null&&%s.length){",i,i),s.packed&&void 0!==f.packed[u]?n("w.uint32(%i).fork()",(s.id<<3|2)>>>0)("for(var i=0;i<%s.length;++i)",i)("w.%s(%s[i])",u,i)("w.ldelim()"):(n("for(var i=0;i<%s.length;++i)",i),void 0===h?l(n,s,o,i+"[i]"):n("w.uint32(%i).%s(%s[i])",(s.id<<3|h)>>>0,u,i)),n("}")):(s.optional&&n("if(%s!=null&&Object.hasOwnProperty.call(m,%j))",i,s.name),void 0===h?l(n,s,o,i):n("w.uint32(%i).%s(%s)",(s.id<<3|h)>>>0,u,i))}return n("return w")};var a=n(3),f=n(7),c=n(0);function l(t,i,n,r){i.resolvedType.group?t("types[%i].encode(%s,w.uint32(%i)).uint32(%i)",n,r,(i.id<<3|3)>>>0,(i.id<<3|4)>>>0):t("types[%i].encode(%s,w.uint32(%i).fork()).ldelim()",n,r,(i.id<<3|2)>>>0)}},function(t,i,n){t.exports=m;var o=n(6),u=(((m.prototype=Object.create(o.prototype)).constructor=m).className="Type",n(3)),h=n(8),a=n(5),f=n(19),c=n(20),e=n(12),s=n(11),l=n(10),v=n(0),y=n(17),d=n(22),b=n(23),p=n(24),w=n(25);function m(t,i){o.call(this,t,i),this.fields={},this.oneofs=void 0,this.extensions=void 0,this.reserved=void 0,this.group=void 0,this.N=null,this.S=null,this.I=null,this.L=null}function r(t){return t.N=t.S=t.I=null,delete t.encode,delete t.decode,delete t.verify,t}Object.defineProperties(m.prototype,{fieldsById:{get:function(){if(this.N)return this.N;this.N={};for(var t=Object.keys(this.fields),i=0;i<t.length;++i){var n=this.fields[t[i]],r=n.id;if(this.N[r])throw Error("duplicate id "+r+" in "+this);this.N[r]=n}return this.N}},fieldsArray:{get:function(){return this.S||(this.S=v.toArray(this.fields))}},oneofsArray:{get:function(){return this.I||(this.I=v.toArray(this.oneofs))}},ctor:{get:function(){return this.L||(this.ctor=m.generateConstructor(this)())},set:function(t){for(var i=t.prototype,n=(i instanceof e||((t.prototype=new e).constructor=t,v.merge(t.prototype,i)),t.$type=t.prototype.$type=this,v.merge(t,e,!0),this.L=t,0);n<this.fieldsArray.length;++n)this.S[n].resolve();for(var r={},n=0;n<this.oneofsArray.length;++n)r[this.I[n].resolve().name]={get:v.oneOfGetter(this.I[n].oneof),set:v.oneOfSetter(this.I[n].oneof)};n&&Object.defineProperties(t.prototype,r)}}}),m.generateConstructor=function(t){for(var i,n=v.codegen(["p"],t.name),r=0;r<t.fieldsArray.length;++r)(i=t.S[r]).map?n("this%s={}",v.safeProp(i.name)):i.repeated&&n("this%s=[]",v.safeProp(i.name));return n("if(p)for(var ks=Object.keys(p),i=0;i<ks.length;++i)if(p[ks[i]]!=null)")("this[ks[i]]=p[ks[i]]")},m.fromJSON=function(t,i){for(var n=new m(t,i.options),r=(n.extensions=i.extensions,n.reserved=i.reserved,Object.keys(i.fields)),e=0;e<r.length;++e)n.add((void 0!==i.fields[r[e]].keyType?f:a).fromJSON(r[e],i.fields[r[e]]));if(i.oneofs)for(r=Object.keys(i.oneofs),e=0;e<r.length;++e)n.add(h.fromJSON(r[e],i.oneofs[r[e]]));if(i.nested)for(r=Object.keys(i.nested),e=0;e<r.length;++e){var s=i.nested[r[e]];n.add((void 0!==s.id?a:void 0!==s.fields?m:void 0!==s.values?u:void 0!==s.methods?c:o).fromJSON(r[e],s))}return i.extensions&&i.extensions.length&&(n.extensions=i.extensions),i.reserved&&i.reserved.length&&(n.reserved=i.reserved),i.group&&(n.group=!0),i.comment&&(n.comment=i.comment),n},m.prototype.toJSON=function(t){var i=o.prototype.toJSON.call(this,t),n=!!t&&Boolean(t.keepComments);return v.toObject(["options",i&&i.options||void 0,"oneofs",o.arrayToJSON(this.oneofsArray,t),"fields",o.arrayToJSON(this.fieldsArray.filter(function(t){return!t.declaringField}),t)||{},"extensions",this.extensions&&this.extensions.length?this.extensions:void 0,"reserved",this.reserved&&this.reserved.length?this.reserved:void 0,"group",this.group||void 0,"nested",i&&i.nested||void 0,"comment",n?this.comment:void 0])},m.prototype.resolveAll=function(){for(var t=this.fieldsArray,i=0;i<t.length;)t[i++].resolve();for(var n=this.oneofsArray,i=0;i<n.length;)n[i++].resolve();return o.prototype.resolveAll.call(this)},m.prototype.get=function(t){return this.fields[t]||this.oneofs&&this.oneofs[t]||this.nested&&this.nested[t]||null},m.prototype.add=function(t){if(this.get(t.name))throw Error("duplicate name '"+t.name+"' in "+this);if(t instanceof a&&void 0===t.extend){if((this.N||this.fieldsById)[t.id])throw Error("duplicate id "+t.id+" in "+this);if(this.isReservedId(t.id))throw Error("id "+t.id+" is reserved in "+this);if(this.isReservedName(t.name))throw Error("name '"+t.name+"' is reserved in "+this);return t.parent&&t.parent.remove(t),(this.fields[t.name]=t).message=this,t.onAdd(this),r(this)}return t instanceof h?(this.oneofs||(this.oneofs={}),(this.oneofs[t.name]=t).onAdd(this),r(this)):o.prototype.add.call(this,t)},m.prototype.remove=function(t){if(t instanceof a&&void 0===t.extend){if(this.fields&&this.fields[t.name]===t)return delete this.fields[t.name],t.parent=null,t.onRemove(this),r(this);throw Error(t+" is not a member of "+this)}if(t instanceof h){if(this.oneofs&&this.oneofs[t.name]===t)return delete this.oneofs[t.name],t.parent=null,t.onRemove(this),r(this);throw Error(t+" is not a member of "+this)}return o.prototype.remove.call(this,t)},m.prototype.isReservedId=function(t){return o.isReservedId(this.reserved,t)},m.prototype.isReservedName=function(t){return o.isReservedName(this.reserved,t)},m.prototype.create=function(t){return new this.ctor(t)},m.prototype.setup=function(){for(var t=this.fullName,i=[],n=0;n<this.fieldsArray.length;++n)i.push(this.S[n].resolve().resolvedType);this.encode=y(this)({Writer:l,types:i,util:v}),this.decode=d(this)({Reader:s,types:i,util:v}),this.verify=b(this)({types:i,util:v}),this.fromObject=p.fromObject(this)({types:i,util:v}),this.toObject=p.toObject(this)({types:i,util:v});var r,t=w[t];return t&&((r=Object.create(this)).fromObject=this.fromObject,this.fromObject=t.fromObject.bind(r),r.toObject=this.toObject,this.toObject=t.toObject.bind(r)),this},m.prototype.encode=function(t,i){return this.setup().encode(t,i)},m.prototype.encodeDelimited=function(t,i){return this.encode(t,i&&i.len?i.fork():i).ldelim()},m.prototype.decode=function(t,i){return this.setup().decode(t,i)},m.prototype.decodeDelimited=function(t){return t instanceof s||(t=s.create(t)),this.decode(t,t.uint32())},m.prototype.verify=function(t){return this.setup().verify(t)},m.prototype.fromObject=function(t){return this.setup().fromObject(t)},m.prototype.toObject=function(t,i){return this.setup().toObject(t,i)},m.d=function(i){return function(t){v.decorateType(t,i)}}},function(t,i,n){t.exports=s;var o=n(5),r=(((s.prototype=Object.create(o.prototype)).constructor=s).className="MapField",n(7)),u=n(0);function s(t,i,n,r,e,s){if(o.call(this,t,i,r,void 0,void 0,e,s),!u.isString(n))throw TypeError("keyType must be a string");this.keyType=n,this.resolvedKeyType=null,this.map=!0}s.fromJSON=function(t,i){return new s(t,i.id,i.keyType,i.type,i.options,i.comment)},s.prototype.toJSON=function(t){t=!!t&&Boolean(t.keepComments);return u.toObject(["keyType",this.keyType,"type",this.type,"id",this.id,"extend",this.extend,"options",this.options,"comment",t?this.comment:void 0])},s.prototype.resolve=function(){if(this.resolved)return this;if(void 0===r.mapKey[this.keyType])throw Error("invalid key type: "+this.keyType);return o.prototype.resolve.call(this)},s.d=function(n,r,e){return"function"==typeof e?e=u.decorateType(e).name:e&&"object"==typeof e&&(e=u.decorateEnum(e).name),function(t,i){u.decorateType(t.constructor).add(new s(i,n,r,e))}}},function(t,i,n){t.exports=o;var r=n(6),s=(((o.prototype=Object.create(r.prototype)).constructor=o).className="Service",n(21)),u=n(0),h=n(15);function o(t,i){r.call(this,t,i),this.methods={},this.D=null}function e(t){return t.D=null,t}o.fromJSON=function(t,i){var n=new o(t,i.options);if(i.methods)for(var r=Object.keys(i.methods),e=0;e<r.length;++e)n.add(s.fromJSON(r[e],i.methods[r[e]]));return i.nested&&n.addJSON(i.nested),n.comment=i.comment,n},o.prototype.toJSON=function(t){var i=r.prototype.toJSON.call(this,t),n=!!t&&Boolean(t.keepComments);return u.toObject(["options",i&&i.options||void 0,"methods",r.arrayToJSON(this.methodsArray,t)||{},"nested",i&&i.nested||void 0,"comment",n?this.comment:void 0])},Object.defineProperty(o.prototype,"methodsArray",{get:function(){return this.D||(this.D=u.toArray(this.methods))}}),o.prototype.get=function(t){return this.methods[t]||r.prototype.get.call(this,t)},o.prototype.resolveAll=function(){for(var t=this.methodsArray,i=0;i<t.length;++i)t[i].resolve();return r.prototype.resolve.call(this)},o.prototype.add=function(t){if(this.get(t.name))throw Error("duplicate name '"+t.name+"' in "+this);return t instanceof s?e((this.methods[t.name]=t).parent=this):r.prototype.add.call(this,t)},o.prototype.remove=function(t){if(t instanceof s){if(this.methods[t.name]!==t)throw Error(t+" is not a member of "+this);return delete this.methods[t.name],t.parent=null,e(this)}return r.prototype.remove.call(this,t)},o.prototype.create=function(t,i,n){for(var r,e=new h.Service(t,i,n),s=0;s<this.methodsArray.length;++s){var o=u.lcFirst((r=this.D[s]).resolve().name).replace(/[^$\w_]/g,"");e[o]=u.codegen(["r","c"],u.isReserved(o)?o+"_":o)("return this.rpcCall(m,q,s,r,c)")({m:r,q:r.resolvedRequestType.ctor,s:r.resolvedResponseType.ctor})}return e}},function(t,i,n){t.exports=r;var a=n(4),f=(((r.prototype=Object.create(a.prototype)).constructor=r).className="Method",n(0));function r(t,i,n,r,e,s,o,u,h){if(f.isObject(e)?(o=e,e=s=void 0):f.isObject(s)&&(o=s,s=void 0),void 0!==i&&!f.isString(i))throw TypeError("type must be a string");if(!f.isString(n))throw TypeError("requestType must be a string");if(!f.isString(r))throw TypeError("responseType must be a string");a.call(this,t,o),this.type=i||"rpc",this.requestType=n,this.requestStream=!!e||void 0,this.responseType=r,this.responseStream=!!s||void 0,this.resolvedRequestType=null,this.resolvedResponseType=null,this.comment=u,this.parsedOptions=h}r.fromJSON=function(t,i){return new r(t,i.type,i.requestType,i.responseType,i.requestStream,i.responseStream,i.options,i.comment,i.parsedOptions)},r.prototype.toJSON=function(t){t=!!t&&Boolean(t.keepComments);return f.toObject(["type","rpc"!==this.type&&this.type||void 0,"requestType",this.requestType,"requestStream",this.requestStream,"responseType",this.responseType,"responseStream",this.responseStream,"options",this.options,"comment",t?this.comment:void 0,"parsedOptions",this.parsedOptions])},r.prototype.resolve=function(){return this.resolved?this:(this.resolvedRequestType=this.parent.lookupType(this.requestType),this.resolvedResponseType=this.parent.lookupType(this.responseType),a.prototype.resolve.call(this))}},function(t,i,n){t.exports=function(t){var i=a.codegen(["r","l"],t.name+"$decode")("if(!(r instanceof Reader))")("r=Reader.create(r)")("var c=l===undefined?r.len:r.pos+l,m=new this.ctor"+(t.fieldsArray.filter(function(t){return t.map}).length?",k,value":""))("while(r.pos<c){")("var t=r.uint32()");t.group&&i("if((t&7)===4)")("break");i("switch(t>>>3){");for(var n=0;n<t.fieldsArray.length;++n){var r=t.S[n].resolve(),e=r.resolvedType instanceof u?"int32":r.type,s="m"+a.safeProp(r.name);i("case %i:",r.id),r.map?(i("if(%s===util.emptyObject)",s)("%s={}",s)("var c2 = r.uint32()+r.pos"),void 0!==h.defaults[r.keyType]?i("k=%j",h.defaults[r.keyType]):i("k=null"),void 0!==h.defaults[e]?i("value=%j",h.defaults[e]):i("value=null"),i("while(r.pos<c2){")("var tag2=r.uint32()")("switch(tag2>>>3){")("case 1: k=r.%s(); break",r.keyType)("case 2:"),void 0===h.basic[e]?i("value=types[%i].decode(r,r.uint32())",n):i("value=r.%s()",e),i("break")("default:")("r.skipType(tag2&7)")("break")("}")("}"),void 0!==h.long[r.keyType]?i('%s[typeof k==="object"?util.longToHash(k):k]=value',s):i("%s[k]=value",s)):r.repeated?(i("if(!(%s&&%s.length))",s,s)("%s=[]",s),void 0!==h.packed[e]&&i("if((t&7)===2){")("var c2=r.uint32()+r.pos")("while(r.pos<c2)")("%s.push(r.%s())",s,e)("}else"),void 0===h.basic[e]?i(r.resolvedType.group?"%s.push(types[%i].decode(r))":"%s.push(types[%i].decode(r,r.uint32()))",s,n):i("%s.push(r.%s())",s,e)):void 0===h.basic[e]?i(r.resolvedType.group?"%s=types[%i].decode(r)":"%s=types[%i].decode(r,r.uint32())",s,n):i("%s=r.%s()",s,e),i("break")}for(i("default:")("r.skipType(t&7)")("break")("}")("}"),n=0;n<t.S.length;++n){var o=t.S[n];o.required&&i("if(!m.hasOwnProperty(%j))",o.name)("throw util.ProtocolError(%j,{instance:m})","missing required '"+o.name+"'")}return i("return m")};var u=n(3),h=n(7),a=n(0)},function(t,i,n){t.exports=function(t){var i=h.codegen(["m"],t.name+"$verify")('if(typeof m!=="object"||m===null)')("return%j","object expected"),n=t.oneofsArray,r={};n.length&&i("var p={}");for(var e=0;e<t.fieldsArray.length;++e){var s,o=t.S[e].resolve(),u="m"+h.safeProp(o.name);o.optional&&i("if(%s!=null&&m.hasOwnProperty(%j)){",u,o.name),o.map?(i("if(!util.isObject(%s))",u)("return%j",a(o,"object"))("var k=Object.keys(%s)",u)("for(var i=0;i<k.length;++i){"),function(t,i,n){switch(i.keyType){case"int32":case"uint32":case"sint32":case"fixed32":case"sfixed32":t("if(!util.key32Re.test(%s))",n)("return%j",a(i,"integer key"));break;case"int64":case"uint64":case"sint64":case"fixed64":case"sfixed64":t("if(!util.key64Re.test(%s))",n)("return%j",a(i,"integer|Long key"));break;case"bool":t("if(!util.key2Re.test(%s))",n)("return%j",a(i,"boolean key"))}}(i,o,"k[i]"),f(i,o,e,u+"[k[i]]")("}")):o.repeated?(i("if(!Array.isArray(%s))",u)("return%j",a(o,"array"))("for(var i=0;i<%s.length;++i){",u),f(i,o,e,u+"[i]")("}")):(o.partOf&&(s=h.safeProp(o.partOf.name),1===r[o.partOf.name]&&i("if(p%s===1)",s)("return%j",o.partOf.name+": multiple values"),r[o.partOf.name]=1,i("p%s=1",s)),f(i,o,e,u)),o.optional&&i("}")}return i("return null")};var o=n(3),h=n(0);function a(t,i){return t.name+": "+i+(t.repeated&&"array"!==i?"[]":t.map&&"object"!==i?"{k:"+t.keyType+"}":"")+" expected"}function f(t,i,n,r){if(i.resolvedType)if(i.resolvedType instanceof o){t("switch(%s){",r)("default:")("return%j",a(i,"enum value"));for(var e=Object.keys(i.resolvedType.values),s=0;s<e.length;++s)t("case %i:",i.resolvedType.values[e[s]]);t("break")("}")}else t("{")("var e=types[%i].verify(%s);",n,r)("if(e)")("return%j+e",i.name+".")("}");else switch(i.type){case"int32":case"uint32":case"sint32":case"fixed32":case"sfixed32":t("if(!util.isInteger(%s))",r)("return%j",a(i,"integer"));break;case"int64":case"uint64":case"sint64":case"fixed64":case"sfixed64":t("if(!util.isInteger(%s)&&!(%s&&util.isInteger(%s.low)&&util.isInteger(%s.high)))",r,r,r,r)("return%j",a(i,"integer|Long"));break;case"float":case"double":t('if(typeof %s!=="number")',r)("return%j",a(i,"number"));break;case"bool":t('if(typeof %s!=="boolean")',r)("return%j",a(i,"boolean"));break;case"string":t("if(!util.isString(%s))",r)("return%j",a(i,"string"));break;case"bytes":t('if(!(%s&&typeof %s.length==="number"||util.isString(%s)))',r,r,r)("return%j",a(i,"buffer"))}return t}},function(t,i,n){var l=n(3),v=n(0);function o(t,i,n,r){if(i.resolvedType)if(i.resolvedType instanceof l){t("switch(d%s){",r);for(var e=i.resolvedType.values,s=Object.keys(e),o=0;o<s.length;++o)i.repeated&&e[s[o]]===i.typeDefault&&t("default:"),t("case%j:",s[o])("case %i:",e[s[o]])("m%s=%j",r,e[s[o]])("break");t("}")}else t('if(typeof d%s!=="object")',r)("throw TypeError(%j)",i.fullName+": object expected")("m%s=types[%i].fromObject(d%s)",r,n,r);else{var u=!1;switch(i.type){case"double":case"float":t("m%s=Number(d%s)",r,r);break;case"uint32":case"fixed32":t("m%s=d%s>>>0",r,r);break;case"int32":case"sint32":case"sfixed32":t("m%s=d%s|0",r,r);break;case"uint64":u=!0;case"int64":case"sint64":case"fixed64":case"sfixed64":t("if(util.Long)")("(m%s=util.Long.fromValue(d%s)).unsigned=%j",r,r,u)('else if(typeof d%s==="string")',r)("m%s=parseInt(d%s,10)",r,r)('else if(typeof d%s==="number")',r)("m%s=d%s",r,r)('else if(typeof d%s==="object")',r)("m%s=new util.LongBits(d%s.low>>>0,d%s.high>>>0).toNumber(%s)",r,r,r,u?"true":"");break;case"bytes":t('if(typeof d%s==="string")',r)("util.base64.decode(d%s,m%s=util.newBuffer(util.base64.length(d%s)),0)",r,r,r)("else if(d%s.length)",r)("m%s=d%s",r,r);break;case"string":t("m%s=String(d%s)",r,r);break;case"bool":t("m%s=Boolean(d%s)",r,r)}}return t}function y(t,i,n,r){if(i.resolvedType)i.resolvedType instanceof l?t("d%s=o.enums===String?types[%i].values[m%s]:m%s",r,n,r,r):t("d%s=types[%i].toObject(m%s,o)",r,n,r);else{var e=!1;switch(i.type){case"double":case"float":t("d%s=o.json&&!isFinite(m%s)?String(m%s):m%s",r,r,r,r);break;case"uint64":e=!0;case"int64":case"sint64":case"fixed64":case"sfixed64":t('if(typeof m%s==="number")',r)("d%s=o.longs===String?String(m%s):m%s",r,r,r)("else")("d%s=o.longs===String?util.Long.prototype.toString.call(m%s):o.longs===Number?new util.LongBits(m%s.low>>>0,m%s.high>>>0).toNumber(%s):m%s",r,r,r,r,e?"true":"",r);break;case"bytes":t("d%s=o.bytes===String?util.base64.encode(m%s,0,m%s.length):o.bytes===Array?Array.prototype.slice.call(m%s):m%s",r,r,r,r,r);break;default:t("d%s=m%s",r,r)}}return t}i.fromObject=function(t){var i=t.fieldsArray,n=v.codegen(["d"],t.name+"$fromObject")("if(d instanceof this.ctor)")("return d");if(!i.length)return n("return new this.ctor");n("var m=new this.ctor");for(var r=0;r<i.length;++r){var e=i[r].resolve(),s=v.safeProp(e.name);e.map?(n("if(d%s){",s)('if(typeof d%s!=="object")',s)("throw TypeError(%j)",e.fullName+": object expected")("m%s={}",s)("for(var ks=Object.keys(d%s),i=0;i<ks.length;++i){",s),o(n,e,r,s+"[ks[i]]")("}")("}")):e.repeated?(n("if(d%s){",s)("if(!Array.isArray(d%s))",s)("throw TypeError(%j)",e.fullName+": array expected")("m%s=[]",s)("for(var i=0;i<d%s.length;++i){",s),o(n,e,r,s+"[i]")("}")("}")):(e.resolvedType instanceof l||n("if(d%s!=null){",s),o(n,e,r,s),e.resolvedType instanceof l||n("}"))}return n("return m")},i.toObject=function(t){var i=t.fieldsArray.slice().sort(v.compareFieldsById);if(!i.length)return v.codegen()("return {}");for(var n=v.codegen(["m","o"],t.name+"$toObject")("if(!o)")("o={}")("var d={}"),r=[],e=[],s=[],o=0;o<i.length;++o)i[o].partOf||(i[o].resolve().repeated?r:i[o].map?e:s).push(i[o]);if(r.length){for(n("if(o.arrays||o.defaults){"),o=0;o<r.length;++o)n("d%s=[]",v.safeProp(r[o].name));n("}")}if(e.length){for(n("if(o.objects||o.defaults){"),o=0;o<e.length;++o)n("d%s={}",v.safeProp(e[o].name));n("}")}if(s.length){for(n("if(o.defaults){"),o=0;o<s.length;++o){var u,h=s[o],a=v.safeProp(h.name);h.resolvedType instanceof l?n("d%s=o.enums===String?%j:%j",a,h.resolvedType.valuesById[h.typeDefault],h.typeDefault):h.long?n("if(util.Long){")("var n=new util.Long(%i,%i,%j)",h.typeDefault.low,h.typeDefault.high,h.typeDefault.unsigned)("d%s=o.longs===String?n.toString():o.longs===Number?n.toNumber():n",a)("}else")("d%s=o.longs===String?%j:%i",a,h.typeDefault.toString(),h.typeDefault.toNumber()):h.bytes?(u="["+Array.prototype.slice.call(h.typeDefault).join(",")+"]",n("if(o.bytes===String)d%s=%j",a,String.fromCharCode.apply(String,h.typeDefault))("else{")("d%s=%s",a,u)("if(o.bytes!==Array)d%s=util.newBuffer(d%s)",a,a)("}")):n("d%s=%j",a,h.typeDefault)}n("}")}for(var f=!1,o=0;o<i.length;++o){var h=i[o],c=t.S.indexOf(h),a=v.safeProp(h.name);h.map?(f||(f=!0,n("var ks2")),n("if(m%s&&(ks2=Object.keys(m%s)).length){",a,a)("d%s={}",a)("for(var j=0;j<ks2.length;++j){"),y(n,h,c,a+"[ks2[j]]")("}")):h.repeated?(n("if(m%s&&m%s.length){",a,a)("d%s=[]",a)("for(var j=0;j<m%s.length;++j){",a),y(n,h,c,a+"[j]")("}")):(n("if(m%s!=null&&m.hasOwnProperty(%j)){",a,h.name),y(n,h,c,a),h.partOf&&n("if(o.oneofs)")("d%s=%j",v.safeProp(h.partOf.name),h.name)),n("}")}return n("return d")}},function(t,i,n){var o=n(12);i[".google.protobuf.Any"]={fromObject:function(t){if(t&&t["@type"]){var i,n=t["@type"].substring(t["@type"].lastIndexOf("/")+1),n=this.lookup(n);if(n)return-1===(i="."===t["@type"].charAt(0)?t["@type"].substr(1):t["@type"]).indexOf("/")&&(i="/"+i),this.create({type_url:i,value:n.encode(n.fromObject(t)).finish()})}return this.fromObject(t)},toObject:function(t,i){var n,r,e="",s="";return i&&i.json&&t.type_url&&t.value&&(s=t.type_url.substring(t.type_url.lastIndexOf("/")+1),e=t.type_url.substring(0,t.type_url.lastIndexOf("/")+1),(n=this.lookup(s))&&(t=n.decode(t.value))),!(t instanceof this.ctor)&&t instanceof o?(n=t.$type.toObject(t,i),r="."===t.$type.fullName[0]?t.$type.fullName.substr(1):t.$type.fullName,n["@type"]=s=(e=""===e?"type.googleapis.com/":e)+r,n):this.toObject(t,i)}}},function(t,i,n){t.exports=h;var r,v,y,e=n(6),s=(((h.prototype=Object.create(e.prototype)).constructor=h).className="Root",n(5)),o=n(3),u=n(8),d=n(0);function h(t){e.call(this,"",t),this.deferred=[],this.files=[]}function b(){}h.fromJSON=function(t,i){return i=i||new h,t.options&&i.setOptions(t.options),i.addJSON(t.nested)},h.prototype.resolvePath=d.path.resolve,h.prototype.fetch=d.fetch,h.prototype.load=function t(i,s,e){"function"==typeof s&&(e=s,s=void 0);var o=this;if(!e)return d.asPromise(t,o,i,s);var u=e===b;function h(t,i){if(e){var n=e;if(e=null,u)throw t;n(t,i)}}function a(t){var i=t.lastIndexOf("google/protobuf/");if(-1<i){t=t.substring(i);if(t in y)return t}return null}function f(t,i){try{if(d.isString(i)&&"{"===i.charAt(0)&&(i=JSON.parse(i)),d.isString(i)){v.filename=t;var n,r=v(i,o,s),e=0;if(r.imports)for(;e<r.imports.length;++e)(n=a(r.imports[e])||o.resolvePath(t,r.imports[e]))&&c(n);if(r.weakImports)for(e=0;e<r.weakImports.length;++e)(n=a(r.weakImports[e])||o.resolvePath(t,r.weakImports[e]))&&c(n,!0)}else o.setOptions(i.options).addJSON(i.nested)}catch(t){h(t)}u||l||h(null,o)}function c(n,r){if(!(-1<o.files.indexOf(n)))if(o.files.push(n),n in y)u?f(n,y[n]):(++l,setTimeout(function(){--l,f(n,y[n])}));else if(u){var t;try{t=d.fs.readFileSync(n).toString("utf8")}catch(t){return void(r||h(t))}f(n,t)}else++l,o.fetch(n,function(t,i){--l,e&&(t?r?l||h(null,o):h(t):f(n,i))})}var l=0;d.isString(i)&&(i=[i]);for(var n,r=0;r<i.length;++r)(n=o.resolvePath("",i[r]))&&c(n);if(u)return o;l||h(null,o)},h.prototype.loadSync=function(t,i){if(d.isNode)return this.load(t,i,b);throw Error("not supported")},h.prototype.resolveAll=function(){if(this.deferred.length)throw Error("unresolvable extensions: "+this.deferred.map(function(t){return"'extend "+t.extend+"' in "+t.parent.fullName}).join(", "));return e.prototype.resolveAll.call(this)};var a=/^[A-Z]/;function f(t,i){var n,r=i.parent.lookup(i.extend);if(r)return((n=new s(i.fullName,i.id,i.type,i.rule,void 0,i.options)).declaringField=i).extensionField=n,r.add(n),1}h.prototype.j=function(t){if(t instanceof s)void 0===t.extend||t.extensionField||f(0,t)||this.deferred.push(t);else if(t instanceof o)a.test(t.name)&&(t.parent[t.name]=t.values);else if(!(t instanceof u)){if(t instanceof r)for(var i=0;i<this.deferred.length;)f(0,this.deferred[i])?this.deferred.splice(i,1):++i;for(var n=0;n<t.nestedArray.length;++n)this.j(t.k[n]);a.test(t.name)&&(t.parent[t.name]=t)}},h.prototype.T=function(t){var i;if(t instanceof s)void 0!==t.extend&&(t.extensionField?(t.extensionField.parent.remove(t.extensionField),t.extensionField=null):-1<(i=this.deferred.indexOf(t))&&this.deferred.splice(i,1));else if(t instanceof o)a.test(t.name)&&delete t.parent[t.name];else if(t instanceof e){for(var n=0;n<t.nestedArray.length;++n)this.T(t.k[n]);a.test(t.name)&&delete t.parent[t.name]}},h.O=function(t,i,n){r=t,v=i,y=n}},function(t,i,n){t.exports=n(29)},function(t,i,n){!function(s){function e(t,i){for(var n=0;n<i.length;n++){var r=i[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var o=n(47),t=(n(48),function(){function t(){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function");this.F=null,this.P=400,this.C=null,this.U=null,this.B=new Map}var i,n,r;return i=t,(n=[{key:"url",get:function(){return this.F}},{key:"status",get:function(){return this.P}},{key:"responseType",get:function(){return this.C},set:function(t){this.C=t}},{key:"response",get:function(){return this.U}},{key:"open",value:function(t,i){"GET"==t&&(this.F=i)}},{key:"addEventListener",value:function(t,i){var n=this.B.get(t);n||this.B.set(t,n=[]),n.push(i)}},{key:"send",value:function(){var i=this,t=this.F,n=o.createReadStream(t),r=[],e=0;this.U=null,n.on("readable",function(){var t=n.read();null!=t&&(r.push(t),e+=t.length,i.U?i.U=s.concat([i.U,new s(t)],e):i.U=new s(t))}),n.on("end",function(){i.P=200,i.Z("load")}),n.on("error",function(t){i.P=400,i.Z("error",t)})}}])&&e(i.prototype,n),r&&e(i,r),Object.defineProperty(i,"prototype",{writable:!1}),t}());Object.assign(t.prototype,{Z:function(t,i){if(0!=this.B.size){var n=this.B.get(t);if(n)for(var r=0;r<n.length;r++)n[r]&&n[r](i)}}}),i.a=t}.call(this,n(43).Buffer)},function(t,i,n){var r=t.exports=n(30);r.build="light",r.load=function(t,i,n){return(i="function"==typeof i?(n=i,new r.Root):i||new r.Root).load(t,n)},r.loadSync=function(t,i){return(i=i||new r.Root).loadSync(t)},r.encoder=n(17),r.decoder=n(22),r.verifier=n(23),r.converter=n(24),r.ReflectionObject=n(4),r.Namespace=n(6),r.Root=n(26),r.Enum=n(3),r.Type=n(18),r.Field=n(5),r.OneOf=n(8),r.MapField=n(19),r.Service=n(20),r.Method=n(21),r.Message=n(12),r.wrappers=n(25),r.types=n(7),r.util=n(0),r.ReflectionObject.O(r.Root),r.Namespace.O(r.Type,r.Service,r.Enum),r.Root.O(r.Type),r.Field.O(r.Type)},function(t,i,n){var r=i;function e(){r.util.O(),r.Writer.O(r.BufferWriter),r.Reader.O(r.BufferReader)}r.build="minimal",r.Writer=n(10),r.BufferWriter=n(37),r.Reader=n(11),r.BufferReader=n(38),r.util=n(2),r.rpc=n(15),r.roots=n(16),r.configure=e,e()},function(t,i,n){i.length=function(t){var i=t.length;if(!i)return 0;for(var n=0;1<--i%4&&"="===t.charAt(i);)++n;return Math.ceil(3*t.length)/4-n};for(var a=new Array(64),h=new Array(123),r=0;r<64;)h[a[r]=r<26?r+65:r<52?r+71:r<62?r-4:r-59|43]=r++;i.encode=function(t,i,n){for(var r,e=null,s=[],o=0,u=0;i<n;){var h=t[i++];switch(u){case 0:s[o++]=a[h>>2],r=(3&h)<<4,u=1;break;case 1:s[o++]=a[r|h>>4],r=(15&h)<<2,u=2;break;case 2:s[o++]=a[r|h>>6],s[o++]=a[63&h],u=0}8191<o&&((e=e||[]).push(String.fromCharCode.apply(String,s)),o=0)}return u&&(s[o++]=a[r],s[o++]=61,1===u&&(s[o++]=61)),e?(o&&e.push(String.fromCharCode.apply(String,s.slice(0,o))),e.join("")):String.fromCharCode.apply(String,s.slice(0,o))};var f="invalid encoding";i.decode=function(t,i,n){for(var r,e=n,s=0,o=0;o<t.length;){var u=t.charCodeAt(o++);if(61===u&&1<s)break;if(void 0===(u=h[u]))throw Error(f);switch(s){case 0:r=u,s=1;break;case 1:i[n++]=r<<2|(48&u)>>4,r=u,s=2;break;case 2:i[n++]=(15&r)<<4|(60&u)>>2,r=u,s=3;break;case 3:i[n++]=(3&r)<<6|u,s=0}}if(1===s)throw Error(f);return n-e},i.test=function(t){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(t)}},function(t,i,n){function r(){this.B={}}(t.exports=r).prototype.on=function(t,i,n){return(this.B[t]||(this.B[t]=[])).push({fn:i,ctx:n||this}),this},r.prototype.off=function(t,i){if(void 0===t)this.B={};else if(void 0===i)this.B[t]=[];else for(var n=this.B[t],r=0;r<n.length;)n[r].fn===i?n.splice(r,1):++r;return this},r.prototype.emit=function(t){var i=this.B[t];if(i){for(var n=[],r=1;r<arguments.length;)n.push(arguments[r++]);for(r=0;r<i.length;)i[r].fn.apply(i[r++].ctx,n)}return this}},function(t,i,n){function r(t){function i(t,i,n,r){var e=i<0?1:0;0===(i=e?-i:i)?t(0<1/i?0:2147483648,n,r):isNaN(i)?t(2143289344,n,r):t(34028234663852886e22<i?(e<<31|2139095040)>>>0:i<11754943508222875e-54?(e<<31|Math.round(i/1401298464324817e-60))>>>0:(e<<31|(t=Math.floor(Math.log(i)/Math.LN2))+127<<23|8388607&Math.round(i*Math.pow(2,-t)*8388608))>>>0,n,r)}function n(t,i,n){t=t(i,n),i=2*(t>>31)+1,n=t>>>23&255,t&=8388607;return 255==n?t?NaN:1/0*i:0==n?1401298464324817e-60*i*t:i*Math.pow(2,n-150)*(8388608+t)}function r(t,i,n){u[0]=t,i[n]=h[0],i[n+1]=h[1],i[n+2]=h[2],i[n+3]=h[3]}function e(t,i,n){u[0]=t,i[n]=h[3],i[n+1]=h[2],i[n+2]=h[1],i[n+3]=h[0]}function s(t,i){return h[0]=t[i],h[1]=t[i+1],h[2]=t[i+2],h[3]=t[i+3],u[0]}function o(t,i){return h[3]=t[i],h[2]=t[i+1],h[1]=t[i+2],h[0]=t[i+3],u[0]}var u,h,a,f,c;function l(t,i,n,r,e,s){var o,u,h=r<0?1:0;0===(r=h?-r:r)?(t(0,e,s+i),t(0<1/r?0:2147483648,e,s+n)):isNaN(r)?(t(0,e,s+i),t(2146959360,e,s+n)):17976931348623157e292<r?(t(0,e,s+i),t((h<<31|2146435072)>>>0,e,s+n)):r<22250738585072014e-324?(t((o=r/5e-324)>>>0,e,s+i),t((h<<31|o/4294967296)>>>0,e,s+n)):(1024===(u=Math.floor(Math.log(r)/Math.LN2))&&(u=1023),t(4503599627370496*(o=r*Math.pow(2,-u))>>>0,e,s+i),t((h<<31|u+1023<<20|1048576*o&1048575)>>>0,e,s+n))}function v(t,i,n,r,e){i=t(r,e+i),t=t(r,e+n),r=2*(t>>31)+1,e=t>>>20&2047,n=4294967296*(1048575&t)+i;return 2047==e?n?NaN:1/0*r:0==e?5e-324*r*n:r*Math.pow(2,e-1075)*(n+4503599627370496)}function y(t,i,n){a[0]=t,i[n]=f[0],i[n+1]=f[1],i[n+2]=f[2],i[n+3]=f[3],i[n+4]=f[4],i[n+5]=f[5],i[n+6]=f[6],i[n+7]=f[7]}function d(t,i,n){a[0]=t,i[n]=f[7],i[n+1]=f[6],i[n+2]=f[5],i[n+3]=f[4],i[n+4]=f[3],i[n+5]=f[2],i[n+6]=f[1],i[n+7]=f[0]}function b(t,i){return f[0]=t[i],f[1]=t[i+1],f[2]=t[i+2],f[3]=t[i+3],f[4]=t[i+4],f[5]=t[i+5],f[6]=t[i+6],f[7]=t[i+7],a[0]}function p(t,i){return f[7]=t[i],f[6]=t[i+1],f[5]=t[i+2],f[4]=t[i+3],f[3]=t[i+4],f[2]=t[i+5],f[1]=t[i+6],f[0]=t[i+7],a[0]}return"undefined"!=typeof Float32Array?(u=new Float32Array([-0]),h=new Uint8Array(u.buffer),c=128===h[3],t.writeFloatLE=c?r:e,t.writeFloatBE=c?e:r,t.readFloatLE=c?s:o,t.readFloatBE=c?o:s):(t.writeFloatLE=i.bind(null,w),t.writeFloatBE=i.bind(null,m),t.readFloatLE=n.bind(null,_),t.readFloatBE=n.bind(null,x)),"undefined"!=typeof Float64Array?(a=new Float64Array([-0]),f=new Uint8Array(a.buffer),c=128===f[7],t.writeDoubleLE=c?y:d,t.writeDoubleBE=c?d:y,t.readDoubleLE=c?b:p,t.readDoubleBE=c?p:b):(t.writeDoubleLE=l.bind(null,w,0,4),t.writeDoubleBE=l.bind(null,m,4,0),t.readDoubleLE=v.bind(null,_,0,4),t.readDoubleBE=v.bind(null,x,4,0)),t}function w(t,i,n){i[n]=255&t,i[n+1]=t>>>8&255,i[n+2]=t>>>16&255,i[n+3]=t>>>24}function m(t,i,n){i[n]=t>>>24,i[n+1]=t>>>16&255,i[n+2]=t>>>8&255,i[n+3]=255&t}function _(t,i){return(t[i]|t[i+1]<<8|t[i+2]<<16|t[i+3]<<24)>>>0}function x(t,i){return(t[i]<<24|t[i+1]<<16|t[i+2]<<8|t[i+3])>>>0}t.exports=r(r)},function(t,i,n){i.length=function(t){for(var i,n=0,r=0;r<t.length;++r)(i=t.charCodeAt(r))<128?n+=1:i<2048?n+=2:55296==(64512&i)&&56320==(64512&t.charCodeAt(r+1))?(++r,n+=4):n+=3;return n},i.read=function(t,i,n){if(n-i<1)return"";for(var r,e=null,s=[],o=0;i<n;)(r=t[i++])<128?s[o++]=r:191<r&&r<224?s[o++]=(31&r)<<6|63&t[i++]:239<r&&r<365?(r=((7&r)<<18|(63&t[i++])<<12|(63&t[i++])<<6|63&t[i++])-65536,s[o++]=55296+(r>>10),s[o++]=56320+(1023&r)):s[o++]=(15&r)<<12|(63&t[i++])<<6|63&t[i++],8191<o&&((e=e||[]).push(String.fromCharCode.apply(String,s)),o=0);return e?(o&&e.push(String.fromCharCode.apply(String,s.slice(0,o))),e.join("")):String.fromCharCode.apply(String,s.slice(0,o))},i.write=function(t,i,n){for(var r,e,s=n,o=0;o<t.length;++o)(r=t.charCodeAt(o))<128?i[n++]=r:(r<2048?i[n++]=r>>6|192:(55296==(64512&r)&&56320==(64512&(e=t.charCodeAt(o+1)))?(++o,i[n++]=(r=65536+((1023&r)<<10)+(1023&e))>>18|240,i[n++]=r>>12&63|128):i[n++]=r>>12|224,i[n++]=r>>6&63|128),i[n++]=63&r|128);return n-s}},function(t,i,n){t.exports=function(i,n,t){var r=t||8192,e=r>>>1,s=null,o=r;return function(t){if(t<1||e<t)return i(t);r<o+t&&(s=i(r),o=0);t=n.call(s,o,o+=t);return 7&o&&(o=1+(7|o)),t}}},function(t,i,n){t.exports=e;var r=n(2);function e(t,i){this.lo=t>>>0,this.hi=i>>>0}var s=e.zero=new e(0,0),o=(s.toNumber=function(){return 0},s.zzEncode=s.zzDecode=function(){return this},s.length=function(){return 1},e.zeroHash="\0\0\0\0\0\0\0\0",e.fromNumber=function(t){if(0===t)return s;var i=t<0,n=(t=i?-t:t)>>>0,t=(t-n)/4294967296>>>0;return i&&(t=~t>>>0,n=~n>>>0,4294967295<++n&&(n=0,4294967295<++t&&(t=0))),new e(n,t)},e.from=function(t){if("number"==typeof t)return e.fromNumber(t);if(r.isString(t)){if(!r.Long)return e.fromNumber(parseInt(t,10));t=r.Long.fromString(t)}return t.low||t.high?new e(t.low>>>0,t.high>>>0):s},e.prototype.toNumber=function(t){var i;return!t&&this.hi>>>31?(t=1+~this.lo>>>0,i=~this.hi>>>0,-(t+4294967296*(i=t?i:i+1>>>0))):this.lo+4294967296*this.hi},e.prototype.toLong=function(t){return r.Long?new r.Long(0|this.lo,0|this.hi,Boolean(t)):{low:0|this.lo,high:0|this.hi,unsigned:Boolean(t)}},String.prototype.charCodeAt);e.fromHash=function(t){return"\0\0\0\0\0\0\0\0"===t?s:new e((o.call(t,0)|o.call(t,1)<<8|o.call(t,2)<<16|o.call(t,3)<<24)>>>0,(o.call(t,4)|o.call(t,5)<<8|o.call(t,6)<<16|o.call(t,7)<<24)>>>0)},e.prototype.toHash=function(){return String.fromCharCode(255&this.lo,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,255&this.hi,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},e.prototype.zzEncode=function(){var t=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^t)>>>0,this.lo=(this.lo<<1^t)>>>0,this},e.prototype.zzDecode=function(){var t=-(1&this.lo);return this.lo=((this.lo>>>1|this.hi<<31)^t)>>>0,this.hi=(this.hi>>>1^t)>>>0,this},e.prototype.length=function(){var t=this.lo,i=(this.lo>>>28|this.hi<<4)>>>0,n=this.hi>>>24;return 0==n?0==i?t<16384?t<128?1:2:t<2097152?3:4:i<16384?i<128?5:6:i<2097152?7:8:n<128?9:10}},function(t,i,n){t.exports=s;var r=n(10),e=((s.prototype=Object.create(r.prototype)).constructor=s,n(2));function s(){r.call(this)}function o(t,i,n){t.length<40?e.utf8.write(t,i,n):i.utf8Write?i.utf8Write(t,n):i.write(t,n)}s.O=function(){s.alloc=e._,s.writeBytesBuffer=e.Buffer&&e.Buffer.prototype instanceof Uint8Array&&"set"===e.Buffer.prototype.set.name?function(t,i,n){i.set(t,n)}:function(t,i,n){if(t.copy)t.copy(i,n,0,t.length);else for(var r=0;r<t.length;)i[n++]=t[r++]}},s.prototype.bytes=function(t){var i=(t=e.isString(t)?e.v(t,"base64"):t).length>>>0;return this.uint32(i),i&&this.R(s.writeBytesBuffer,i,t),this},s.prototype.string=function(t){var i=e.Buffer.byteLength(t);return this.uint32(i),i&&this.R(o,i,t),this},s.O()},function(t,i,n){t.exports=s;var r=n(11),e=((s.prototype=Object.create(r.prototype)).constructor=s,n(2));function s(t){r.call(this,t)}s.O=function(){e.Buffer&&(s.prototype.A=e.Buffer.prototype.slice)},s.prototype.string=function(){var t=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+t,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+t,this.len))},s.O()},function(t,i,n){t.exports=r;var u=n(2);function r(t,i,n){if("function"!=typeof t)throw TypeError("rpcImpl must be a function");u.EventEmitter.call(this),this.rpcImpl=t,this.requestDelimited=Boolean(i),this.responseDelimited=Boolean(n)}((r.prototype=Object.create(u.EventEmitter.prototype)).constructor=r).prototype.rpcCall=function t(n,i,r,e,s){if(!e)throw TypeError("request must be specified");var o=this;if(!s)return u.asPromise(t,o,n,i,r,e);if(o.rpcImpl)try{return o.rpcImpl(n,i[o.requestDelimited?"encodeDelimited":"encode"](e).finish(),function(t,i){if(t)return o.emit("error",t,n),s(t);if(null!==i){if(!(i instanceof r))try{i=r[o.responseDelimited?"decodeDelimited":"decode"](i)}catch(t){return o.emit("error",t,n),s(t)}return o.emit("data",i,n),s(null,i)}o.end(!0)})}catch(t){return o.emit("error",t,n),void setTimeout(function(){s(t)},0)}else setTimeout(function(){s(Error("already ended"))},0)},r.prototype.end=function(t){return this.rpcImpl&&(t||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this}},function(t,i,n){function r(i,n){"string"==typeof i&&(n=i,i=void 0);var h=[];function a(t){if("string"!=typeof t){var i="return "+(i=f());if(t){for(var n=Object.keys(t),r=new Array(n.length+1),e=new Array(n.length),s=0;s<n.length;)r[s]=n[s],e[s]=t[n[s++]];return r[s]=i,Function.apply(null,r).apply(null,e)}return Function(i)()}for(var o=new Array(arguments.length-1),u=0;u<o.length;)o[u]=arguments[++u];if(u=0,t=t.replace(/%([%dfijs])/g,function(t,i){var n=o[u++];switch(i){case"d":case"f":return String(Number(n));case"i":return String(Math.floor(n));case"j":return JSON.stringify(n);case"s":return String(n)}return"%"}),u!==o.length)throw Error("parameter count mismatch");return h.push(t),a}function f(t){return"function "+(t||n||"")+"("+(i&&i.join(",")||"")+"){\n  "+h.join("\n  ")+"\n}"}return a.toString=f,a}(t.exports=r).verbose=!1},function(t,i,n){t.exports=u;var s=n(13),o=n(14)("fs");function u(n,r,e){return r="function"==typeof r?(e=r,{}):r||{},e?!r.xhr&&o&&o.readFile?o.readFile(n,function(t,i){return t&&"undefined"!=typeof XMLHttpRequest?u.xhr(n,r,e):t?e(t):e(null,r.binary?i:i.toString("utf8"))}):u.xhr(n,r,e):s(u,this,n,r)}u.xhr=function(t,n,r){var e=new XMLHttpRequest;e.onreadystatechange=function(){if(4===e.readyState){if(0!==e.status&&200!==e.status)return r(Error("status "+e.status));if(n.binary){if(!(t=e.response))for(var t=[],i=0;i<e.responseText.length;++i)t.push(255&e.responseText.charCodeAt(i));return r(null,"undefined"!=typeof Uint8Array?new Uint8Array(t):t)}return r(null,e.responseText)}},n.binary&&("overrideMimeType"in e&&e.overrideMimeType("text/plain; charset=x-user-defined"),e.responseType="arraybuffer"),e.open("GET",t),e.send()}},function(t,i,n){var e=i.isAbsolute=function(t){return/^(?:\/|\w+:)/.test(t)},r=i.normalize=function(t){var i=(t=t.replace(/\\/g,"/").replace(/\/{2,}/g,"/")).split("/"),n=e(t),t="";n&&(t=i.shift()+"/");for(var r=0;r<i.length;)".."===i[r]?0<r&&".."!==i[r-1]?i.splice(--r,2):n?i.splice(r,1):++r:"."===i[r]?i.splice(r,1):++r;return t+i.join("/")};i.resolve=function(t,i,n){return n||(i=r(i)),!e(i)&&(t=(t=n?t:r(t)).replace(/(?:\/|^)[^/]+$/,"")).length?r(t+"/"+i):i}},function(t,N,I){!function(t){var j=I(44),s=I(45),u=I(46);function n(){return c.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function h(t,i){if(n()<i)throw new RangeError("Invalid typed array length");return c.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(i)).__proto__=c.prototype:(t=null===t?new c(i):t).length=i,t}function c(t,i,n){if(!(c.TYPED_ARRAY_SUPPORT||this instanceof c))return new c(t,i,n);if("number"!=typeof t)return r(this,t,i,n);if("string"==typeof i)throw new Error("If encoding is specified then the first argument must be a string");return o(this,t)}function r(t,i,n,r){if("number"==typeof i)throw new TypeError('"value" argument must not be a number');if("undefined"!=typeof ArrayBuffer&&i instanceof ArrayBuffer){var e=t,s=i,o=n;if(s.byteLength,o<0||s.byteLength<o)throw new RangeError("'offset' is out of bounds");if(s.byteLength<o+(r||0))throw new RangeError("'length' is out of bounds");return s=void 0===o&&void 0===r?new Uint8Array(s):void 0===r?new Uint8Array(s,o):new Uint8Array(s,o,r),c.TYPED_ARRAY_SUPPORT?(e=s).__proto__=c.prototype:e=a(e,s),e}if("string"!=typeof i){o=t,r=i;if(c.isBuffer(r))return s=0|f(r.length),0===(o=h(o,s)).length||r.copy(o,0,0,s),o;if(r){if("undefined"!=typeof ArrayBuffer&&r.buffer instanceof ArrayBuffer||"length"in r)return"number"!=typeof r.length||function(t){return t!=t}(r.length)?h(o,0):a(o,r);if("Buffer"===r.type&&u(r.data))return a(o,r.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}e=t,r=i,t=n;if(!c.isEncoding(t="string"==typeof t&&""!==t?t:"utf8"))throw new TypeError('"encoding" must be a valid string encoding');i=0|l(r,t);return e=(r=(e=h(e,i)).write(r,t))!==i?e.slice(0,r):e}function e(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function o(t,i){if(e(i),t=h(t,i<0?0:0|f(i)),!c.TYPED_ARRAY_SUPPORT)for(var n=0;n<i;++n)t[n]=0;return t}function a(t,i){var n=i.length<0?0:0|f(i.length);t=h(t,n);for(var r=0;r<n;r+=1)t[r]=255&i[r];return t}function f(t){if(t>=n())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+n().toString(16)+" bytes");return 0|t}function l(t,i){if(c.isBuffer(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;var n=(t="string"!=typeof t?""+t:t).length;if(0===n)return 0;for(var r=!1;;)switch(i){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return R(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return A(t).length;default:if(r)return R(t).length;i=(""+i).toLowerCase(),r=!0}}function i(t,i,n){var r,e=!1;if((i=void 0===i||i<0?0:i)>this.length)return"";if((n=void 0===n||n>this.length?this.length:n)<=0)return"";if((n>>>=0)<=(i>>>=0))return"";for(t=t||"utf8";;)switch(t){case"hex":var s=this,o=i,u=n,h=s.length;(!u||u<0||h<u)&&(u=h);for(var a="",f=o=!o||o<0?0:o;f<u;++f)a+=function(t){return t<16?"0"+t.toString(16):t.toString(16)}(s[f]);return a;case"utf8":case"utf-8":return E(this,i,n);case"ascii":var c=this,h=i,l=n,v="";l=Math.min(c.length,l);for(var y=h;y<l;++y)v+=String.fromCharCode(127&c[y]);return v;case"latin1":case"binary":var d=this,o=i,b=n,p="";b=Math.min(d.length,b);for(var w=o;w<b;++w)p+=String.fromCharCode(d[w]);return p;case"base64":return m=this,r=n,0===(_=i)&&r===m.length?j.fromByteArray(m):j.fromByteArray(m.slice(_,r));case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":for(var m=i,_=n,x=this.slice(m,_),g="",O=0;O<x.length;O+=2)g+=String.fromCharCode(x[O]+256*x[O+1]);return g;default:if(e)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),e=!0}}function v(t,i,n){var r=t[i];t[i]=t[n],t[n]=r}function y(t,i,n,r,e){if(0===t.length)return-1;if("string"==typeof n?(r=n,n=0):2147483647<n?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,(n=(n=isNaN(n)?e?0:t.length-1:n)<0?t.length+n:n)>=t.length){if(e)return-1;n=t.length-1}else if(n<0){if(!e)return-1;n=0}if("string"==typeof i&&(i=c.from(i,r)),c.isBuffer(i))return 0===i.length?-1:d(t,i,n,r,e);if("number"==typeof i)return i&=255,c.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?(e?Uint8Array.prototype.indexOf:Uint8Array.prototype.lastIndexOf).call(t,i,n):d(t,[i],n,r,e);throw new TypeError("val must be string, number or Buffer")}function d(t,i,n,r,e){var s=1,o=t.length,u=i.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(t.length<2||i.length<2)return-1;o/=s=2,u/=2,n/=2}function h(t,i){return 1===s?t[i]:t.readUInt16BE(i*s)}if(e)for(var a=-1,f=n;f<o;f++)if(h(t,f)===h(i,-1===a?0:f-a)){if(f-(a=-1===a?f:a)+1===u)return a*s}else-1!==a&&(f-=f-a),a=-1;else for(f=n=o<n+u?o-u:n;0<=f;f--){for(var c=!0,l=0;l<u;l++)if(h(t,f+l)!==h(i,l)){c=!1;break}if(c)return f}return-1}function b(t,i,n,r){return S(function(t){for(var i=[],n=0;n<t.length;++n)i.push(255&t.charCodeAt(n));return i}(i),t,n,r)}function p(t,i,n,r){return S(function(t,i){for(var n,r,e=[],s=0;s<t.length&&!((i-=2)<0);++s)r=t.charCodeAt(s),n=r>>8,r=r%256,e.push(r),e.push(n);return e}(i,t.length-n),t,n,r)}function E(t,i,n){n=Math.min(t.length,n);for(var r=[],e=i;e<n;){var s,o,u,h,a=t[e],f=null,c=239<a?4:223<a?3:191<a?2:1;if(e+c<=n)switch(c){case 1:a<128&&(f=a);break;case 2:128==(192&(s=t[e+1]))&&127<(h=(31&a)<<6|63&s)&&(f=h);break;case 3:s=t[e+1],o=t[e+2],128==(192&s)&&128==(192&o)&&2047<(h=(15&a)<<12|(63&s)<<6|63&o)&&(h<55296||57343<h)&&(f=h);break;case 4:s=t[e+1],o=t[e+2],u=t[e+3],128==(192&s)&&128==(192&o)&&128==(192&u)&&65535<(h=(15&a)<<18|(63&s)<<12|(63&o)<<6|63&u)&&h<1114112&&(f=h)}null===f?(f=65533,c=1):65535<f&&(f-=65536,r.push(f>>>10&1023|55296),f=56320|1023&f),r.push(f),e+=c}var l=r,v=l.length;if(v<=w)return String.fromCharCode.apply(String,l);for(var y="",d=0;d<v;)y+=String.fromCharCode.apply(String,l.slice(d,d+=w));return y}N.Buffer=c,N.SlowBuffer=function(t){+t!=t&&(t=0);return c.alloc(+t)},N.INSPECT_MAX_BYTES=50,c.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:function(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(t){return!1}}(),N.kMaxLength=n(),c.poolSize=8192,c.G=function(t){return t.__proto__=c.prototype,t},c.from=function(t,i,n){return r(null,t,i,n)},c.TYPED_ARRAY_SUPPORT&&(c.prototype.__proto__=Uint8Array.prototype,c.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&c[Symbol.species]===c&&Object.defineProperty(c,Symbol.species,{value:null,configurable:!0})),c.alloc=function(t,i,n){return r=null,i=i,n=n,e(t=t),!(t<=0)&&void 0!==i?"string"==typeof n?h(r,t).fill(i,n):h(r,t).fill(i):h(r,t);var r},c.allocUnsafe=function(t){return o(null,t)},c.allocUnsafeSlow=function(t){return o(null,t)},c.isBuffer=function(t){return!(null==t||!t.W)},c.compare=function(t,i){if(!c.isBuffer(t)||!c.isBuffer(i))throw new TypeError("Arguments must be Buffers");if(t===i)return 0;for(var n=t.length,r=i.length,e=0,s=Math.min(n,r);e<s;++e)if(t[e]!==i[e]){n=t[e],r=i[e];break}return n<r?-1:r<n?1:0},c.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(t,i){if(!u(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return c.alloc(0);if(void 0===i)for(e=i=0;e<t.length;++e)i+=t[e].length;for(var n=c.allocUnsafe(i),r=0,e=0;e<t.length;++e){var s=t[e];if(!c.isBuffer(s))throw new TypeError('"list" argument must be an Array of Buffers');s.copy(n,r),r+=s.length}return n},c.byteLength=l,c.prototype.W=!0,c.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var i=0;i<t;i+=2)v(this,i,i+1);return this},c.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var i=0;i<t;i+=4)v(this,i,i+3),v(this,i+1,i+2);return this},c.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var i=0;i<t;i+=8)v(this,i,i+7),v(this,i+1,i+6),v(this,i+2,i+5),v(this,i+3,i+4);return this},c.prototype.toString=function(){var t=0|this.length;return 0==t?"":0===arguments.length?E(this,0,t):i.apply(this,arguments)},c.prototype.equals=function(t){if(c.isBuffer(t))return this===t||0===c.compare(this,t);throw new TypeError("Argument must be a Buffer")},c.prototype.inspect=function(){var t="",i=N.INSPECT_MAX_BYTES;return 0<this.length&&(t=this.toString("hex",0,i).match(/.{2}/g).join(" "),this.length>i&&(t+=" ... ")),"<Buffer "+t+">"},c.prototype.compare=function(t,i,n,r,e){if(!c.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===n&&(n=t?t.length:0),void 0===r&&(r=0),void 0===e&&(e=this.length),(i=void 0===i?0:i)<0||n>t.length||r<0||e>this.length)throw new RangeError("out of range index");if(e<=r&&n<=i)return 0;if(e<=r)return-1;if(n<=i)return 1;if(this===t)return 0;for(var s=(e>>>=0)-(r>>>=0),o=(n>>>=0)-(i>>>=0),u=Math.min(s,o),h=this.slice(r,e),a=t.slice(i,n),f=0;f<u;++f)if(h[f]!==a[f]){s=h[f],o=a[f];break}return s<o?-1:o<s?1:0},c.prototype.includes=function(t,i,n){return-1!==this.indexOf(t,i,n)},c.prototype.indexOf=function(t,i,n){return y(this,t,i,n,!0)},c.prototype.lastIndexOf=function(t,i,n){return y(this,t,i,n,!1)},c.prototype.write=function(t,i,n,r){if(void 0===i)r="utf8",n=this.length,i=0;else if(void 0===n&&"string"==typeof i)r=i,n=this.length,i=0;else{if(!isFinite(i))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");i|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var e=this.length-i;if((void 0===n||e<n)&&(n=e),0<t.length&&(n<0||i<0)||i>this.length)throw new RangeError("Attempt to write outside buffer bounds");r=r||"utf8";for(var s,o,u,h=!1;;)switch(r){case"hex":var a=this,f=t,c=i,l=n,v=(c=Number(c)||0,a.length-c);if((!l||v<(l=Number(l)))&&(l=v),(v=f.length)%2!=0)throw new TypeError("Invalid hex string");v/2<l&&(l=v/2);for(var y=0;y<l;++y){var d=parseInt(f.substr(2*y,2),16);if(isNaN(d))return y;a[c+y]=d}return y;case"utf8":case"utf-8":return v=i,u=n,S(R(t,(o=this).length-v),o,v,u);case"ascii":return b(this,t,i,n);case"latin1":case"binary":return b(this,t,i,n);case"base64":return o=this,u=i,s=n,S(A(t),o,u,s);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return p(this,t,i,n);default:if(h)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),h=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this.V||this,0)}};var w=4096;function m(t,i,n){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(n<t+i)throw new RangeError("Trying to access beyond buffer length")}function _(t,i,n,r,e,s){if(!c.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e<i||i<s)throw new RangeError('"value" argument is out of bounds');if(n+r>t.length)throw new RangeError("Index out of range")}function x(t,i,n,r){i<0&&(i=65535+i+1);for(var e=0,s=Math.min(t.length-n,2);e<s;++e)t[n+e]=(i&255<<8*(r?e:1-e))>>>8*(r?e:1-e)}function g(t,i,n,r){i<0&&(i=4294967295+i+1);for(var e=0,s=Math.min(t.length-n,4);e<s;++e)t[n+e]=i>>>8*(r?e:3-e)&255}function O(t,i,n,r){if(n+r>t.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function T(t,i,n,r,e){return e||O(t,0,n,4),s.write(t,i,n,r,23,4),n+4}function M(t,i,n,r,e){return e||O(t,0,n,8),s.write(t,i,n,r,52,8),n+8}c.prototype.slice=function(t,i){var n=this.length;if((t=~~t)<0?(t+=n)<0&&(t=0):n<t&&(t=n),(i=void 0===i?n:~~i)<0?(i+=n)<0&&(i=0):n<i&&(i=n),i<t&&(i=t),c.TYPED_ARRAY_SUPPORT)(e=this.subarray(t,i)).__proto__=c.prototype;else for(var r=i-t,e=new c(r,void 0),s=0;s<r;++s)e[s]=this[s+t];return e},c.prototype.readUIntLE=function(t,i,n){t|=0,i|=0,n||m(t,i,this.length);for(var r=this[t],e=1,s=0;++s<i&&(e*=256);)r+=this[t+s]*e;return r},c.prototype.readUIntBE=function(t,i,n){t|=0,i|=0,n||m(t,i,this.length);for(var r=this[t+--i],e=1;0<i&&(e*=256);)r+=this[t+--i]*e;return r},c.prototype.readUInt8=function(t,i){return i||m(t,1,this.length),this[t]},c.prototype.readUInt16LE=function(t,i){return i||m(t,2,this.length),this[t]|this[t+1]<<8},c.prototype.readUInt16BE=function(t,i){return i||m(t,2,this.length),this[t]<<8|this[t+1]},c.prototype.readUInt32LE=function(t,i){return i||m(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},c.prototype.readUInt32BE=function(t,i){return i||m(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},c.prototype.readIntLE=function(t,i,n){t|=0,i|=0,n||m(t,i,this.length);for(var r=this[t],e=1,s=0;++s<i&&(e*=256);)r+=this[t+s]*e;return(e*=128)<=r&&(r-=Math.pow(2,8*i)),r},c.prototype.readIntBE=function(t,i,n){t|=0,i|=0,n||m(t,i,this.length);for(var r=i,e=1,s=this[t+--r];0<r&&(e*=256);)s+=this[t+--r]*e;return(e*=128)<=s&&(s-=Math.pow(2,8*i)),s},c.prototype.readInt8=function(t,i){return i||m(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},c.prototype.readInt16LE=function(t,i){i||m(t,2,this.length);i=this[t]|this[t+1]<<8;return 32768&i?4294901760|i:i},c.prototype.readInt16BE=function(t,i){i||m(t,2,this.length);i=this[t+1]|this[t]<<8;return 32768&i?4294901760|i:i},c.prototype.readInt32LE=function(t,i){return i||m(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},c.prototype.readInt32BE=function(t,i){return i||m(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},c.prototype.readFloatLE=function(t,i){return i||m(t,4,this.length),s.read(this,t,!0,23,4)},c.prototype.readFloatBE=function(t,i){return i||m(t,4,this.length),s.read(this,t,!1,23,4)},c.prototype.readDoubleLE=function(t,i){return i||m(t,8,this.length),s.read(this,t,!0,52,8)},c.prototype.readDoubleBE=function(t,i){return i||m(t,8,this.length),s.read(this,t,!1,52,8)},c.prototype.writeUIntLE=function(t,i,n,r){t=+t,i|=0,n|=0,r||_(this,t,i,n,Math.pow(2,8*n)-1,0);var e=1,s=0;for(this[i]=255&t;++s<n&&(e*=256);)this[i+s]=t/e&255;return i+n},c.prototype.writeUIntBE=function(t,i,n,r){t=+t,i|=0,n|=0,r||_(this,t,i,n,Math.pow(2,8*n)-1,0);var e=n-1,s=1;for(this[i+e]=255&t;0<=--e&&(s*=256);)this[i+e]=t/s&255;return i+n},c.prototype.writeUInt8=function(t,i,n){return t=+t,i|=0,n||_(this,t,i,1,255,0),c.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[i]=255&t,i+1},c.prototype.writeUInt16LE=function(t,i,n){return t=+t,i|=0,n||_(this,t,i,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[i]=255&t,this[i+1]=t>>>8):x(this,t,i,!0),i+2},c.prototype.writeUInt16BE=function(t,i,n){return t=+t,i|=0,n||_(this,t,i,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[i]=t>>>8,this[i+1]=255&t):x(this,t,i,!1),i+2},c.prototype.writeUInt32LE=function(t,i,n){return t=+t,i|=0,n||_(this,t,i,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[i+3]=t>>>24,this[i+2]=t>>>16,this[i+1]=t>>>8,this[i]=255&t):g(this,t,i,!0),i+4},c.prototype.writeUInt32BE=function(t,i,n){return t=+t,i|=0,n||_(this,t,i,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[i]=t>>>24,this[i+1]=t>>>16,this[i+2]=t>>>8,this[i+3]=255&t):g(this,t,i,!1),i+4},c.prototype.writeIntLE=function(t,i,n,r){t=+t,i|=0,r||_(this,t,i,n,(r=Math.pow(2,8*n-1))-1,-r);var e=0,s=1,o=0;for(this[i]=255&t;++e<n&&(s*=256);)t<0&&0===o&&0!==this[i+e-1]&&(o=1),this[i+e]=(t/s>>0)-o&255;return i+n},c.prototype.writeIntBE=function(t,i,n,r){t=+t,i|=0,r||_(this,t,i,n,(r=Math.pow(2,8*n-1))-1,-r);var e=n-1,s=1,o=0;for(this[i+e]=255&t;0<=--e&&(s*=256);)t<0&&0===o&&0!==this[i+e+1]&&(o=1),this[i+e]=(t/s>>0)-o&255;return i+n},c.prototype.writeInt8=function(t,i,n){return t=+t,i|=0,n||_(this,t,i,1,127,-128),c.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[i]=255&(t=t<0?255+t+1:t),i+1},c.prototype.writeInt16LE=function(t,i,n){return t=+t,i|=0,n||_(this,t,i,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[i]=255&t,this[i+1]=t>>>8):x(this,t,i,!0),i+2},c.prototype.writeInt16BE=function(t,i,n){return t=+t,i|=0,n||_(this,t,i,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[i]=t>>>8,this[i+1]=255&t):x(this,t,i,!1),i+2},c.prototype.writeInt32LE=function(t,i,n){return t=+t,i|=0,n||_(this,t,i,4,2147483647,-2147483648),c.TYPED_ARRAY_SUPPORT?(this[i]=255&t,this[i+1]=t>>>8,this[i+2]=t>>>16,this[i+3]=t>>>24):g(this,t,i,!0),i+4},c.prototype.writeInt32BE=function(t,i,n){return t=+t,i|=0,n||_(this,t,i,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),c.TYPED_ARRAY_SUPPORT?(this[i]=t>>>24,this[i+1]=t>>>16,this[i+2]=t>>>8,this[i+3]=255&t):g(this,t,i,!1),i+4},c.prototype.writeFloatLE=function(t,i,n){return T(this,t,i,!0,n)},c.prototype.writeFloatBE=function(t,i,n){return T(this,t,i,!1,n)},c.prototype.writeDoubleLE=function(t,i,n){return M(this,t,i,!0,n)},c.prototype.writeDoubleBE=function(t,i,n){return M(this,t,i,!1,n)},c.prototype.copy=function(t,i,n,r){if(n=n||0,r||0===r||(r=this.length),i>=t.length&&(i=t.length),(r=0<r&&r<n?n:r)===n)return 0;if(0===t.length||0===this.length)return 0;if((i=i||0)<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length);var e,s=(r=t.length-i<r-n?t.length-i+n:r)-n;if(this===t&&n<i&&i<r)for(e=s-1;0<=e;--e)t[e+i]=this[e+n];else if(s<1e3||!c.TYPED_ARRAY_SUPPORT)for(e=0;e<s;++e)t[e+i]=this[e+n];else Uint8Array.prototype.set.call(t,this.subarray(n,n+s),i);return s},c.prototype.fill=function(t,i,n,r){if("string"==typeof t){var e;if("string"==typeof i?(r=i,i=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1!==t.length||(e=t.charCodeAt(0))<256&&(t=e),void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!c.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof t&&(t&=255);if(i<0||this.length<i||this.length<n)throw new RangeError("Out of range index");if(n<=i)return this;if(i>>>=0,n=void 0===n?this.length:n>>>0,"number"==typeof(t=t||0))for(u=i;u<n;++u)this[u]=t;else for(var s=c.isBuffer(t)?t:R(new c(t,r).toString()),o=s.length,u=0;u<n-i;++u)this[u+i]=s[u%o];return this};var k=/[^+\/0-9A-Za-z-_]/g;function R(t,i){i=i||1/0;for(var n,r=t.length,e=null,s=[],o=0;o<r;++o){if(55295<(n=t.charCodeAt(o))&&n<57344){if(!e){if(56319<n){-1<(i-=3)&&s.push(239,191,189);continue}if(o+1===r){-1<(i-=3)&&s.push(239,191,189);continue}e=n;continue}if(n<56320){-1<(i-=3)&&s.push(239,191,189),e=n;continue}n=65536+(e-55296<<10|n-56320)}else e&&-1<(i-=3)&&s.push(239,191,189);if(e=null,n<128){if(--i<0)break;s.push(n)}else if(n<2048){if((i-=2)<0)break;s.push(n>>6|192,63&n|128)}else if(n<65536){if((i-=3)<0)break;s.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((i-=4)<0)break;s.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return s}function A(t){return j.toByteArray(function(t){var i;if((t=((i=t).trim?i.trim():i.replace(/^\s+|\s+$/g,"")).replace(k,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function S(t,i,n,r){for(var e=0;e<r&&!(e+n>=i.length||e>=t.length);++e)i[e+n]=t[e];return e}}.call(this,I(9))},function(t,i,n){i.byteLength=function(t){var t=f(t),i=t[0],t=t[1];return 3*(i+t)/4-t},i.toByteArray=function(t){var i,n,r=f(t),e=r[0],r=r[1],s=new a(function(t,i){return 3*(t+i)/4-i}(e,r)),o=0,u=0<r?e-4:e;for(n=0;n<u;n+=4)i=h[t.charCodeAt(n)]<<18|h[t.charCodeAt(n+1)]<<12|h[t.charCodeAt(n+2)]<<6|h[t.charCodeAt(n+3)],s[o++]=i>>16&255,s[o++]=i>>8&255,s[o++]=255&i;2===r&&(i=h[t.charCodeAt(n)]<<2|h[t.charCodeAt(n+1)]>>4,s[o++]=255&i);1===r&&(i=h[t.charCodeAt(n)]<<10|h[t.charCodeAt(n+1)]<<4|h[t.charCodeAt(n+2)]>>2,s[o++]=i>>8&255,s[o++]=255&i);return s},i.fromByteArray=function(t){for(var i,n=t.length,r=n%3,e=[],s=0,o=n-r;s<o;s+=16383)e.push(function(t,i,n){for(var r,e=[],s=i;s<n;s+=3)r=(t[s]<<16&16711680)+(t[s+1]<<8&65280)+(255&t[s+2]),e.push(function(t){return u[t>>18&63]+u[t>>12&63]+u[t>>6&63]+u[63&t]}(r));return e.join("")}(t,s,o<s+16383?o:s+16383));1==r?(i=t[n-1],e.push(u[i>>2]+u[i<<4&63]+"==")):2==r&&(i=(t[n-2]<<8)+t[n-1],e.push(u[i>>10]+u[i>>4&63]+u[i<<2&63]+"="));return e.join("")};for(var u=[],h=[],a="undefined"!=typeof Uint8Array?Uint8Array:Array,r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",e=0,s=r.length;e<s;++e)u[e]=r[e],h[r.charCodeAt(e)]=e;function f(t){var i=t.length;if(0<i%4)throw new Error("Invalid string. Length must be a multiple of 4");t=t.indexOf("="),i=(t=-1===t?i:t)===i?0:4-t%4;return[t,i]}h["-".charCodeAt(0)]=62,h["_".charCodeAt(0)]=63},function(t,i){i.read=function(t,i,n,r,e){var s,o,u=8*e-r-1,h=(1<<u)-1,a=h>>1,f=-7,c=n?e-1:0,l=n?-1:1,e=t[i+c];for(c+=l,s=e&(1<<-f)-1,e>>=-f,f+=u;0<f;s=256*s+t[i+c],c+=l,f-=8);for(o=s&(1<<-f)-1,s>>=-f,f+=r;0<f;o=256*o+t[i+c],c+=l,f-=8);if(0===s)s=1-a;else{if(s===h)return o?NaN:1/0*(e?-1:1);o+=Math.pow(2,r),s-=a}return(e?-1:1)*o*Math.pow(2,s-r)},i.write=function(t,i,n,r,e,s){var o,u,h=8*s-e-1,a=(1<<h)-1,f=a>>1,c=23===e?Math.pow(2,-24)-Math.pow(2,-77):0,l=r?0:s-1,v=r?1:-1,s=i<0||0===i&&1/i<0?1:0;for(i=Math.abs(i),isNaN(i)||i===1/0?(u=isNaN(i)?1:0,o=a):(o=Math.floor(Math.log(i)/Math.LN2),i*(r=Math.pow(2,-o))<1&&(o--,r*=2),2<=(i+=1<=o+f?c/r:c*Math.pow(2,1-f))*r&&(o++,r/=2),a<=o+f?(u=0,o=a):1<=o+f?(u=(i*r-1)*Math.pow(2,e),o+=f):(u=i*Math.pow(2,f-1)*Math.pow(2,e),o=0));8<=e;t[n+l]=255&u,l+=v,u/=256,e-=8);for(o=o<<e|u,h+=e;0<h;t[n+l]=255&o,l+=v,o/=256,h-=8);t[n+l-v]|=128*s}},function(t,i){var n={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==n.call(t)}},function(t,i){t.exports=__WEBPACK_EXTERNAL_MODULE__47__},function(t,a,i){!function(e){function s(t,i){for(var n=0,r=t.length-1;0<=r;r--){var e=t[r];"."===e?t.splice(r,1):".."===e?(t.splice(r,1),n++):n&&(t.splice(r,1),n--)}if(i)for(;n--;)t.unshift("..");return t}function o(t,i){if(t.filter)return t.filter(i);for(var n=[],r=0;r<t.length;r++)i(t[r],r,t)&&n.push(t[r]);return n}a.resolve=function(){for(var t="",i=!1,n=arguments.length-1;-1<=n&&!i;n--){var r=0<=n?arguments[n]:e.cwd();if("string"!=typeof r)throw new TypeError("Arguments to path.resolve must be strings");r&&(t=r+"/"+t,i="/"===r.charAt(0))}return(i?"/":"")+(t=s(o(t.split("/"),function(t){return!!t}),!i).join("/"))||"."},a.normalize=function(t){var i=a.isAbsolute(t),n="/"===r(t,-1);return(t=(t=s(o(t.split("/"),function(t){return!!t}),!i).join("/"))||i?t:".")&&n&&(t+="/"),(i?"/":"")+t},a.isAbsolute=function(t){return"/"===t.charAt(0)},a.join=function(){var t=Array.prototype.slice.call(arguments,0);return a.normalize(o(t,function(t,i){if("string"!=typeof t)throw new TypeError("Arguments to path.join must be strings");return t}).join("/"))},a.relative=function(t,i){function n(t){for(var i=0;i<t.length&&""===t[i];i++);for(var n=t.length-1;0<=n&&""===t[n];n--);return n<i?[]:t.slice(i,n-i+1)}t=a.resolve(t).substr(1),i=a.resolve(i).substr(1);for(var r=n(t.split("/")),e=n(i.split("/")),s=Math.min(r.length,e.length),o=s,u=0;u<s;u++)if(r[u]!==e[u]){o=u;break}for(var h=[],u=o;u<r.length;u++)h.push("..");return(h=h.concat(e.slice(o))).join("/")},a.sep="/",a.delimiter=":",a.dirname=function(t){if("string"!=typeof t&&(t+=""),0===t.length)return".";for(var i=47===t.charCodeAt(0),n=-1,r=!0,e=t.length-1;1<=e;--e)if(47===t.charCodeAt(e)){if(!r){n=e;break}}else r=!1;return-1===n?i?"/":".":i&&1===n?"/":t.slice(0,n)},a.basename=function(t,i){t=function(t){"string"!=typeof t&&(t+="");for(var i=0,n=-1,r=!0,e=t.length-1;0<=e;--e)if(47===t.charCodeAt(e)){if(!r){i=e+1;break}}else-1===n&&(r=!1,n=e+1);return-1===n?"":t.slice(i,n)}(t);return t=i&&t.substr(-1*i.length)===i?t.substr(0,t.length-i.length):t},a.extname=function(t){"string"!=typeof t&&(t+="");for(var i=-1,n=0,r=-1,e=!0,s=0,o=t.length-1;0<=o;--o){var u=t.charCodeAt(o);if(47===u){if(e)continue;n=o+1;break}-1===r&&(e=!1,r=o+1),46===u?-1===i?i=o:1!==s&&(s=1):-1!==i&&(s=-1)}return-1===i||-1===r||0===s||1===s&&i===r-1&&i===n+1?"":t.slice(i,r)};var r="b"==="ab".substr(-1)?function(t,i,n){return t.substr(i,n)}:function(t,i,n){return i<0&&(i=t.length+i),t.substr(i,n)}}.call(this,i(49))},function(t,i){var n,r,t=t.exports={};function e(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}try{n="function"==typeof setTimeout?setTimeout:e}catch(t){n=e}try{r="function"==typeof clearTimeout?clearTimeout:s}catch(t){r=s}function o(i){if(n===setTimeout)return setTimeout(i,0);if((n===e||!n)&&setTimeout)return(n=setTimeout)(i,0);try{return n(i,0)}catch(t){try{return n.call(null,i,0)}catch(t){return n.call(this,i,0)}}}var u,h=[],a=!1,f=-1;function c(){a&&u&&(a=!1,u.length?h=u.concat(h):f=-1,h.length&&l())}function l(){if(!a){for(var t=o(c),i=(a=!0,h.length);i;){for(u=h,h=[];++f<i;)u&&u[f].run();f=-1,i=h.length}u=null,a=!1,!function(i){if(r===clearTimeout)return clearTimeout(i);if((r===s||!r)&&clearTimeout)return(r=clearTimeout)(i);try{r(i)}catch(t){try{return r.call(null,i)}catch(t){return r.call(this,i)}}}(t)}}function v(t,i){this.fun=t,this.array=i}function y(){}t.nextTick=function(t){var i=new Array(arguments.length-1);if(1<arguments.length)for(var n=1;n<arguments.length;n++)i[n-1]=arguments[n];h.push(new v(t,i)),1!==h.length||a||o(l)},v.prototype.run=function(){this.fun.apply(null,this.array)},t.title="browser",t.browser=!0,t.env={},t.argv=[],t.version="",t.versions={},t.on=y,t.addListener=y,t.once=y,t.off=y,t.removeListener=y,t.removeAllListeners=y,t.emit=y,t.prependListener=y,t.prependOnceListener=y,t.listeners=function(t){return[]},t.binding=function(t){throw new Error("process.binding is not supported")},t.cwd=function(){return"/"},t.chdir=function(t){throw new Error("process.chdir is not supported")},t.umask=function(){return 0}},function(k,A,t){t.r(A);var C="v3.1.0",U=39,B={NONE:0,EXTRUDE_MARKER:2,IMAGE_MARKER:8,LOCATION_MARKER:16,POLYGON_MARKER:32,TEXT_MARKER:64,LINE_MARKER:128,HEAT_MAP_MARKER:512,EXTENT:1024,EXTERNAL_MODEL:2048,MODEL:4096,FACILITY:8192,LABEL:16384,DYNAMIC_MODEL_MARKER:32768,DOM_MARKER:65536,EXTENT_LAYER:1<<20,EXTERNAL_MODEL_LAYER:1<<21,MODEL_LAYER:1<<22,FACILITY_LAYER:1<<23,LABEL_LAYER:1<<24,MARKER_GROUP:1<<25},g={MODULE_SHORTEST:1,MODULE_BEST:2},m={PRIORITY_DEFAULT:1,PRIORITY_LIFTFIRST:2,PRIORITY_ESCALATORFIRST:3,PRIORITY_STAIRFIRST:4,PRIORITY_LIFTONLY:5,PRIORITY_ESCALATORONLY:6,PRIORITY_STAIRONLY:7,PRIORITY_ACCESSIBLEONLY:8,PRIORITY_LIFTFIRST1:9,PRIORITY_ESCALATORFIRST1:10,PRIORITY_STAIRFIRST1:11},R={ROUTE_SUCCESS:1,ROUTE_FAILED_NO_FMDBDATA:2,ROUTE_FAILED_TOO_CLOSE:3,ROUTE_FAILED_NO_DATA_START:4,ROUTE_FAILED_NO_DATA_DEST:5,ROUTE_FAILED_NO_STAIR:6,ROUTE_FAILED_NOTSUPPORT:7,ROUTE_FAILED_CANNOT_CALCULATE:8,ROUTE_FAILED_CANNOT_ARRIVE:9,ROUTE_FAILED_WAYPOINT_CALCULATE_ERROR:10,ROUTE_FAILED_NO_START_ARRIVAL:11,ROUTE_FAILED_NO_DEST_ARRIVAL:12,ROUTE_FAILED_OUTLINE:13,ROUTE_FAILED_NO_DOOR_START:14,ROUTE_FAILED_NO_DOOR_DEST:15},s={ZH:"zh",EN:"en"};function Z(t,i){for(var n=0;n<i.length;n++){var r=i[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function G(t,i,n){return i&&Z(t.prototype,i),n&&Z(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}var i=G(function t(i,n){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function");this.Y=i,this.X=n}),o=(Object.assign(i.prototype,{H:function(t){return!1},Q:function(t,i){}}),i);function W(t){return(W="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function V(t,i){for(var n=0;n<i.length;n++){var r=i[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Y(t,i){return(Y=Object.setPrototypeOf||function(t,i){return t.__proto__=i,t})(t,i)}function z(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var t,i=X(n),i=(t=r?(t=X(this).constructor,Reflect.construct(i,arguments,t)):i.apply(this,arguments),this);if(t&&("object"===W(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");if(void 0!==i)return i;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}}function X(t){return(X=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var i=function(){var t=s,i=o;if("function"!=typeof i&&null!==i)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(i&&i.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),i&&Y(t,i);var n,r,e=z(s);function s(t,i){if(this instanceof s)return e.call(this,t,i);throw new TypeError("Cannot call a class as a function")}return t=s,n&&V(t.prototype,n),r&&V(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}(),q=(Object.assign(i.prototype,{H:function(t){return this.X==t.fid}}),i);function H(t){return(H="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Q(t,i){for(var n=0;n<i.length;n++){var r=i[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function $(t,i){return($=Object.setPrototypeOf||function(t,i){return t.__proto__=i,t})(t,i)}function J(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var t,i=K(n),i=(t=r?(t=K(this).constructor,Reflect.construct(i,arguments,t)):i.apply(this,arguments),this);if(t&&("object"===H(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");if(void 0!==i)return i;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}}function K(t){return(K=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var i=function(){var t=s,i=o;if("function"!=typeof i&&null!==i)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(i&&i.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),i&&$(t,i);var n,r,e=J(s);function s(t,i){if(this instanceof s)return"object"==H((t=e.call(this,t,i)).X)?(t.$=t.X.text,t.J=t.X.fuzzy):t.$=t.X,t;throw new TypeError("Cannot call a class as a function")}return t=s,n&&Q(t.prototype,n),r&&Q(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}(),tt=(Object.assign(i.prototype,{H:function(t){if(t.name){if(this.J&&-1!=t.name.indexOf(this.$))return!0;if(this.$==t.name)return!0}return!1}}),i);function it(t){return(it="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function nt(t,i){for(var n=0;n<i.length;n++){var r=i[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function rt(t,i){return(rt=Object.setPrototypeOf||function(t,i){return t.__proto__=i,t})(t,i)}function et(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var t,i=st(n),i=(t=r?(t=st(this).constructor,Reflect.construct(i,arguments,t)):i.apply(this,arguments),this);if(t&&("object"===it(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");if(void 0!==i)return i;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}}function st(t){return(st=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var i=function(){var t=s,i=o;if("function"!=typeof i&&null!==i)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(i&&i.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),i&&rt(t,i);var n,r,e=et(s);function s(t,i){if(this instanceof s)return"object"==it((t=e.call(this,t,i)).X)?(t.$=t.X.text,t.J=t.X.fuzzy):t.$=t.X,t;throw new TypeError("Cannot call a class as a function")}return t=s,n&&nt(t.prototype,n),r&&nt(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}(),ot=(Object.assign(i.prototype,{H:function(t){if(t.ename){if(this.J&&-1!=t.ename.indexOf(this.$))return!0;if(this.$==t.ename)return!0}return!1}}),i);function ut(t){return(ut="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ht(t,i){for(var n=0;n<i.length;n++){var r=i[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function at(t,i){return(at=Object.setPrototypeOf||function(t,i){return t.__proto__=i,t})(t,i)}function ft(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var t,i=ct(n),i=(t=r?(t=ct(this).constructor,Reflect.construct(i,arguments,t)):i.apply(this,arguments),this);if(t&&("object"===ut(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");if(void 0!==i)return i;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}}function ct(t){return(ct=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var i=function(){var t=s,i=o;if("function"!=typeof i&&null!==i)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(i&&i.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),i&&at(t,i);var n,r,e=ft(s);function s(t,i){if(this instanceof s)return(t=e.call(this,t)).X=Array.isArray(i)?i:[i],t;throw new TypeError("Cannot call a class as a function")}return t=s,n&&ht(t.prototype,n),r&&ht(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}(),lt=(Object.assign(i.prototype,{H:function(t){return-1!=this.X.indexOf(t.type)}}),i);function vt(t){return(vt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function yt(t,i){for(var n=0;n<i.length;n++){var r=i[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function dt(t,i){return(dt=Object.setPrototypeOf||function(t,i){return t.__proto__=i,t})(t,i)}function bt(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var t,i=pt(n),i=(t=r?(t=pt(this).constructor,Reflect.construct(i,arguments,t)):i.apply(this,arguments),this);if(t&&("object"===vt(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");if(void 0!==i)return i;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}}function pt(t){return(pt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var i=function(){var t=s,i=o;if("function"!=typeof i&&null!==i)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(i&&i.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),i&&dt(t,i);var n,r,e=bt(s);function s(t,i){if(this instanceof s)return"object"==vt((t=e.call(this,t,i)).X)?(t.$=t.X.text,t.J=void 0===t.X.fuzzy||t.X.fuzzy):(t.$=t.X,t.J=!0),t;throw new TypeError("Cannot call a class as a function")}return t=s,n&&yt(t.prototype,n),r&&yt(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}(),wt=(Object.assign(i.prototype,{H:function(t){if(this.J){if(t.name&&-1!=t.name.indexOf(this.$)||t.ename&&-1!=t.ename.indexOf(this.$))return!0}else if(t.name&&t.name==this.$||t.ename&&t.ename==this.$)return!0;return!1}}),i),i={NONE:0,POINT:1,LINE:2,POLYGON:4,MULTIPOINT:8,MULTILINE:16,MULTIPOLYGON:32,GROUP:64,EXTENT:1024,EXTERNALMODEL:2048,MODEL:4096,FACILITY:8192,LABEL:16384,EXTENTGROUP:1<<20,EXTERNALMODELGROUP:1<<21,MODELGROUP:1<<22,FACILITYGROUP:1<<23,LABELGROUP:1<<24},_=(Object.freeze(i),i),mt=function(t,i,n){n=n||2;var r,e,s,o,u,h=i&&i.length,a=h?i[0]*n:t.length,f=_t(t,0,a,n,!0),c=[];if(!f||f.next===f.prev)return c;if(h&&(f=function(t,i,n,r){var e,s,o,u,h=[];for(e=0,s=i.length;e<s;e++)u=i[e]*r,o=e<s-1?i[e+1]*r:t.length,(u=_t(t,u,o,r,!1))===u.next&&(u.steiner=!0),h.push(function(t){var i=t,n=t;for(;(i.x<n.x||i.x===n.x&&i.y<n.y)&&(n=i),i=i.next,i!==t;);return n}(u));for(h.sort(gt),e=0;e<h.length;e++)!function(t,i){(i=function(t,i){var n,r=i,e=t.x,s=t.y,o=-1/0;do{if(s<=r.y&&s>=r.next.y&&r.next.y!==r.y){var u=r.x+(s-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(u<=e&&o<u){if((o=u)===e){if(s===r.y)return r;if(s===r.next.y)return r.next}n=r.x<r.next.x?r:r.next}}}while(r=r.next,r!==i);if(!n)return null;if(e===o)return n;var h,a=n,f=n.x,c=n.y,l=1/0;r=n;for(;e>=r.x&&r.x>=f&&e!==r.x&&jt(s<c?e:o,s,f,c,s<c?o:e,s,r.x,r.y)&&(h=Math.abs(s-r.y)/(e-r.x),Rt(r,t)&&(h<l||h===l&&(r.x>n.x||r.x===n.x&&function(t,i){return T(t.prev,t,i.prev)<0&&T(i.next,t,t.next)<0}(n,r)))&&(n=r,l=h)),r=r.next,r!==a;);return n}(t,i))&&(t=At(i,t),E(i,i.next),E(t,t.next))}(h[e],n),n=E(n,n.next);return n}(t,i,f,n)),t.length>80*n){for(var l=r=t[0],v=e=t[1],y=n;y<a;y+=n)(s=t[y])<l&&(l=s),(o=t[y+1])<v&&(v=o),r<s&&(r=s),e<o&&(e=o);u=0!==(u=Math.max(r-l,e-v))?1/u:0}return xt(f,c,n,l,v,u),c};function _t(t,i,n,r,e){var s,o;if(e===0<function(t,i,n,r){for(var e=0,s=i,o=n-r;s<n;s+=r)e+=(t[o]-t[s])*(t[s+1]+t[o+1]),o=s;return e}(t,i,n,r))for(s=i;s<n;s+=r)o=St(s,t[s],t[s+1],o);else for(s=n-r;i<=s;s-=r)o=St(s,t[s],t[s+1],o);return o&&Et(o,o.next)&&(Nt(o),o=o.next),o}function E(t,i){if(!t)return t;i=i||t;var n,r=t;do{if(n=!1,r.steiner||!Et(r,r.next)&&0!==T(r.prev,r,r.next))r=r.next;else{if(Nt(r),(r=i=r.prev)===r.next)break;n=!0}}while(n||r!==i);return i}function xt(t,i,n,r,e,s,o){if(t){if(!o&&s){for(var u=t,h=r,a=e,f=s,c=u;null===c.z&&(c.z=Ot(c.x,c.y,h,a,f)),c.prevZ=c.prev,c.nextZ=c.next,(c=c.next)!==u;);c.prevZ.nextZ=null,c.prevZ=null;var l,v,y,d,b,p,w,m,_=c,x=1;do{for(v=_,b=_=null,p=0;v;){for(p++,y=v,l=w=0;l<x&&(w++,y=y.nextZ);l++);for(m=x;0<w||0<m&&y;)0!==w&&(0===m||!y||v.z<=y.z)?(v=(d=v).nextZ,w--):(y=(d=y).nextZ,m--),b?b.nextZ=d:_=d,d.prevZ=b,b=d;v=y}}while(b.nextZ=null,x*=2,1<p)}for(var g,O,j=t;t.prev!==t.next;)if(g=t.prev,O=t.next,s?function(t,i,n,r){var e=t.prev,s=t,o=t.next;if(0<=T(e,s,o))return;var u=(e.x<s.x?e.x<o.x?e:o:s.x<o.x?s:o).x,h=(e.y<s.y?e.y<o.y?e:o:s.y<o.y?s:o).y,a=(e.x>s.x?e.x>o.x?e:o:s.x>o.x?s:o).x,f=(e.y>s.y?e.y>o.y?e:o:s.y>o.y?s:o).y,c=Ot(u,h,i,n,r),l=Ot(a,f,i,n,r),v=t.prevZ,y=t.nextZ;for(;v&&v.z>=c&&y&&y.z<=l;){if(v!==t.prev&&v!==t.next&&jt(e.x,e.y,s.x,s.y,o.x,o.y,v.x,v.y)&&0<=T(v.prev,v,v.next))return;if(v=v.prevZ,y!==t.prev&&y!==t.next&&jt(e.x,e.y,s.x,s.y,o.x,o.y,y.x,y.y)&&0<=T(y.prev,y,y.next))return;y=y.nextZ}for(;v&&v.z>=c;){if(v!==t.prev&&v!==t.next&&jt(e.x,e.y,s.x,s.y,o.x,o.y,v.x,v.y)&&0<=T(v.prev,v,v.next))return;v=v.prevZ}for(;y&&y.z<=l;){if(y!==t.prev&&y!==t.next&&jt(e.x,e.y,s.x,s.y,o.x,o.y,y.x,y.y)&&0<=T(y.prev,y,y.next))return;y=y.nextZ}return 1}(t,r,e,s):function(t){var i=t.prev,n=t,r=t.next;if(0<=T(i,n,r))return;var e=t.next.next;for(;e!==t.prev;){if(jt(i.x,i.y,n.x,n.y,r.x,r.y,e.x,e.y)&&0<=T(e.prev,e,e.next))return;e=e.next}return 1}(t))i.push(g.i/n),i.push(t.i/n),i.push(O.i/n),Nt(t),t=O.next,j=O.next;else if((t=O)===j){o?1===o?xt(t=function(t,i,n){var r=t;do{var e=r.prev,s=r.next.next}while(!Et(e,s)&&Tt(e,r,r.next,s)&&Rt(e,s)&&Rt(s,e)&&(i.push(e.i/n),i.push(r.i/n),i.push(s.i/n),Nt(r),Nt(r.next),r=t=s),r=r.next,r!==t);return E(r)}(E(t),i,n),i,n,r,e,s,2):2===o&&function(t,i,n,r,e,s){var o=t;do{for(var u,h=o.next.next;h!==o.prev;){if(o.i!==h.i&&function(t,i){return t.next.i!==i.i&&t.prev.i!==i.i&&!function(t,i){var n=t;do{if(n.i!==t.i&&n.next.i!==t.i&&n.i!==i.i&&n.next.i!==i.i&&Tt(n,n.next,t,i))return 1}while(n=n.next,n!==t);return}(t,i)&&(Rt(t,i)&&Rt(i,t)&&function(t,i){var n=t,r=!1,e=(t.x+i.x)/2,s=(t.y+i.y)/2;for(;n.y>s!=n.next.y>s&&n.next.y!==n.y&&e<(n.next.x-n.x)*(s-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next,n!==t;);return r}(t,i)&&(T(t.prev,t,i.prev)||T(t,i.prev,i))||Et(t,i)&&0<T(t.prev,t,t.next)&&0<T(i.prev,i,i.next))}(o,h))return u=At(o,h),o=E(o,o.next),u=E(u,u.next),xt(o,i,n,r,e,s),xt(u,i,n,r,e,s);h=h.next}}while(o=o.next,o!==t)}(t,i,n,r,e,s):xt(E(t),i,n,r,e,s,1);break}}}function gt(t,i){return t.x-i.x}function Ot(t,i,n,r,e){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-n)*e)|t<<8))|t<<4))|t<<2))|t<<1))|(i=1431655765&((i=858993459&((i=252645135&((i=16711935&((i=32767*(i-r)*e)|i<<8))|i<<4))|i<<2))|i<<1))<<1}function jt(t,i,n,r,e,s,o,u){return 0<=(e-o)*(i-u)-(t-o)*(s-u)&&0<=(t-o)*(r-u)-(n-o)*(i-u)&&0<=(n-o)*(s-u)-(e-o)*(r-u)}function T(t,i,n){return(i.y-t.y)*(n.x-i.x)-(i.x-t.x)*(n.y-i.y)}function Et(t,i){return t.x===i.x&&t.y===i.y}function Tt(t,i,n,r){var e=kt(T(t,i,n)),s=kt(T(t,i,r)),o=kt(T(n,r,t)),u=kt(T(n,r,i));return e!==s&&o!==u||(0===e&&Mt(t,n,i)||(0===s&&Mt(t,r,i)||(0===o&&Mt(n,t,r)||!(0!==u||!Mt(n,i,r)))))}function Mt(t,i,n){return i.x<=Math.max(t.x,n.x)&&i.x>=Math.min(t.x,n.x)&&i.y<=Math.max(t.y,n.y)&&i.y>=Math.min(t.y,n.y)}function kt(t){return 0<t?1:t<0?-1:0}function Rt(t,i){return T(t.prev,t,t.next)<0?0<=T(t,i,t.next)&&0<=T(t,t.prev,i):T(t,i,t.prev)<0||T(t,t.next,i)<0}function At(t,i){var n=new It(t.i,t.x,t.y),r=new It(i.i,i.x,i.y),e=t.next,s=i.prev;return(t.next=i).prev=t,(n.next=e).prev=n,(r.next=n).prev=r,(s.next=r).prev=s,r}function St(t,i,n,r){t=new It(t,i,n);return r?(t.next=r.next,(t.prev=r).next.prev=t,r.next=t):(t.prev=t).next=t,t}function Nt(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function It(t,i,n){this.i=t,this.x=i,this.y=n,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function Lt(t){return function(t){if(Array.isArray(t))return Dt(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,i){if(t){if("string"==typeof t)return Dt(t,i);var n=Object.prototype.toString.call(t).slice(8,-1);return"Map"===(n="Object"===n&&t.constructor?t.constructor.name:n)||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Dt(t,i):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Dt(t,i){(null==i||i>t.length)&&(i=t.length);for(var n=0,r=new Array(i);n<i;n++)r[n]=t[n];return r}var Ft={area:function(t){for(var i=t.length,n=0,r=i-1,e=0;e<i;r=e++)n+=t[r].x*t[e].y-t[e].x*t[r].y;return.5*n},isClockWise:function(t){return Ft.area(t)<0},triangulateShape:function(t,i){var n=[],r=[],e=[],s=(Pt(t),Ct(n,t),t.length);i.forEach(Pt);for(var o=0;o<i.length;o++)r.push(s),s+=i[o].length,Ct(n,i[o]);for(var u=mt(n,r),h=0;h<u.length;h+=3)e.push(u.slice(h,h+3));return e},triangulate:function(t){(e=[]).push.apply(e,Lt(t[0]));for(var i=[],n=1;n<t.length;n++){var r=[];r.push.apply(r,Lt(t[n])),i.push(r)}if(!Ft.isClockWise(e))for(var e=e.reverse(),s=0,o=i.length;s<o;s++){var u=i[s];Ft.isClockWise(u)&&(i[s]=u.reverse())}return Ft.triangulateShape(e,i)}};function Pt(t){var i,n=t.length;2<n&&(n=t[n-1],i=t[0],n.x===i.x&&n.y===i.y)&&t.pop()}function Ct(t,i){for(var n=0;n<i.length;n++)t.push(i[n].x),t.push(i[n].y)}function Ut(t,i){for(var n=0;n<i.length;n++){var r=i[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Bt(t,i,n){return i&&Ut(t.prototype,i),n&&Ut(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}var Zt=1e-5,Gt=Math.PI/180,Wt=180/Math.PI,i=Bt(function t(){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function")});Object.assign(i.prototype,{K:function(){return Zt},tt:function(){return Gt},it:function(){return Wt},nt:function(t){return t<Zt&&-Zt<t},rt:function(t){return Zt<t},et:function(t){return t<-Zt},st:function(t,i,n){i=(t.x-n.x)*(i.y-n.y)-(i.x-n.x)*(t.y-n.y);return Math.abs(i)<Zt?0:i},distanceOfTwoPoints:function(t,i){return t&&i?Math.sqrt((t.x-i.x)*(t.x-i.x)+(t.y-i.y)*(t.y-i.y)):Number.NaN},distance:function(t,i){return Math.sqrt(Math.pow(i.x-t.x,2)+Math.pow(i.y-t.y,2))},isPolygonContainPoint:function(t,i){for(var n=0,r=0;r<t.length;r++){var e=t[r].x,s=t[r].y,o=0,u=0,u=r<t.length-1?(o=t[r+1].x,t[r+1].y):(o=t[0].x,t[0].y);if(e===i.x&&s===i.y||o===i.x&&u===i.y)return!0;if(u!==s){var h=e+(i.y-s)*(o-e)/(u-s);if(h===i.x)return!0;e!==o?h<=Math.max(e,o)&&h>=Math.min(e,o)&&h>i.x&&h!==e&&(h===o&&0<(s-i.y)*(u-i.y)?n+=2:n++):h<=Math.max(e,o)&&h>=Math.min(e,o)&&h>i.x&&(h===o&&0<(s-i.y)*(u-i.y)?n+=2:n++)}}return 0<n%2},ot:function(t,i,n,r){return!(Math.max(t.x,i.x)<Math.min(n.x,r.x))&&(!(Math.max(t.y,i.y)<Math.min(n.y,r.y))&&(!(Math.max(n.x,r.x)<Math.min(t.x,i.x))&&!(Math.max(n.y,r.y)<Math.min(t.y,i.y))))},ut:function(t,i,n,r){return!(Math.max(t.x,i.x)<Math.min(n.x,r.x))&&(!(Math.max(t.y,i.y)<Math.min(n.y,r.y))&&(!(Math.max(n.x,r.x)<Math.min(t.x,i.x))&&(!(Math.max(n.y,r.y)<Math.min(t.y,i.y))&&((0!==this.st(n,i,t)||0!==this.st(i,r,t))&&(!(this.st(n,i,t)*this.st(i,r,t)<0)&&!(this.st(t,r,n)*this.st(r,i,n)<0))))))},ht:function(t,i,n){return!(t.x<i.x)&&(!(t.y<i.y)&&(!(t.x>n.x)&&!(t.y>n.y)))},ft:function(t,i,n){var r=Math.min(i.x,n.x),e=Math.max(i.x,n.x),s=Math.min(i.y,n.y),i=Math.max(i.y,n.y);return!(t.x<r||t.x>e||t.y<s||t.y>i)},ct:function(t,i,n){var r=Math.min(n.x,i.x),e=Math.max(n.x,i.x),s=Math.min(n.y,i.y),n=Math.max(n.y,i.y);return!(t.x<r||t.x>e||t.y<s||t.y>n)},lt:function(t,i,n){for(var r,e,s=!1,o=0;o<n;o++)r=i[o],e=i[(o+1)%n],(r.y<t.y&&e.y>=t.y||e.y<t.y&&r.y>=t.y)&&(r.x<=t.x||e.x<=t.x)&&r.x+(t.y-r.y)/(e.y-r.y)*(e.x-r.x)<t.x&&(s=!s);return s},vt:function(t,i,n){return(t.x-i.x)*(n.y-i.y)==(n.x-i.x)*(t.y-i.y)&&Math.min(i.x,n.x)<=t.x&&t.x<=Math.max(i.x,n.x)&&Math.min(i.y,n.y)<=t.y&&t.y<=Math.max(i.y,n.y)},yt:function(t,i){return Math.sqrt((t.x-i.x)*(t.x-i.x)+(t.y-i.y)*(t.y-i.y))},dt:function(t,i){return(t.x-i.x)*(t.x-i.x)+(t.y-i.y)*(t.y-i.y)},bt:function(t,i,n){var r=i.x,i=i.y,e=n.x,n=n.y,s=t.x,t=t.y,o=e-r,u=n-i,h=o*o+u*u,a=s-r,f=t-i,c=a*a+f*f;if(this.nt(h))return this.nt(c)?0:c;var h=Math.sqrt(h),o=o/h,u=u/h,a=o*a+u*f;return f=this.rt(a)?this.et(a-h)?(f=s-(r+a*o))*f+(h=t-(i+a*u))*h:(r=s-e)*r+(o=t-n)*o:c,this.nt(f)?0:f},pt:function(t,i,n,r){var e=i.x,s=i.y,o=n.x,u=n.y,h=t.x,t=t.y,a=o-e,f=u-s,c=Math.sqrt(a*a+f*f),l=h-e,v=t-s,y=Math.sqrt(l*l+v*v);if(this.nt(c))return r.x=i.x,r.y=i.y,this.nt(d=y)?0:d;var a=a/c,f=f/c,l=a*l+f*v,d=this.rt(l)?this.et(l-c)?(c=h-(v=e+l*a),a=t-(e=s+l*f),s=Math.sqrt(c*c+a*a),r.x=v,r.y=e,s):(l=h-o,f=t-u,c=Math.sqrt(l*l+f*f),r.x=n.x,r.y=n.y,c):(r.x=i.x,r.y=i.y,y);return this.nt(d)?0:d},wt:function(t,i){for(var n=0,r=0,e=0,s=0;s<i;s++){var o=t[s],u=t[(s+1)%i],h=(o.x*u.y-o.y*u.x)/2;n+=h,r+=h*(o.x+u.x)/3,e+=h*(o.y+u.y)/3}return{x:r/=n,y:e/=n}},mt:function(t){for(var i=Ft.triangulate([t]),n=0,r=0,e=0,s=0;s<i.length;s++){var o=t[i[s][0]],u=t[i[s][1]],h=t[i[s][2]],a=u.x-o.x,f=u.y-o.y,c=h.x-o.x,a=(a*(h.y-o.y)-c*f)/2;n+=a,r+=(o.x+u.x+h.x)/3*a,e+=(o.y+u.y+h.y)/3*a}return{x:r/n,y:e/n}},_t:function(t,i){if(i<3)return 0;for(var n=0,r=0;r<i;++r){var e=t[r],s=t[(r+1)%i];n+=e.x*s.y-e.y*s.x}return Math.abs(n/2)},xt:function(t,i,n,r,e){var s,o;return this.ut(t,i,n,r)?(s=(r.x-n.x)*(t.y-i.y)-(i.x-t.x)*(n.y-r.y),o=(t.y-n.y)*(i.x-t.x)*(r.x-n.x)+n.x*(r.y-n.y)*(i.x-t.x)-t.x*(i.y-t.y)*(r.x-n.x),e.x=o/s,s=(t.x-i.x)*(r.y-n.y)-(i.y-t.y)*(n.x-r.x),o=i.y*(t.x-i.x)*(r.y-n.y)+(r.x-i.x)*(r.y-n.y)*(t.y-i.y)-r.y*(n.x-r.x)*(i.y-t.y),e.y=o/s,1):0},gt:function(t,i,n,r,e){var s=Math.min(n.x,r.x),o=Math.max(n.x,r.x),u=Math.min(n.y,r.y),h=Math.max(n.y,r.y),a=t.x,f=t.y,c=n.x,l=n.y,v=r.x,y=r.y;if(90==i){if(t.x<s||t.x>o)return!1;var d=(y-l)/(v-c)*(a-c)+l;return e.y=d,e.x=a,d<f?!1:!!this.ct(e,n,r)}if(270==i){if(t.x<s||t.x>o)return!1;var d=(y-l)/(v-c)*(a-c)+l;return e.y=d,e.x=a,f<d?!1:!!this.ct(e,n,r)}if(270!=i&&90!=i&&o-s<.001){var t=s,d=Math.tan(i/180*Math.PI)*(t-a)+f;if(e.y=d,e.x=t,this.ct(e,n,r))return o=d-f,0<(s=t-a)/Math.sqrt(s*s+o*o)*Math.cos(i/180*Math.PI)}if(h-u<=1e-6)return d=u,t=1/Math.tan(i/180*Math.PI)*(d-f)+a,e.x=t,e.y=d,!!this.ct(e,n,r)&&(s=d-f,0<(o=t-a)/Math.sqrt(o*o+s*s)*Math.cos(i/180*Math.PI));h=Math.tan(i/180*Math.PI),u=(y-l)/(v-c),d=(l-f-(u*c-h*a))/(h-u),t=f+h*(d-a);return e.x=d,e.y=t,!!this.ct(e,n,r)&&(o=t-f,0<(s=d-a)/Math.sqrt(s*s+o*o)*Math.cos(i/180*Math.PI))},Ot:function(t,i,n,r){var e=t.x,t=t.y,s=i.x,o=i.y,u=n.x,h=n.y;if(e==s&&t==o||e==u&&t==h)return r.x=e,r.y=t,!0;var a=Math.min(i.x,n.x),f=Math.max(i.x,n.x),c=Math.min(i.y,n.y),l=Math.max(i.y,n.y);if(Math.abs(s-u)<1e-5)return r.x=s,c<=(r.y=t)&&t<=l;if(Math.abs(o-h)<1e-5)return r.x=e,r.y=o,a<=e&&e<=f;c=-1/((h-o)/(u-s)),l=(h-o)/(u-s),a=(o-t-(l*s-c*e))/(c-l),f=t+c*(a-e);return r.x=a,r.y=f,!!this.ct(r,i,n)},jt:function(t,i){return{x:t.y*i.z-t.z*i.y,y:t.z*i.x-t.x*i.z,z:t.x*i.y-t.y*i.x}},Et:function(t,i){return t.x*i.x+t.y*i.y+t.z*i.z},Tt:function(t){return Math.sqrt(t.x*t.x+t.y*t.y+t.z*t.z)},Mt:function(t,i){return t.x*i.x+t.y*i.y},kt:function(t){return Math.sqrt(t.x*t.x+t.y*t.y)},Rt:function(t,i){if(0==t.x&&0==t.y||0==i.x&&0==i.y)return 0;var n={x:t.x,y:t.y,z:0},r={x:i.x,y:i.y,z:0},n=this.jt(n,r),r=this.Mt(t,i),r=Math.acos(r/(this.kt(t)*this.kt(i)));return 0<n.z?r/Math.PI*180:360-r/Math.PI*180},At:function(t,i,n,r){for(var e=0;e<n.length;e++){var s=n[e],o=n[(e+1)%n.length];if(1==this.xt(t,i,s,o,r))return!0}return!1},St:function(t,i,n,r,e){var s=Math.min(t.x,n.x,r.x),o=Math.max(t.x,n.x,r.x),u=Math.min(t.y,n.y,r.y),h=Math.max(t.y,n.y,r.y),o=Math.sqrt((o-s)*(o-s)+(h-u)*(h-u)),s=i/180*Math.PI,h=o*Math.cos(s)+t.x,u=o*Math.sin(s)+t.y;return 1==this.xt(t,{x:h,y:u},n,r,e)}});var S=new i;function Vt(t,i){for(var n=0;n<i.length;n++){var r=i[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var i=function(){function t(){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function");this.Nt={x:Number.MAX_VALUE,y:Number.MAX_VALUE},this.It={x:-Number.MAX_VALUE,y:-Number.MAX_VALUE}}var i,n,r;return i=t,(n=[{key:"min",get:function(){return this.Nt}},{key:"max",get:function(){return this.It}},{key:"center",get:function(){var t={x:Number.NaN,y:Number.NaN};return this.valid()&&(t.x=(this.min.x+this.max.x)/2,t.y=(this.min.y+this.max.y)/2),t}},{key:"size",get:function(){var t={x:Number.NaN,y:Number.NaN};return this.valid()&&(t.x=this.max.x-this.min.x,t.y=this.max.y-this.min.y),t}},{key:"copy",value:function(t){return this.It.x=t.max.x,this.It.y=t.max.y,this.Nt.x=t.min.x,this.Nt.y=t.min.y,this}},{key:"clone",value:function(){return(new t).copy(this)}},{key:"reset",value:function(){this.Nt={x:Number.MAX_VALUE,y:Number.MAX_VALUE},this.It={x:-Number.MAX_VALUE,y:-Number.MAX_VALUE}}},{key:"toObject",value:function(){return{min:this.min,max:this.max,center:this.center,size:this.size}}},{key:"expand",value:function(t){this.Lt(t)}},{key:"expandByCoords",value:function(t){this.Dt(t)}},{key:"valid",value:function(){return this.Ft()}},{key:"isCross",value:function(t){var i=!0;return t.max.x<this.min.x&&(i=!1),t.min.x>this.max.x&&(i=!1),t.max.y<this.min.y&&(i=!1),i=t.min.y>this.max.y?!1:i}}])&&Vt(i.prototype,n),r&&Vt(i,r),Object.defineProperty(i,"prototype",{writable:!1}),t}(),u=(Object.assign(i.prototype,{Ft:function(){return!(this.min.x>this.max.x||this.min.y>this.max.y)},Lt:function(t){t&&t.valid()&&(t.min.x<this.min.x&&(this.min.x=t.min.x),t.min.y<this.min.y&&(this.min.y=t.min.y),t.max.x>this.max.x&&(this.max.x=t.max.x),t.max.y>this.max.y&&(this.max.y=t.max.y))},Dt:function(t){var i=this;t&&0!=t.length&&t.forEach(function(t){t.x<i.min.x&&(i.min.x=t.x),t.y<i.min.y&&(i.min.y=t.y),t.x>i.max.x&&(i.max.x=t.x),t.y>i.max.y&&(i.max.y=t.y)})}}),i);function Yt(t){return(Yt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function zt(t,i){for(var n=0;n<i.length;n++){var r=i[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Xt(t,i){return(Xt=Object.setPrototypeOf||function(t,i){return t.__proto__=i,t})(t,i)}function qt(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var t,i=Ht(n),i=(t=r?(t=Ht(this).constructor,Reflect.construct(i,arguments,t)):i.apply(this,arguments),this);if(t&&("object"===Yt(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");if(void 0!==i)return i;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}}function Ht(t){return(Ht=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var i=function(){var t=s,i=o;if("function"!=typeof i&&null!==i)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(i&&i.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),i&&Xt(t,i);var n,r,e=qt(s);function s(t,i){if(this instanceof s)return(t=e.call(this,t,i)).Pt=t.X.center,t.Ct=t.X.radius,t.Ut=t.X.radius*t.X.radius,t.Bt=new u,t.Bt.Dt([{x:t.Pt.x-t.Ct,y:t.Pt.y-t.Ct},{x:t.Pt.x+t.Ct,y:t.Pt.y+t.Ct}]),t;throw new TypeError("Cannot call a class as a function")}return t=s,n&&zt(t.prototype,n),r&&zt(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}(),Qt=(Object.assign(i.prototype,{H:function(t){return t.getType()!=_.MODEL?this.Zt(t):this.Gt(t)},Gt:function(t){var i=t.getBound();if(!S.ot(this.Bt.Nt,this.Bt.It,i.min,i.max))return!1;for(var n=t.getCoordinates(),r=0,e=n.length;r<e;r++)for(var s=1,o=n[r].length;s<o;s++){var u=n[r][s];if(S.dt(u,this.Pt)<this.Ut)return!0;var h=n[r][s-1];if(1==s&&S.dt(h,this.Pt)<this.Ut)return!0;if(S.bt(this.Pt,h,u)<this.Ut)return!0}return!1},Zt:function(t){t=t.getCoordinates()[0];return!!S.ht(t,this.Bt.Nt,this.Bt.It)&&S.dt(t,this.Pt)<this.Ut},Q:function(t,i){var n=t.getCoordinates();if(t.getType()!=_.MODEL)i.yt=Math.sqrt(S.dt(n[0],this.Pt));else{for(var r=Number.MAX_VALUE,e=0,s=n.length;e<s;e++)for(var o=1,u=n[e].length;o<u;o++){var h=n[e][o-1],a=n[e][o],h=S.bt(this.Pt,h,a);h<r&&(r=h)}i.yt=Math.sqrt(r)}}}),i);function $t(t){return($t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Jt(t,i){for(var n=0;n<i.length;n++){var r=i[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Kt(t,i){return(Kt=Object.setPrototypeOf||function(t,i){return t.__proto__=i,t})(t,i)}function ti(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var t,i=ii(n),i=(t=r?(t=ii(this).constructor,Reflect.construct(i,arguments,t)):i.apply(this,arguments),this);if(t&&("object"===$t(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");if(void 0!==i)return i;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}}function ii(t){return(ii=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var i=function(){var t=s,i=o;if("function"!=typeof i&&null!==i)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(i&&i.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),i&&Kt(t,i);var n,r,e=ti(s);function s(t,i){if(this instanceof s)return(t=e.call(this,t,i)).Wt=t.X,t.Vt=t.Wt.length-1,t.Pt=S.mt(t.Wt),t.Bt=new u,t.Bt.Dt(t.Wt),t;throw new TypeError("Cannot call a class as a function")}return t=s,n&&Jt(t.prototype,n),r&&Jt(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}(),ni=(Object.assign(i.prototype,{H:function(t){return t.getType()!=_.MODEL?this.Zt(t):this.Gt(t)},Gt:function(t){var i=t.getBound();if(!S.ot(this.Bt.Nt,this.Bt.It,i.min,i.max))return!1;for(var n=t.getCoordinates(),r=0,e=n.length;r<e;r++)for(var s=0,o=n[r].length-1;s<o;s++)if(S.lt(n[r][s],this.Wt,this.Wt.length))return!0;for(var u=0;u<this.Vt;u++){for(var h=!1,a=0,f=n.length;a<f;a++)S.lt(this.Wt[u],n[a],n[a].length-1)&&(h=0==a);if(h)return!0}for(var c=0;c<this.Vt;c++)for(var l=this.Wt[c],v=this.Wt[c+1],y=0,d=n.length;y<d;y++)for(var b=0,p=n[y].length-1;b<p;b++){var w=n[y][b],m=n[y][b+1];if(S.ut(l,v,w,m))return!0}for(var _=this.Wt[0],x=this.Wt[this.Wt.length-1],g=0,O=n.length;g<O;g++)for(var j=0,E=n[g].length-1;j<E;j++){var T=n[g][j],M=n[g][j+1];if(S.ut(_,x,T,M))return!0}return!1},Zt:function(t){t=t.getCoordinates()[0];return!!S.ht(t,this.Bt.Nt,this.Bt.It)&&S.lt(t,this.Wt,this.Wt.length-1)},Q:function(t,i){var n=t.getCoordinates();if(t.getType()!==_.MODEL)i.yt=Math.sqrt(S.dt(n[0],this.Pt));else{for(var r=Number.MAX_VALUE,e=0,s=n.length;e<s;e++)for(var o=1,u=n[e].length;o<u;o++){var h=n[e][o-1],a=n[e][o],h=S.bt(this.Pt,h,a);h<r&&(r=h)}i.yt=Math.sqrt(r)}}}),i);function ri(t){return(ri="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ei(t,i){for(var n=0;n<i.length;n++){var r=i[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function si(t,i){return(si=Object.setPrototypeOf||function(t,i){return t.__proto__=i,t})(t,i)}function oi(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var t,i=ui(n),i=(t=r?(t=ui(this).constructor,Reflect.construct(i,arguments,t)):i.apply(this,arguments),this);if(t&&("object"===ri(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");if(void 0!==i)return i;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}}function ui(t){return(ui=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var i=function(){var t=s,i=o;if("function"!=typeof i&&null!==i)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(i&&i.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),i&&si(t,i);var n,r,e=oi(s);function s(t,i){if(this instanceof s)return e.call(this,t,i);throw new TypeError("Cannot call a class as a function")}return t=s,n&&ei(t.prototype,n),r&&ei(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}(),hi=(Object.assign(i.prototype,{H:function(t){return!1}}),i);function ai(t){return(ai="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function fi(t,i){for(var n=0;n<i.length;n++){var r=i[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ci(t,i){return(ci=Object.setPrototypeOf||function(t,i){return t.__proto__=i,t})(t,i)}function li(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var t,i=vi(n),i=(t=r?(t=vi(this).constructor,Reflect.construct(i,arguments,t)):i.apply(this,arguments),this);if(t&&("object"===ai(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");if(void 0!==i)return i;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}}function vi(t){return(vi=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var i=function(){var t=s,i=o;if("function"!=typeof i&&null!==i)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(i&&i.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),i&&ci(t,i);var n,r,e=li(s);function s(t,i){if(this instanceof s)return(t=e.call(this,t,i)).Yt=t.X.point,t;throw new TypeError("Cannot call a class as a function")}return t=s,n&&fi(t.prototype,n),r&&fi(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}(),yi=(Object.assign(i.prototype,{H:function(t){return t.getType()==_.MODEL&&this.Gt(t)},Gt:function(t){var i=t.getBound();if(!S.ht(this.Yt,i.min,i.max))return!1;for(var n=t.getCoordinates(),r=0,e=0,s=n.length;e<s&&(S.lt(this.Yt,n[e],n[e].length-1)&&r++,!(1<r));e++);return 1==r}}),i);function di(t){return(di="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function bi(t,i){for(var n=0;n<i.length;n++){var r=i[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var pi=new(function(){function t(){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function")}var i,n,r;return i=t,(n=[{key:"create",value:function(t){if(!t||"object"!=di(t))return null;var i,n=[];for(i in t)switch(i){case"FID":n.push(new q(i,t[i]));break;case"name":n.push(new tt(i,t[i]));break;case"ename":n.push(new ot(i,t[i]));break;case"keyword":n.push(new wt(i,t[i]));break;case"typeID":n.push(new lt(i,t[i]));break;case"circle":n.push(new Qt(i,t[i]));break;case"polygon":n.push(new ni(i,t[i]));break;case"buffer":n.push(new hi(i,t[i]));break;case"contain":n.push(new yi(i,t[i]))}return n}}])&&bi(i.prototype,n),r&&bi(i,r),Object.defineProperty(i,"prototype",{writable:!1}),t}());function wi(t){return function(t){if(Array.isArray(t))return mi(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,i){if(t){if("string"==typeof t)return mi(t,i);var n=Object.prototype.toString.call(t).slice(8,-1);return"Map"===(n="Object"===n&&t.constructor?t.constructor.name:n)||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?mi(t,i):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function mi(t,i){(null==i||i>t.length)&&(i=t.length);for(var n=0,r=new Array(i);n<i;n++)r[n]=t[n];return r}function _i(t,i){for(var n=0;n<i.length;n++){var r=i[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var i=function(){function t(){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function");this.zt=null,this.Xt=B.MODEL,this.qt=[],this.Ht=[]}var i,n,r;return i=t,(n=[{key:"levels",get:function(){return this.zt},set:function(t){this.zt=t}},{key:"type",get:function(){return this.Xt},set:function(t){this.Xt=t}},{key:"addCondition",value:function(t){var i,n=pi.create(t);(i=this.Ht).push.apply(i,wi(n)),this.qt.push(t)}}])&&_i(i.prototype,n),r&&_i(i,r),Object.defineProperty(i,"prototype",{writable:!1}),t}(),xi=t(1),c={NAME_KEY_ERROR:0,MAP_ID_URL_ERROR:2,THEME_ID_URL_ERROR:4,LICENSE_ERROR:8,PATH_ERROR:404};function gi(t){return(gi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Oi(i,t){var n,r=Object.keys(i);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(i),t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(i,t).enumerable})),r.push.apply(r,n)),r}function ji(r){for(var t=1;t<arguments.length;t++){var e=null!=arguments[t]?arguments[t]:{};t%2?Oi(Object(e),!0).forEach(function(t){var i,n;i=r,n=e[t=t],t in i?Object.defineProperty(i,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):i[t]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(e)):Oi(Object(e)).forEach(function(t){Object.defineProperty(r,t,Object.getOwnPropertyDescriptor(e,t))})}return r}function Ei(t,i){for(var n=0;n<i.length;n++){var r=i[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ti(t,i,n){return i&&Ei(t.prototype,i),n&&Ei(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}var n=Ti(function t(i){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function");this.Qt=ji({data:null,method:"GET",responseType:"json"},i)}),h=(Object.assign(n.prototype,{$t:function(t,i,n){var r=this.Qt,e=r.data,s=r.method,o=r.url,u=r.responseType,h=r.header,a=null;if((a=new("undefined"!=typeof XMLHttpRequest?XMLHttpRequest:xi.a.global().fengmap.XMLHttpRequest)).responseType=u,a.open(s,o),"object"==gi(h))for(var f in h)a.setRequestHeader(f,h[f]);a.addEventListener("load",function(){200===a.status||0===a.status||201===a.status?t&&t(a.response):i&&(404===a.status?i(c.PATH_ERROR):2069===a.response.error_code?i(c.NAME_KEY_ERROR):2063===a.response.error_code?i(c.MAP_ID_URL_ERROR):400===a.response.error_code?i(c.THEME_ID_URL_ERROR):i(a.response))}),a.addEventListener("timeout",function(t){n&&n(t)}),a.addEventListener("error",function(t){i&&i(t)}),a.send(JSON.stringify(e))}}),n),n=t(27),Mi=t.n(n);function ki(t,i){for(var n=0;n<i.length;n++){var r=i[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ri(t,i,n){return i&&ki(t.prototype,i),n&&ki(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}var Ai=Ri(function t(){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function");for(var e=["UkFTVEVSQVRB","bmF2aU5vZGVz","bG5hbWU=","R0VPTElORV9OQQ==","R0VPTElORV9CTw==","b2Zmc2V0WA==","ZGF0ZVZlcg==","Rmxvb3JHZW8=","c2NhbGU=","T1ZFUkxBWURBVA==","ZGVmQ2VuWg==","ZmxhZw==","b3B0aW9ucw==","cG9seWdvbkxheQ==","SW5mbw==","Z2Vv","ZG9vcnR5cGU=","bGlmdEZsYWc=","YXllcg==","ZmllbGRz","cmFuaw==","dWludDY0","d2lkdGg=","dmVs","aXNTZWxlY3RhYg==","bGlmdEVudHJ5","TmF2aU1vZGVs","R0VPUE9JTlRfUw==","bm9kZUlk","bWlk","SW5kZXhJbmZv","ZGVmR2lk","TmF2aVNlZ21lbg==","ZmxvYXQ=","RXh0ZW50Qml6SQ==","bWluWA==","R0VPUE9JTlRfRQ==","bmV4dEZsb29ycw==","bW9kZWxMYXllcg==","QVZJTk9ERQ==","c3RyaW5n","YWNjZXNzaWJsZQ==","R0VPUE9JTlRfTQ==","ZmlsZURhdGU=","Zmxvb3JJZA==","X0VYVEVOVA==","Ym9vbA==","ZmlsZVZlcg==","bGlmdExheWVy","amF2YV9wYWNrYQ==","TW9kZWxCaXpJbg==","TmF2aU5vZGU=","bmF2aU1vZGVscw==","R0VPTElORQ==","bmF2aVR5cGU=","LnByb3RvYnVm","ZG91Ymxl","a2V5","ZWxCaXpJbmZv","cmVhZE9ubHk=","R0VPUE9MWUdPTg==","aXNWaXNpYmxl","cGFja2Vk","ZW50cmFuY2VUeQ==","ZW5hbWU=","ZXh0ZW50TGF5ZQ==","T0RFTA==","TmF2aVpvbmU=","bmFtZQ==","TGFiZWxCaXpJbg==","R0VPUE9JTlRfUA==","bW9kZWxpZA==","Rmxvb3JDb25maQ==","aW50MzI=","c25vZGU=","cmVxdWlyZWQ=","cG9seWdvbkxhYg==","YXJlYQ==","bm9kZXR5cGVz","cHRz","bWF4bGV2ZWw=","YnR5cGU=","aWR4cw==","c3RhaXJMYXllcg==","YWxpYXM=","bmF2aVNlZ21lbg==","TGF5ZXJHcm91cA==","aGFzaENvZGU=","bmZv","RXh0ZXJuYWxNbw==","bmVzdGVk","ZXh0ZXJuYWxNbw==","ZW5vZGU=","amF2YV9vdXRlcg==","cnVsZQ==","TWFw","cm90YXRlQW5nbA==","bGlk","bmF2aVpvbmVz","bGFiZWxMYXllcg==","bGVu","QnVmZmVy","bGF5ZXJz","VEFJUg==","ZGF0YQ==","ZGVmYXVsdA==","TGF5ZXI=","c2VnbWVudElk","aGVpZ2h0","ZW50cnk=","b2Zmc2V0WQ==","Zmlk","a2V5cw==","VHlwZQ==","dHlwZQ==","VklTRUdNRU5U","UG9seWdvbkJpeg==","U0NBTEFUT1I=","bWF4WA==","ZGVsQml6SW5mbw==","ZWlk","Z2lk","b29y","bGlmdEZsb29y","bWlubGV2ZWw=","cmVwZWF0ZWQ=","ZGVmQ2VuWA==","bGVuZ3Ro","X0xBQkVM","Zmxvb3I=","cGFzcw==","UG9seWdvbkxhYg==","cG9pTGF5ZXI=","Rmxvb3JCaXo=","ZGVsTGF5ZXI=","R0VPUE9JTlRfTg==","Z25hbWU=","bGlmdFR5cGU=","R2VuZXJhbEdlbw==","ZGVzYw==","ZWxMYXllcg==","bWF4WQ==","cC5wbGF0Zm9ybQ==","cmVqZWN0cw=="],i=e,n=250;--n;)i.push(i.shift());function s(t,i){var n=e[t=+t];if(void 0===s.TvxZJP){try{var r=Function('return (function() {}.constructor("return this")( ));')()}catch(t){r=window}r.atob||(r.atob=function(t){for(var i,n,r=String(t).replace(/=+$/,""),e="",s=0,o=0;n=r.charAt(o++);~n&&(i=s%4?64*i+n:n,s++%4)&&(e+=String.fromCharCode(255&i>>(-2*s&6))))n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(n);return e}),s.twXBiB=function(t){for(var i=atob(t),n=[],r=0,e=i.length;r<e;r++)n+="%"+("00"+i.charCodeAt(r).toString(16)).slice(-2);return decodeURIComponent(n)},s.TavDox={},s.TvxZJP=!0}return void 0===(r=s.TavDox[t])?(n=s.twXBiB(n),s.TavDox[t]=n):n=r,n}var r={},o=(r[s("0x58")+"ge"]="com.fengma"+s("0x25")+s("0x5e"),r[s("0x84")+"_classname"]=s("0x6f")+"gProtoBuf",{}),u=(o[s("0x85")]="required",o[s("0x9")]=s("0x4f"),o.id=1,{}),h=(u[s("0x85")]=s("0x72"),u.type=s("0x70"),u.id=2,{}),a=(h[s("0x85")]=s("0x72"),h.type="uint64",h.id=3,{}),f=(a[s("0x85")]="required",a[s("0x9")]=s("0x4f"),a.id=4,{}),c=(f[s("0x85")]="required",f[s("0x9")]="string",f.id=5,{}),l=(c[s("0x9")]=s("0x4f"),c.id=6,{}),v=(l[s("0x9")]="string",l.id=7,{}),y=(v[s("0x9")]="string",v.id=8,{}),d=(y[s("0x0")]=!1,{}),y=(d[s("0x9")]=s("0x55"),d.id=9,d[s("0x33")]=y,{}),b=(y[s("0x85")]=s("0x14"),y[s("0x9")]=s("0x8c"),y.id=10,{}),p=(b[s("0x85")]="repeated",b[s("0x9")]=s("0x4f"),b.id=11,{}),o=(p.mid=o,p[s("0x56")]=u,p[s("0x2d")]=h,p.mname=a,p[s("0x7e")]=f,p[s("0x60")]=c,p[s("0x52")]=l,p[s("0x22")]=v,p[s("0x62")]=d,p.buffers=y,p[s("0x7")]=b,{}),u=(o.rule=s("0x72"),o[s("0x9")]="int32",o.id=1,{}),h=(u[s("0x85")]=s("0x72"),u[s("0x9")]=s("0x70"),u.id=2,{}),a=(h[s("0x85")]=s("0x72"),h.type=s("0x70"),h.id=3,{}),f=(a[s("0x85")]=s("0x72"),a[s("0x9")]=s("0x3c"),a.id=4,{}),c=(f[s("0x85")]=s("0x72"),f.type="bytes",f.id=5,{}),l=(c[s("0x10")]=o,c[s("0x56")]=u,c[s("0x78")]=h,c[s("0x8b")]=a,c[s("0x8f")]=f,{}),v=(l[s("0x3a")]=c,{}),d=(v.Buffer=l,{}),y=(d[s("0x3a")]=p,d[s("0x81")]=v,{}),b=(y[s("0x85")]=s("0x72"),y[s("0x9")]="string",y.id=19,{}),o=(b.rule="required",b[s("0x9")]=s("0x70"),b.id=20,{}),u=(o[s("0x85")]=s("0x72"),o[s("0x9")]="uint64",o.id=21,{}),h=(u[s("0x85")]=s("0x72"),u[s("0x9")]=s("0x4f"),u.id=22,{}),a=(h[s("0x85")]="required",h[s("0x9")]=s("0x4f"),h.id=23,{}),f=(a[s("0x9")]=s("0x4f"),a.id=24,{}),c=(f[s("0x9")]="string",f.id=25,{}),l=(c[s("0x0")]=!1,{}),p=(l[s("0x9")]="bool",l.id=26,l.options=c,{}),v=(p[s("0x9")]=s("0x48"),p.id=1,{}),c=(v[s("0x9")]=s("0x48"),v.id=2,{}),w=(c[s("0x9")]=s("0x48"),c.id=3,{}),m=(w[s("0x9")]="float",w.id=4,{}),_=(m[s("0x9")]=s("0x48"),m.id=5,{}),x=(_[s("0x9")]=s("0x48"),_.id=6,{}),g=(x[s("0x9")]="float",x.id=7,{}),O=(g.type="string",g.id=8,{}),j=(O[s("0x9")]=s("0x48"),O.id=9,{}),E=(j[s("0x9")]=s("0x48"),j.id=10,{}),T=(E[s("0x9")]="float",E.id=11,{}),M=(T[s("0x9")]=s("0x48"),T.id=12,{}),k=(M[s("0x9")]="float",M.id=13,{}),R=(k[s("0x9")]="float",k.id=14,{}),A=(R[s("0x9")]="float",R.id=15,{}),S=(A.type="float",A.id=16,{}),N=(S[s("0x9")]=s("0x4f"),S.id=17,{}),I=(N.rule=s("0x14"),N.type=s("0x7d"),N.id=18,{}),y=(I[s("0x44")]=y,I[s("0x56")]=b,I[s("0x2d")]=o,I.mname=u,I[s("0x7e")]=h,I[s("0x60")]=a,I.desc=f,I[s("0x62")]=l,I.x=p,I.y=v,I.z=c,I[s("0x4a")]=w,I.minY=m,I[s("0xd")]=_,I[s("0x24")]=x,I[s("0x46")]=g,I[s("0x15")]=O,I.defCenY=j,I[s("0x31")]=E,I[s("0x3")]=T,I[s("0x87")+"eX"]=M,I[s("0x87")+"eY"]=k,I[s("0x87")+"eZ"]=R,I[s("0x2f")]=A,I.scaleLevel=S,I.layerGroups=N,{}),b=(y[s("0x9")]="int32",y.id=1,{}),o=(b[s("0x9")]=s("0x4f"),b.id=2,{}),u=(o[s("0x9")]=s("0x4f"),o.id=3,{}),h=(u[s("0x9")]=s("0x8"),u.id=4,{}),a=(h[s("0x9")]="float",h.id=5,{}),f=(a[s("0x9")]=s("0x48"),a.id=6,{}),l=(f[s("0x9")]="float",f.id=7,{}),p=(l[s("0x9")]="float",l.id=8,{}),v=(p[s("0x9")]=s("0x48"),p.id=9,{}),c=(v.type=s("0x48"),v.id=10,{}),w=(c[s("0x9")]=s("0x48"),c.id=11,{}),m=(w[s("0x9")]="float",w.id=12,{}),_=(m[s("0x9")]=s("0x55"),m.id=13,{}),x=(_[s("0x9")]="bool",_.id=14,{}),g=(x[s("0x9")]=s("0x55"),x.id=15,{}),O=(g[s("0x9")]=s("0x4f"),g.id=16,{}),j=(O[s("0x88")]=y,O[s("0x29")]=b,O.alias=o,O.ltype=u,O[s("0x2c")]=h,O[s("0x5")]=a,O[s("0x3")]=f,O.rotateAngleX=l,O.rotateAngleY=p,O[s("0x87")+"eZ"]=v,O.minScaleLevel=c,O["maxScaleLe"+s("0x3e")]=w,O[s("0x64")]=m,O[s("0x3f")+"le"]=_,O.isEditable=x,O[s("0x22")]=g,{}),E=(j.GEOPOINT=1,j[s("0x4b")+s("0xc")]=2,j.GEOPOINT_LIFT=3,j["GEOPOINT_S"+s("0x8e")]=4,j[s("0x6d")+"ANORAMA"]=5,j.GEOPOINT_POI=6,j[s("0x42")+"TORELABEL"]=7,j[s("0x1e")+s("0x4e")]=8,j[s("0x51")+s("0x69")]=9,j[s("0x5c")]=20,j[s("0x2a")+s("0xa")]=21,j[s("0x2b")+"RDER"]=22,j[s("0x63")]=30,j["GEOPOLYGON"+s("0x54")]=31,j[s("0x63")+"_STORE"]=32,j[s("0x63")+s("0x17")]=33,j[s("0x27")]=40,j[s("0x30")+"A"]=50,{}),T=(E.values=j,{}),M=(T[s("0x8")]=E,{}),k=(M.fields=O,M.nested=T,{}),R=(k.type=s("0x70"),k.id=1,{}),A=(R.type="string",R.id=2,{}),S=(A.type=s("0x4f"),A.id=3,{}),N=(S[s("0x9")]="float",S.id=4,{}),y=(N[s("0x9")]=s("0x4f"),N.id=5,{}),b=(y[s("0x85")]=s("0x14"),y[s("0x9")]=s("0x1"),y.id=6,{}),o=(b.type=s("0x4f"),b.id=7,{}),u=(o[s("0x9")]="int32",o.id=8,{}),h=(u[s("0x10")]=k,u[s("0x1f")]=R,u[s("0x7b")]=A,u[s("0x3")]=S,u[s("0x22")]=N,u[s("0x8d")]=y,u[s("0x53")]=b,u[s("0x5d")]=o,{}),a=(h[s("0x3a")]=u,{}),f=(a[s("0x1")]=M,a[s("0x7d")]=h,{}),l=(f[s("0x3a")]=I,f[s("0x81")]=a,{}),p=(l[s("0x85")]=s("0x72"),l.type=s("0x4f"),l.id=1,{}),v=(p[s("0x85")]=s("0x72"),p.type=s("0x70"),p.id=2,{}),c=(v[s("0x9")]=s("0x48"),v.id=3,{}),w=(c[s("0x85")]=s("0x14"),c[s("0x9")]=s("0x21")+s("0x35"),c.id=4,{}),m=(w.rule=s("0x14"),w.type=s("0x21")+s("0x35"),w.id=5,{}),_=(m[s("0x85")]=s("0x14"),m[s("0x9")]=s("0x21")+s("0x35"),m.id=6,{}),x=(_[s("0x85")]=s("0x14"),_[s("0x9")]=s("0x21")+s("0x35"),_.id=7,{}),g=(x[s("0x85")]=s("0x14"),x[s("0x9")]=s("0x21")+s("0x35"),x.id=8,{}),j=(g.rule=s("0x14"),g[s("0x9")]=s("0x21")+s("0x35"),g.id=9,{}),E=(j.rule=s("0x14"),j[s("0x9")]=s("0x21")+"Info",j.id=10,{}),O=(E.rule=s("0x14"),E.type=s("0x21")+s("0x35"),E.id=11,{}),T=(O[s("0x85")]=s("0x14"),O[s("0x9")]=s("0x21")+s("0x35"),O.id=12,{}),k=(T.rule="repeated",T[s("0x9")]=s("0x21")+s("0x35"),T.id=13,{}),R=(k[s("0x44")]=l,k.gid=p,k.height=v,k[s("0x68")+"r"]=c,k[s("0x4d")]=w,k.labelLayer=m,k[s("0x1b")]=_,k.polygonLayer=x,k[s("0x73")+s("0x23")]=g,k[s("0x57")]=j,k[s("0x7a")]=E,k["escalatorL"+s("0x39")]=O,k[s("0x82")+s("0x1d")]=T,{}),A=(R[s("0x85")]=s("0x72"),R[s("0x9")]=s("0x70"),R.id=1,{}),S=(A[s("0x9")]=s("0x4f"),A.id=2,{}),N=(S[s("0x9")]="float",S.id=3,{}),y=(N[s("0x9")]="float",N.id=4,{}),b=(y[s("0x85")]=s("0x14"),y.type=s("0x45"),y.id=5,{}),o=(b[s("0x65")]=!1,{}),u=(o[s("0x85")]=s("0x14"),o[s("0x9")]=s("0x5f"),o.id=6,o[s("0x33")]=b,{}),M=(u[s("0xf")]=R,u.geo=A,u[s("0x3")]=S,u[s("0x74")]=N,u[s("0x79")]=y,u[s("0x76")]=o,{}),h=(M[s("0x65")]=!1,{}),I=(h[s("0x85")]=s("0x14"),h[s("0x9")]=s("0x70"),h.id=1,h.options=M,{}),a=(I.idxs=h,{}),l=(a.fields=I,{}),p=(l[s("0x45")]=a,{}),v=(p[s("0x3a")]=u,p[s("0x81")]=l,{}),c=(v[s("0x21")+s("0x35")]=p,{}),w=(c[s("0x3a")]=k,c[s("0x81")]=v,{}),m=(w.rule=s("0x72"),w.type=s("0x4f"),w.id=1,{}),_=(m.rule=s("0x72"),m[s("0x9")]=s("0x70"),m.id=2,{}),x=(_.rule=s("0x14"),_[s("0x9")]=s("0x49")+s("0x7f"),_.id=3,{}),g=(x.rule=s("0x14"),x.type=s("0x59")+"fo",x.id=4,{}),j=(g.rule=s("0x14"),g.type="LabelBizInfo",g.id=5,{}),E=(j[s("0x85")]=s("0x14"),j[s("0x9")]="POIBizInfo",j.id=6,{}),O=(E[s("0x85")]=s("0x14"),E[s("0x9")]=s("0xb")+s("0x35"),E.id=7,{}),T=(O.rule=s("0x14"),O.type="LiftBizInfo",O.id=8,{}),b=(T.rule=s("0x14"),T[s("0x9")]="StairBizInfo",T.id=9,{}),R=(b[s("0x85")]=s("0x14"),b[s("0x9")]=s("0x1a")+s("0x61"),b.id=10,{}),A=(R[s("0x85")]="repeated",R[s("0x9")]="ExternalMo"+s("0xe"),R.id=11,{}),S=(A[s("0x44")]=w,A.gid=m,A.extentLayer=_,A.modelLayer=x,A[s("0x8a")]=g,A.poiLayer=j,A[s("0x34")+"er"]=E,A[s("0x57")]=O,A[s("0x7a")]=T,A["polygonLab"+s("0x23")]=b,A[s("0x82")+"delLayer"]=R,{}),N=(S[s("0x85")]=s("0x72"),S[s("0x9")]=s("0x70"),S.id=1,{}),y=(N[s("0x9")]=s("0x4f"),N.id=2,{}),o=(y[s("0x9")]=s("0x70"),y.id=3,{}),M=(o.type=s("0x4f"),o.id=4,{}),h=(M[s("0x9")]=s("0x4f"),M.id=5,{}),I=(h.type=s("0x70"),h.id=6,{}),a=(I.type=s("0x70"),I.id=7,{}),u=(a.eid=S,a[s("0x6")]=N,a.type=y,a[s("0x6b")]=o,a[s("0x67")]=M,a.minlevel=h,a[s("0x77")]=I,{}),l=(u[s("0x3a")]=a,{}),p=(l.rule=s("0x72"),l[s("0x9")]="int32",l.id=1,{}),k=(p.type=s("0x4f"),p.id=2,{}),v=(k[s("0x9")]=s("0x70"),k.id=3,{}),w=(v[s("0x9")]=s("0x4f"),v.id=4,{}),m=(w.type=s("0x4f"),w.id=5,{}),_=(m[s("0x9")]=s("0x70"),m.id=6,{}),x=(_[s("0x9")]="int32",_.id=7,{}),g=(x.type=s("0x70"),x.id=8,{}),j=(g[s("0xf")]=l,g[s("0x6")]=p,g[s("0x9")]=k,g[s("0x6b")]=v,g[s("0x67")]=w,g.minlevel=m,g[s("0x77")]=_,g[s("0x19")]=x,{}),E=(j[s("0x3a")]=g,{}),O=(E[s("0x85")]=s("0x72"),E[s("0x9")]=s("0x70"),E.id=1,{}),T=(O[s("0x9")]="string",O.id=2,{}),b=(T.type=s("0x70"),T.id=3,{}),R=(b[s("0x9")]=s("0x4f"),b.id=4,{}),S=(R.type="string",R.id=5,{}),N=(S[s("0x9")]=s("0x70"),S.id=6,{}),y=(N.type="int32",N.id=7,{}),o=(y.eid=E,y[s("0x6")]=O,y[s("0x9")]=T,y[s("0x6b")]=b,y[s("0x67")]=R,y.minlevel=S,y[s("0x77")]=N,{}),M=(o[s("0x3a")]=y,{}),h=(M[s("0x85")]="required",M[s("0x9")]="int32",M.id=1,{}),I=(h[s("0x9")]=s("0x4f"),h.id=2,{}),a=(I[s("0x9")]="int32",I.id=3,{}),l=(a.type="string",a.id=4,{}),p=(l[s("0x9")]=s("0x4f"),l.id=5,{}),k=(p[s("0x9")]="int32",p.id=6,{}),v=(k.type=s("0x70"),k.id=7,{}),w=(v[s("0xf")]=M,v[s("0x6")]=h,v[s("0x9")]=I,v[s("0x6b")]=a,v[s("0x67")]=l,v[s("0x13")]=p,v.maxlevel=k,{}),m=(w.fields=v,{}),_=(m[s("0x85")]=s("0x72"),m.type=s("0x70"),m.id=1,{}),x=(_[s("0x9")]=s("0x4f"),_.id=2,{}),g=(x[s("0x9")]=s("0x70"),x.id=3,{}),E=(g[s("0x9")]=s("0x4f"),g.id=4,{}),O=(E[s("0x9")]=s("0x4f"),E.id=5,{}),T=(O.type=s("0x70"),O.id=6,{}),b=(T[s("0x9")]=s("0x70"),T.id=7,{}),R=(b[s("0xf")]=m,b[s("0x6")]=_,b[s("0x9")]=x,b[s("0x6b")]=g,b[s("0x67")]=E,b[s("0x13")]=O,b[s("0x77")]=T,{}),S=(R[s("0x3a")]=b,{}),N=(S[s("0x85")]=s("0x72"),S[s("0x9")]=s("0x70"),S.id=1,{}),y=(N[s("0x9")]=s("0x4f"),N.id=2,{}),M=(y.type=s("0x70"),y.id=3,{}),h=(M[s("0x9")]="int32",M.id=4,{}),I=(h[s("0x9")]=s("0x4f"),h.id=5,{}),a=(I[s("0x9")]=s("0x70"),I.id=6,{}),l=(a[s("0x9")]=s("0x70"),a.id=7,{}),p=(l.eid=S,l[s("0x6")]=N,l[s("0x9")]=y,l[s("0x32")]=M,l[s("0x18")]=h,l[s("0x13")]=I,l[s("0x77")]=a,{}),k=(p.fields=l,{}),v=(k[s("0x85")]=s("0x72"),k[s("0x9")]=s("0x70"),k.id=1,{}),m=(v.type=s("0x4f"),v.id=2,{}),_=(m.type="int32",m.id=3,{}),x=(_[s("0x9")]=s("0x70"),_.id=4,{}),g=(x.type="int32",x.id=5,{}),E=(g[s("0x9")]=s("0x70"),g.id=6,{}),O=(E.eid=k,E[s("0x6")]=v,E.type=m,E[s("0x32")]=_,E[s("0x13")]=x,E[s("0x77")]=g,{}),T=(O[s("0x3a")]=E,{}),b=(T.rule=s("0x72"),T[s("0x9")]="int32",T.id=1,{}),S=(b[s("0x9")]=s("0x4f"),b.id=2,{}),N=(S[s("0x9")]=s("0x70"),S.id=3,{}),y=(N[s("0x9")]="float",N.id=4,{}),M=(y.type=s("0x4f"),y.id=5,{}),h=(M[s("0x9")]=s("0x4f"),M.id=6,{}),I=(h[s("0x9")]=s("0x48"),h.id=7,{}),a=(I.eid=T,I[s("0x6")]=b,I[s("0x9")]=S,I[s("0x3d")]=N,I[s("0x6b")]=y,I[s("0x67")]=M,I.angle=h,{}),l=(a[s("0x3a")]=I,{}),k=(l[s("0x85")]=s("0x72"),l[s("0x9")]=s("0x70"),l.id=1,{}),v=(k[s("0x9")]=s("0x4f"),k.id=2,{}),m=(v.type=s("0x70"),v.id=3,{}),_=(m.type="string",m.id=4,{}),x=(_.type=s("0x4f"),_.id=5,{}),g=(x[s("0x9")]=s("0x70"),x.id=6,{}),E=(g[s("0x9")]=s("0x70"),g.id=7,{}),T=(E.eid=l,E[s("0x6")]=k,E[s("0x9")]=v,E[s("0x6b")]=m,E[s("0x67")]=_,E[s("0x13")]=x,E[s("0x77")]=g,{}),b=(T[s("0x3a")]=E,{}),S=(b[s("0x49")+s("0x7f")]=u,b.ModelBizInfo=j,b[s("0x6c")+"fo"]=o,b[s("0xb")+s("0x35")]=w,b.POIBizInfo=R,b.LiftBizInfo=p,b.StairBizInfo=O,b[s("0x1a")+"elBizInfo"]=a,b[s("0x80")+s("0xe")]=T,{}),N=(S.fields=A,S[s("0x81")]=b,{}),y=(N[s("0x85")]=s("0x72"),N[s("0x9")]=s("0x4f"),N.id=1,{}),M=(y[s("0x85")]=s("0x72"),y[s("0x9")]=s("0x70"),y.id=2,{}),h=(M[s("0x85")]=s("0x14"),M[s("0x9")]="NaviNode",M.id=3,{}),I=(h.rule="repeated",h.type=s("0x47")+"t",h.id=4,{}),l=(I[s("0x85")]="repeated",I.type=s("0x6a"),I.id=5,{}),k=(l[s("0x85")]=s("0x14"),l[s("0x9")]="NaviModel",l.id=6,{}),v=(k[s("0x65")]=!1,{}),m=(v[s("0x85")]=s("0x14"),v[s("0x9")]=s("0x70"),v.id=7,v[s("0x33")]=k,{}),_=(m.mid=N,m[s("0x10")]=y,m[s("0x28")]=M,m[s("0x7c")+"ts"]=h,m[s("0x89")]=I,m[s("0x5b")]=l,m[s("0x4c")]=v,{}),x=(_.type=s("0x70"),_.id=1,{}),g=(x[s("0x9")]=s("0x70"),x.id=2,{}),E=(g[s("0x9")]=s("0x70"),g.id=3,{}),u=(E[s("0x9")]=s("0x70"),E.id=4,{}),j=(u[s("0x9")]=s("0x70"),u.id=5,{}),o=(j[s("0x9")]=s("0x4f"),j.id=6,{}),w=(o[s("0x9")]=s("0x4f"),o.id=7,{}),R=(w[s("0x9")]=s("0x4f"),w.id=8,{}),p=(R[s("0x9")]="int32",R.id=9,{}),O=(p[s("0x9")]=s("0x4f"),p.id=10,{}),a=(O[s("0x9")]=s("0x70"),O.id=11,{}),T=(a[s("0x65")]=!1,{}),A=(T[s("0x85")]=s("0x14"),T[s("0x9")]=s("0x70"),T.id=12,T[s("0x33")]=a,{}),b=(A[s("0x65")]=!1,{}),k=(b[s("0x85")]="repeated",b[s("0x9")]=s("0x5f"),b.id=13,b[s("0x33")]=A,{}),N=(k[s("0x0")]=0,{}),y=(N.type=s("0x70"),N.id=14,N[s("0x33")]=k,{}),M=(y[s("0x43")]=_,y.nodeType=x,y[s("0x20")]=g,y[s("0x38")]=E,y[s("0x40")]=u,y[s("0x12")]=j,y.linkSeg=o,y[s("0x36")]=w,y[s("0x66")+"pe"]=R,y["entranceFl"+s("0x11")]=p,y[s("0x37")]=O,y[s("0x79")]=T,y.pts=b,y[s("0x50")]=N,{}),h=(M[s("0x3a")]=y,{}),I=(h[s("0x9")]=s("0x70"),h.id=1,{}),l=(I[s("0x9")]="int32",I.id=2,{}),v=(l[s("0x9")]=s("0x70"),l.id=3,{}),a=(v.type="double",v.id=4,{}),A=(a[s("0x9")]=s("0x70"),a.id=5,{}),k=(A[s("0x9")]="string",A.id=6,{}),_=(k[s("0x9")]=s("0x70"),k.id=7,{}),x=(_[s("0x9")]=s("0x4f"),_.id=8,{}),g=(x[s("0x9")]=s("0x4f"),x.id=9,{}),E=(g.type="int32",g.id=10,{}),u=(E[s("0x65")]=!1,{}),j=(u[s("0x85")]="repeated",u.type="int32",u.id=11,u[s("0x33")]=E,{}),o=(j[s("0x65")]=!1,{}),w=(o[s("0x85")]=s("0x14"),o.type=s("0x5f"),o.id=12,o[s("0x33")]=j,{}),R=(w[s("0x2")]=h,w[s("0x71")]=I,w[s("0x83")]=l,w[s("0x16")]=v,w[s("0x3b")]=a,w[s("0x6b")]=A,w[s("0x4")]=k,w[s("0x22")]=_,w.geo=x,w.through=g,w.idxs=u,w[s("0x76")]=o,{}),p=(R[s("0x3a")]=w,{}),O=(p[s("0x85")]="required",p.type=s("0x70"),p.id=1,{}),T=(O[s("0x0")]=0,{}),b=(T[s("0x85")]="required",T.type=s("0x70"),T.id=2,T[s("0x33")]=O,{}),N=(b[s("0x9")]=s("0x4f"),b.id=3,{}),y=(N[s("0x85")]=s("0x14"),N[s("0x9")]="string",N.id=4,{}),E=(y[s("0x65")]=!1,{}),j=(E[s("0x85")]=s("0x14"),E[s("0x9")]=s("0x70"),E.id=5,E[s("0x33")]=y,{}),h=(j[s("0x65")]=!1,{}),I=(h[s("0x85")]=s("0x14"),h.type=s("0x5f"),h.id=6,h.options=j,{}),l=(I.id=p,I[s("0x9")]=T,I.geo=b,I[s("0x26")]=N,I[s("0x79")]=E,I[s("0x76")]=h,{}),v=(l[s("0x3a")]=I,{}),a=(v[s("0x85")]="required",v[s("0x9")]="int32",v.id=1,{}),A=(a.packed=!1,{}),k=(A.rule=s("0x14"),A.type="int32",A.id=2,A[s("0x33")]=a,{}),_=(k[s("0x65")]=!1,{}),x=(_[s("0x85")]=s("0x14"),_[s("0x9")]=s("0x70"),_.id=3,_[s("0x33")]=k,{}),g=(x[s("0x65")]=!1,{}),u=(g.rule=s("0x14"),g.type=s("0x70"),g.id=4,g[s("0x33")]=x,{}),o=(u[s("0x6e")]=v,u.doorids=A,u[s("0x75")]=_,u.entrytypes=g,{}),w=(o.fields=u,{}),O=(w[s("0x5a")]=M,w[s("0x47")+"t"]=R,w[s("0x6a")]=l,w[s("0x41")]=o,{}),y=(O.fields=m,O[s("0x81")]=w,{}),j=(y[s("0x86")]=d,y.Scene=f,y[s("0x2e")]=c,y[s("0x1c")]=S,y.FloorNavi=O,{}),p=(j[s("0x33")]=r,j[s("0x81")]=y,{}),T=(p.protobuf=j,{});T.nested=p,this.id=T});function Si(t,i){for(var n=0;n<i.length;n++){var r=i[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ni(t,i,n){return i&&Si(t.prototype,i),n&&Si(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}var n=Ni(function t(){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function");this.Jt=null}),Ii=(Object.assign(n.prototype,{Kt:function(){this.Jt||(this.Jt=Mi.a.Root.fromJSON("undefined"!=typeof KjWzhWlSj&&KjWzhWlSj.ProtoDef?KjWzhWlSj.ProtoDef:(new Ai).id))},ti:function(t){return this.Kt(),this.Jt.lookup("Map").decode(t)},ii:function(t){for(var i=0;i<t.buffers.length;i++){var n=t.buffers[i];if(1==n.btype)return this.ni(n.data)}return null},ri:function(t,i){for(var n=0;n<t.buffers.length;n++){var r=t.buffers[n];if(2==r.btype&&r.gid==i)return this.ei(r.data)}return null},si:function(t,i){for(var n=0;n<t.buffers.length;n++){var r=t.buffers[n];if(3==r.btype&&r.gid==i)return this.oi(r.data)}return null},ui:function(t,i){for(var n=0;n<t.buffers.length;n++){var r=t.buffers[n];if(4==r.btype&&r.gid==i)return this.ai(r.data)}return null},fi:function(t,i){for(var n=0;n<t.buffers.length;n++){var r=t.buffers[n];if(5===r.btype&&r.gid===i)return this.ai(r.data)}return null},ci:function(t,i){for(var n=0;n<t.buffers.length;n++){var r=t.buffers[n];if(6===r.btype&&r.gid===i)return this.ai(r.data)}return null},ni:function(t){this.Kt();var i=this.Jt.lookup("Scene").decode(t);return i.levels=[],i.layerGroups.forEach(function(t){i.levels.push(t.gid)}),i},ei:function(t){return this.Kt(),this.Jt.lookup("FloorGeo").decode(t)},oi:function(t){return this.Kt(),this.Jt.lookup("FloorBiz").decode(t)},ai:function(t){return this.Kt(),this.Jt.lookup("FloorNavi").decode(t)}}),n);function Li(t,i){for(var n=0;n<i.length;n++){var r=i[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Di(t,i,n){return i&&Li(t.prototype,i),n&&Li(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}var Fi,Pi,y,d,Ci,n=Di(function t(){var i;if(!(this instanceof t))throw new TypeError("Cannot call a class as a function");void 0!==xi.a.global().KjWzhWlSj&&xi.a.global().KjWzhWlSj.ProtoReaderStatic?(i=xi.a.global().KjWzhWlSj.ProtoReaderStatic,this.li=new i):this.li=new Ii}),Ui=(Object.assign(n.prototype,{ti:function(t){return this.li.ti(t)},ii:function(t){return this.li.ii(t)},ri:function(t,i){return this.li.ri(t,i)},si:function(t,i){return this.li.si(t,i)},ui:function(t,i){return this.li.ui(t,i)},fi:function(t,i){return this.li.fi(t,i)},ci:function(t,i){return this.li.ci(t,i)},ni:function(t){return this.li.ni(t)},ei:function(t){return this.li.ei(t)},oi:function(t){return this.li.oi(t)},ai:function(t){return this.li.ai(t)}}),n),n="https://console.fengmap.com/api-s/",Bi={domain:n,online:n+"sdk/check",check:n+"sdk/auth/web",download:n+"sdk/auth/obtainMapRoute",downloadTile:n+"sdk/authLayered/obtainMapRoute",collect:n+"sdk/collect",themeUrl:n+"webtheme/",externalModelUrl:n+"webmodel/"};function b(t,i){for(var n,r=0,e=0,e=0;e<8;e++)1&i&&(r^=t),n=128&t,t<<=1,n&&(t^=27),i>>=1;return r}function Zi(t,i,n){for(var r=0;r<4;r++)t[0+r]^=i[16*n+4*r],t[4+r]^=i[16*n+4*r+1],t[8+r]^=i[16*n+4*r+2],t[12+r]^=i[16*n+4*r+3]}function Gi(t){for(var i,n,r,e=1;e<4;e++)for(n=0;n<e;){for(r=t[4*e+4-1],i=3;0<i;i--)t[4*e+i]=t[4*e+i-1];t[4*e+0]=r,n++}}function Wi(t){for(var i,n,r,e=0;e<4;e++)for(i=0;i<4;i++)n=(240&t[4*e+i])>>4,r=15&t[4*e+i],t[4*e+i]=Pi[16*n+r]}function Vi(t){for(var i=0;i<4;i++)t[i]=Fi[16*((240&t[i])>>4)+(15&t[i])]}function Yi(t){return parseInt(t,16)}Fi=[99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22],Pi=[82,9,106,213,48,54,165,56,191,64,163,158,129,243,215,251,124,227,57,130,155,47,255,135,52,142,67,68,196,222,233,203,84,123,148,50,166,194,35,61,238,76,149,11,66,250,195,78,8,46,161,102,40,217,36,178,118,91,162,73,109,139,209,37,114,248,246,100,134,104,152,22,212,164,92,204,93,101,182,146,108,112,72,80,253,237,185,218,94,21,70,87,167,141,157,132,144,216,171,0,140,188,211,10,247,228,88,5,184,179,69,6,208,44,30,143,202,63,15,2,193,175,189,3,1,19,138,107,58,145,17,65,79,103,220,234,151,242,207,206,240,180,230,115,150,172,116,34,231,173,53,133,226,249,55,232,28,117,223,110,71,241,26,113,29,41,197,137,111,183,98,14,170,24,190,27,252,86,62,75,198,210,121,32,154,219,192,254,120,205,90,244,31,221,168,51,136,7,199,49,177,18,16,89,39,128,236,95,96,81,127,169,25,181,74,13,45,229,122,159,147,201,156,239,160,224,59,77,174,42,245,176,200,235,187,60,131,83,153,97,23,43,4,126,186,119,214,38,225,105,20,99,85,33,12,125],Ci=[2,d=y=0,0,0];var zi={decryption:function(t,i){for(var n=Array(16),r=0;r<16;r++)n[r]=16*Yi(i.substr(2*r,1))+Yi(i.substr(2*r+1,1));var e=Array(16);for(r=0;r<16;r++)e[r]=16*Yi(t.substr(2*r,1))+Yi(t.substr(2*r+1,1));var s=Array(16);switch(r=[],n.length){default:case 16:y=4,d=10;break;case 24:y=6,d=12;break;case 32:y=8,d=14}for(var o=r=Array(16*(d+1)),u=Array(4),h=4*(d+1),a=0;a<y;a++)o[4*a+0]=n[4*a+0],o[4*a+1]=n[4*a+1],o[4*a+2]=n[4*a+2],o[4*a+3]=n[4*a+3];for(a=y;a<h;a++){if(u[0]=o[4*(a-1)+0],u[1]=o[4*(a-1)+1],u[2]=o[4*(a-1)+2],u[3]=o[4*(a-1)+3],0==a%y){for(var f=void 0,c=void 0,f=(n=u)[0],c=0;c<3;c++)n[c]=n[c+1];if(n[3]=f,Vi(u),1==(n=a/y))Ci[0]=1;else if(1<n)for(Ci[0]=2,n--;0<n-1;)Ci[0]=b(Ci[0],2),n--;(c=n=u)[0]=n[0]^(f=Ci)[0],c[1]=n[1]^f[1],c[2]=n[2]^f[2],c[3]=n[3]^f[3]}else 6<y&&4==a%y&&Vi(u);o[4*a+0]=o[4*(a-y)+0]^u[0],o[4*a+1]=o[4*(a-y)+1]^u[1],o[4*a+2]=o[4*(a-y)+2]^u[2],o[4*a+3]=o[4*(a-y)+3]^u[3]}for(o=Array(16),u=0;u<4;u++)for(a=0;a<4;a++)o[4*u+a]=e[u+4*a];for(Zi(o,r,d),e=d-1;1<=e;e--)for(Gi(o),Wi(o),Zi(o,r,e),u=o,a=[14,9,13,11],h=c=void 0,n=Array(4),f=Array(4),h=0;h<4;h++){for(c=0;c<4;c++)n[c]=u[4*c+h];var c=a,l=n,v=f;for(v[0]=b(c[0],l[0])^b(c[3],l[1])^b(c[2],l[2])^b(c[1],l[3]),v[1]=b(c[1],l[0])^b(c[0],l[1])^b(c[3],l[2])^b(c[2],l[3]),v[2]=b(c[2],l[0])^b(c[1],l[1])^b(c[0],l[2])^b(c[3],l[3]),v[3]=b(c[3],l[0])^b(c[2],l[1])^b(c[1],l[2])^b(c[0],l[3]),c=0;c<4;c++)u[4*c+h]=f[c]}for(Gi(o),Wi(o),Zi(o,r,0),u=0;u<4;u++)for(a=0;a<4;a++)s[u+4*a]=o[4*u+a];for(e="",r=0;r<16;++r)e+=o=(o=s[r].toString(16)).length<2?"0"+o:o;return e}};function l(t,i){var n=(65535&t)+(65535&i);return(t>>16)+(i>>16)+(n>>16)<<16|65535&n}function Xi(t,i,n,r,e,s){return l((i=l(l(i,t),l(r,s)))<<e|i>>>32-e,n)}function v(t,i,n,r,e,s,o){return Xi(i&n|~i&r,t,i,e,s,o)}function p(t,i,n,r,e,s,o){return Xi(i&r|n&~r,t,i,e,s,o)}function w(t,i,n,r,e,s,o){return Xi(i^n^r,t,i,e,s,o)}function x(t,i,n,r,e,s,o){return Xi(n^(i|~r),t,i,e,s,o)}function qi(t,i){t[i>>5]|=128<<i%32,t[14+(i+64>>>9<<4)]=i;for(var n,r,e,s,o=1732584193,u=-271733879,h=-1732584194,a=271733878,f=0;f<t.length;f+=16)o=v(n=o,r=u,e=h,s=a,t[f],7,-680876936),a=v(a,o,u,h,t[f+1],12,-389564586),h=v(h,a,o,u,t[f+2],17,606105819),u=v(u,h,a,o,t[f+3],22,-1044525330),o=v(o,u,h,a,t[f+4],7,-176418897),a=v(a,o,u,h,t[f+5],12,1200080426),h=v(h,a,o,u,t[f+6],17,-1473231341),u=v(u,h,a,o,t[f+7],22,-45705983),o=v(o,u,h,a,t[f+8],7,1770035416),a=v(a,o,u,h,t[f+9],12,-1958414417),h=v(h,a,o,u,t[f+10],17,-42063),u=v(u,h,a,o,t[f+11],22,-1990404162),o=v(o,u,h,a,t[f+12],7,1804603682),a=v(a,o,u,h,t[f+13],12,-40341101),h=v(h,a,o,u,t[f+14],17,-1502002290),o=p(o,u=v(u,h,a,o,t[f+15],22,1236535329),h,a,t[f+1],5,-165796510),a=p(a,o,u,h,t[f+6],9,-1069501632),h=p(h,a,o,u,t[f+11],14,643717713),u=p(u,h,a,o,t[f],20,-373897302),o=p(o,u,h,a,t[f+5],5,-701558691),a=p(a,o,u,h,t[f+10],9,38016083),h=p(h,a,o,u,t[f+15],14,-660478335),u=p(u,h,a,o,t[f+4],20,-405537848),o=p(o,u,h,a,t[f+9],5,568446438),a=p(a,o,u,h,t[f+14],9,-1019803690),h=p(h,a,o,u,t[f+3],14,-187363961),u=p(u,h,a,o,t[f+8],20,1163531501),o=p(o,u,h,a,t[f+13],5,-1444681467),a=p(a,o,u,h,t[f+2],9,-51403784),h=p(h,a,o,u,t[f+7],14,1735328473),o=w(o,u=p(u,h,a,o,t[f+12],20,-1926607734),h,a,t[f+5],4,-378558),a=w(a,o,u,h,t[f+8],11,-2022574463),h=w(h,a,o,u,t[f+11],16,1839030562),u=w(u,h,a,o,t[f+14],23,-35309556),o=w(o,u,h,a,t[f+1],4,-1530992060),a=w(a,o,u,h,t[f+4],11,1272893353),h=w(h,a,o,u,t[f+7],16,-155497632),u=w(u,h,a,o,t[f+10],23,-1094730640),o=w(o,u,h,a,t[f+13],4,681279174),a=w(a,o,u,h,t[f],11,-358537222),h=w(h,a,o,u,t[f+3],16,-722521979),u=w(u,h,a,o,t[f+6],23,76029189),o=w(o,u,h,a,t[f+9],4,-640364487),a=w(a,o,u,h,t[f+12],11,-421815835),h=w(h,a,o,u,t[f+15],16,530742520),o=x(o,u=w(u,h,a,o,t[f+2],23,-995338651),h,a,t[f],6,-198630844),a=x(a,o,u,h,t[f+7],10,1126891415),h=x(h,a,o,u,t[f+14],15,-1416354905),u=x(u,h,a,o,t[f+5],21,-57434055),o=x(o,u,h,a,t[f+12],6,1700485571),a=x(a,o,u,h,t[f+3],10,-1894986606),h=x(h,a,o,u,t[f+10],15,-1051523),u=x(u,h,a,o,t[f+1],21,-2054922799),o=x(o,u,h,a,t[f+8],6,1873313359),a=x(a,o,u,h,t[f+15],10,-30611744),h=x(h,a,o,u,t[f+6],15,-1560198380),u=x(u,h,a,o,t[f+13],21,1309151649),o=x(o,u,h,a,t[f+4],6,-145523070),a=x(a,o,u,h,t[f+11],10,-1120210379),h=x(h,a,o,u,t[f+2],15,718787259),u=x(u,h,a,o,t[f+9],21,-343485551),o=l(o,n),u=l(u,r),h=l(h,e),a=l(a,s);return[o,u,h,a]}function Hi(t){for(var i="",n=32*t.length,r=0;r<n;r+=8)i+=String.fromCharCode(t[r>>5]>>>r%32&255);return i}function Qi(t){var i=[];for(i[(t.length>>2)-1]=void 0,r=0;r<i.length;r+=1)i[r]=0;for(var n=8*t.length,r=0;r<n;r+=8)i[r>>5]|=(255&t.charCodeAt(r/8))<<r%32;return i}function $i(t){for(var i,n="0123456789abcdef",r="",e=0;e<t.length;e+=1)i=t.charCodeAt(e),r+=n.charAt(i>>>4&15)+n.charAt(15&i);return r}function Ji(t){return unescape(encodeURIComponent(t))}function Ki(t){return Hi(qi(Qi(t=Ji(t)),8*t.length))}function tn(t,i){var n,t=Ji(t),i=Ji(i),r=Qi(t),e=[],s=[];for(e[15]=s[15]=void 0,16<r.length&&(r=qi(r,8*t.length)),n=0;n<16;n+=1)e[n]=909522486^r[n],s[n]=1549556828^r[n];return t=qi(e.concat(Qi(i)),512+8*i.length),Hi(qi(s.concat(t),640))}function nn(t,i,n){return i?n?tn(i,t):$i(tn(i,t)):n?Ki(t):$i(Ki(t))}var rn={encryption:function(t){return nn(t)}};function en(t,i){for(var n=0;n<i.length;n++){var r=i[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function sn(t,i,n){return i&&en(t.prototype,i),n&&en(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}var on="0.0.0.0",n=sn(function t(){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function")});Object.assign(n.prototype,{vi:function(t,i,n,r,e){"undefined"==typeof KjWzhWlSj||!KjWzhWlSj.license||!KjWzhWlSj.license?r&&r():"string"!=typeof i||0==i.length?e&&e():(i=zi.decryption(i,"026685bf295f587b5dffc1f18d5dc27c"),n=rn.encryption(n),i=zi.decryption(i,n),-1!==t.indexOf(i)?r&&r():e&&e())},yi:function(t,i,n,r){var e;-1!==i.indexOf("")||-1!==i.indexOf("aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa")?n&&n():(e=rn.encryption("fengmap.localhost:"+t.appName),e=zi.decryption(t.key,e),-1!==i.indexOf(e)?this.vi(i,t.license,t.buildingID,function(){n&&n()},function(){r&&r(c.LICENSE_ERROR)}):r&&r(c.NAME_KEY_ERROR))},di:function(t,i,n){var r=this;void 0!==t.mapURL?i&&i():(this.bi(t),this.pi(function(){new h({method:"POST",url:Bi.check,header:{"X-Requested-With":"XMLHttpRequest","Content-type":"application/json;charset=utf-8"},data:r.wi(t)}).$t(function(){i&&i()},function(t){n&&n(t)},function(){i&&i()})},function(){i&&i()}))},pi:function(t,i){new h({method:"GET",url:Bi.online}).$t(function(){t&&t()},function(){i&&i()},function(){i&&i()})},wi:function(t,i){var n=xi.a.global().location.host,r=n.indexOf(":"),r=(-1!==r&&(n=n.slice(0,r)),{mapId:t.buildingID,appName:t.appName});return i?r.keyValue=t.key:r.appKey=t.key,i?r.webUrl=n||on:r.webURL=n||on,r},bi:function(t){if("undefined"!=typeof navigator&&"undefined"!=typeof document){var i={};-1!==navigator.userAgent.indexOf("Opera")?i.userAgent="Opera":-1!==navigator.userAgent.indexOf("Firefox")?i.userAgent="FF":-1!==navigator.userAgent.indexOf("Chrome")?i.userAgent="Chrome":-1!==navigator.userAgent.indexOf("Safari")&&0===navigator.userAgent.indexOf("Chrome")?i.userAgent="Safari":-1!==navigator.userAgent.indexOf("compatible")&&-1!==navigator.userAgent.indexOf("MSIE")?i.userAgent="IE":-1!==navigator.userAgent.indexOf("Trident")&&(i.userAgent="Edge"),i.product="JS",i.sdkVersion=C+"."+U,i.appName=t.appName,i.appkey=t.key;for(var t=document.createElement("canvas").getContext("experimental-webgl"),n=t.getExtension("WEBGL_debug_renderer_info"),r=(i.gpu=n?t.getParameter(n.UNMASKED_RENDERER_WEBGL):null,i.os=navigator.platform,!0),e=navigator.userAgent,s=["Android","iPhone","SymbianOS","Windows Phone","iPad","iPod"],o=0;o<s.length;o++)if(0<e.indexOf(s[o])){r=!1;break}i.device=r?"pc":"mobile",new h({method:"POST",url:Bi.collect,header:{"X-Requested-With":"XMLHttpRequest","Content-type":"application/json;charset=utf-8"},data:i}).$t()}}});var un=new n;function hn(t){return function(t){if(Array.isArray(t))return an(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,i){if(t){if("string"==typeof t)return an(t,i);var n=Object.prototype.toString.call(t).slice(8,-1);return"Map"===(n="Object"===n&&t.constructor?t.constructor.name:n)||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?an(t,i):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function an(t,i){(null==i||i>t.length)&&(i=t.length);for(var n=0,r=new Array(i);n<i;n++)r[n]=t[n];return r}function fn(t,i){for(var n=0;n<i.length;n++){var r=i[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function cn(t,i,n){return i&&fn(t.prototype,i),n&&fn(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}var n=cn(function t(){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function");this.li=new Ui}),ln=(Object.assign(n.prototype,{mi:function(){},_i:function(t,i,n,r){var e;if(t.mapURL)return e=t.isPreview||t.mapURLAbsolute?t.mapURL+t.buildingID+i+".fmap":t.mapURL+t.buildingID+"/"+t.buildingID+i+".fmap",void(n&&n(e));new h({method:"POST",url:""===i?Bi.download:Bi.downloadTile+"/"+t.buildingID+i+".fmap",header:{"X-Requested-With":"XMLHttpRequest","Content-type":"application/json;charset=utf-8"},data:Object.assign({newFlag:"2",keyType:3,isSeparate:!1},un.wi(t,!0))}).$t(function(t){n&&n(t.replace('"',"").replace('"',""))},function(t){r&&r(t)},function(t){r&&r(t)})},xi:function(n,r,e){var s=this;un.di(n,function(){s._i(n,"",function(t){new h({method:"GET",responseType:"arraybuffer",url:t}).$t(function(t){var t=new Uint8Array(t),i=s.li.ti(t),t=[];i.keys&&0!==i.keys.length?t.push.apply(t,hn(i.keys)):t.push(i.key),n.isPreview?r&&r(i):un.yi(n,t,function(){r&&r(i)},function(t){e&&e(t)})},function(t){e&&e(t===c.PATH_ERROR?c.MAP_ID_URL_ERROR:t)},function(t){e&&e(t)})},function(t){e&&e(t)})},function(t){e&&e(t)})},gi:function(n,r,e){var s=this;un.di(n,function(){s._i(n,".scene",function(t){new h({method:"GET",responseType:"arraybuffer",url:t}).$t(function(t){var t=new Uint8Array(t),i=s.li.ni(t),t=[];i.keys&&0!==i.keys.length?t.push.apply(t,hn(i.keys)):t.push(i.key),n.isPreview?r&&r(i):un.yi(n,t,function(){r&&r(i)},function(t){e&&e(t)})},function(t){e&&e(t)},function(t){e&&e(t)})},function(t){e&&e(t)})},function(t){e&&e(t)})},Oi:function(t,i,n,r){var e=this;this._i(t,".floor."+i+".geo",function(t){new h({method:"GET",responseType:"arraybuffer",url:t}).$t(function(t){t=new Uint8Array(t),t=e.li.ei(t);n&&n(t)},function(t){r&&r(t)},function(t){r&&r(t)})},function(t){r&&r(t)})},ji:function(t,i,n,r){var e=this;this._i(t,".floor."+i+".biz",function(t){new h({method:"GET",responseType:"arraybuffer",url:t}).$t(function(t){t=new Uint8Array(t),t=e.li.oi(t);n&&n(t)},function(t){r&&r(t)},function(t){r&&r(t)})},function(t){r&&r(t)})},Ei:function(t,i,n,r){var e=this;this._i(t,".floor."+i+".navi",function(t){new h({method:"GET",responseType:"arraybuffer",url:t}).$t(function(t){t=new Uint8Array(t),t=e.li.ai(t);n&&n(t)},function(t){r&&r(t)})},function(t){r&&r(t)},function(t){r&&r(t)})},Ti:function(t,i,n,r){var e=this;this._i(t,".floor."+i+".drive.navi",function(t){new h({method:"GET",responseType:"arraybuffer",url:t}).$t(function(t){t=new Uint8Array(t),t=e.li.ai(t);n&&n(t)},function(t){r&&r(t)})},function(t){r&&r(t)},function(t){r&&r(t)})},Mi:function(t,i,n,r){var e=this;this._i(t,".floor."+i+".accessible.navi",function(t){new h({method:"GET",responseType:"arraybuffer",url:t}).$t(function(t){t=new Uint8Array(t),t=e.li.ai(t);n&&n(t)},function(t){r&&r(t)})},function(t){r&&r(t)},function(t){r&&r(t)})}}),n);function vn(t,i){for(var n=0;n<i.length;n++){var r=i[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function yn(t,i,n){return i&&vn(t.prototype,i),n&&vn(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}n=yn(function t(){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function")});Object.assign(n.prototype,{ki:function(t,i){for(var n=[],r=0,e=0;e<t.length;e++){var s=t[e].idxs;if("number"==typeof(s=s||t[e]))for(;r<s;)n.push({x:i[r],y:i[r+1]}),r+=2;else for(var o=0;o<s.length;o++)for(var u=s[o];r<u;)n.push({x:i[r],y:i[r+1]}),r+=2}return n},Ri:function(t,i){for(var n=[],r=0,e=0;e<t.length;e++){var s=t[e].idxs;if("number"==typeof(s=s||t[e])){for(var o=[];r<s;)o.push({x:i[r],y:i[r+1]}),r+=2;n.push(o)}else for(var u=0;u<s.length;u++){for(var h=s[u],a=[];r<h;)a.push({x:i[r],y:i[r+1]}),r+=2;n.push(a)}}return n},Ai:function(t,i){for(var n=[],r=[],e=0,s=0;s<t.length;s++){var o=t[s].idxs;if("number"==typeof(o=o||t[s]))for(;e<o;)n.push({x:i[e],y:i[e+1]}),e+=2;else for(var u=0;u<o.length;u++)if(0===u)for(var h=o[u];e<h;)n.push({x:i[e],y:i[e+1]}),e+=2;else{for(var a=[],f=o[u];e<f;)a.push({x:i[e],y:i[e+1]}),e+=2;r.push(a)}}var c=[];return c.push(n),c.push.apply(c,r),c},Si:function(t){for(var i=[],n=t.length,r=0;r<n;r++){for(var e=t[r],s={x:this.Ni(e.x),y:this.Ni(e.y)},o=i.length,u=!1,h=0;h<o;h++){var a=i[h];if(a.x==s.x&&a.y==s.y){u=!0;break}}u||i.push(s)}return i},Ni:function(t){return+t.toFixed(2)}});var dn=new n;function bn(t,i){for(var n=0;n<i.length;n++){var r=i[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function pn(t,i,n){return i&&bn(t.prototype,i),n&&bn(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}var O={G1:"MULTIPOLYGON(((",G2:"POINT(",G3:"MULTILINESTRING(("},n=(O.GLEN1="MULTIPOLYGON(((".length,O.GLEN2="POINT(".length,O.GLEN3="MULTILINESTRING((".length,pn(function t(){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function")}));Object.assign(n.prototype,{ki:function(t){var i=[];if(0!=t.indexOf(O.G2))return[];t=t.substring(O.GLEN2,t.length-1).split(" ");return i.push({x:parseFloat(t[0]),y:parseFloat(t[1])}),i},Ri:function(t){if(0!=t.indexOf(O.G3))return[];for(var i=t.substring(O.GLEN3,t.length-2).split(","),n=[],r=0;r<i.length;r++){var e=i[r].split(" ");n.push({x:parseFloat(e[0]),y:parseFloat(e[1])})}return[n]},Ai:function(t){var i=[],n=[];if(0!=t.indexOf(O.G1))return[];for(var r=t.substring(O.GLEN1,t.length-3).split(/\),\(/),e=0;e<r.length;e++){var s=r[e].split(/,/);if(0==e)for(var o=0;o<s.length;o++){var u=s[o].split(" ");i.push({x:parseFloat(u[0]),y:parseFloat(u[1])})}else{for(var h=[],a=0;a<s.length;a++){var f=s[a].split(" ");h.push({x:parseFloat(f[0]),y:parseFloat(f[1])})}n.push(h)}}t=[];return t.push(i),t.push.apply(t,n),t},Si:function(t){for(var i=[],n=t.length,r=0;r<n;r++){for(var e=t[r],s={x:this.Ni(e.x),y:this.Ni(e.y)},o=i.length,u=!1,h=0;h<o;h++){var a=i[h];if(a.x==s.x&&a.y==s.y){u=!0;break}}u||i.push(s)}return i},Ni:function(t){return+t.toFixed(2)}});var wn=new n,n={STOP:0,PASS:1,PUSH:2},mn=(Object.freeze(n),n);function _n(t,i){var n,r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,i){if(t){if("string"==typeof t)return xn(t,i);var n=Object.prototype.toString.call(t).slice(8,-1);return"Map"===(n="Object"===n&&t.constructor?t.constructor.name:n)||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?xn(t,i):void 0}}(t))||i&&t&&"number"==typeof t.length)return r&&(t=r),n=0,{s:i=function(){},n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:i};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var e,s=!0,o=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return s=t.done,t},e:function(t){o=!0,e=t},f:function(){try{s||null==r.return||r.return()}finally{if(o)throw e}}}}function xn(t,i){(null==i||i>t.length)&&(i=t.length);for(var n=0,r=new Array(i);n<i;n++)r[n]=t[n];return r}function gn(t,i){for(var n=0;n<i.length;n++){var r=i[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var n=function(){function i(t){if(!(this instanceof i))throw new TypeError("Cannot call a class as a function");this.Xt=_.GROUP,this.Ii=new Map,this.Li=-1,this.Di=null,this.Bt=null,Object.assign(this,t)}var t,n,r;return t=i,(n=[{key:"getType",value:function(){return this.Xt}},{key:"getCoordinates",value:function(){return this.Di}},{key:"getBound",value:function(){return this.Bt||this.Fi(),this.Bt}},{key:"getChildren",value:function(){return this.Ii}}])&&gn(t.prototype,n),r&&gn(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(),On=(Object.assign(n.prototype,{mi:function(){var t,i=_n(this.Ii.values());try{for(i.s();!(t=i.n()).done;){var n=t.value;n.mi&&n.mi()}}catch(t){i.e(t)}finally{i.f()}this.Ii.clear()},Pi:function(i){var t=i.Ci(this);t==mn.PASS?this.Ii.forEach(function(t){t.Pi(i)}):t==mn.PUSH&&i.Ui.push(this)},Fi:function(){var i=this;this.Bt=new u,0!=this.Ii.size&&this.Ii.forEach(function(t){i.Bt.Lt(t.getBound())})}}),n);function jn(t,i){for(var n=0;n<i.length;n++){var r=i[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var n=function(){function i(t){if(!(this instanceof i))throw new TypeError("Cannot call a class as a function");this.Li=t.eid,this.Xt=_.POINT,this.Di=null,this.Bt=null,Object.assign(this,t)}var t,n,r;return t=i,(n=[{key:"getType",value:function(){return this.Xt}},{key:"getCoordinates",value:function(){return this.Di}},{key:"getBound",value:function(){return this.Bt||this.Fi(),this.Bt}}])&&jn(t.prototype,n),r&&jn(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(),En=(Object.assign(n.prototype,{Fi:function(){this.Bt=new u,this.Di&&this.Bt.Dt(this.Di)},Pi:function(t){t.Ci(this)==mn.PUSH&&t.Ui.push(this)}}),n);function Tn(t,i){for(var n=0;n<i.length;n++){var r=i[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var n=function(){function i(t){if(!(this instanceof i))throw new TypeError("Cannot call a class as a function");this.Li=t.eid,this.Xt=_.POLYGON,this.Pt=null,this.Di=null,this.Bt=null,Object.assign(this,t)}var t,n,r;return t=i,(n=[{key:"getType",value:function(){return this.Xt}},{key:"getCenter",value:function(){return this.Pt}},{key:"getCoordinates",value:function(){return this.Di}},{key:"getBound",value:function(){return this.Bt||this.Fi(),this.Bt}}])&&Tn(t.prototype,n),r&&Tn(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(),Mn=(Object.assign(n.prototype,{Fi:function(){var i=this;this.Bt=new u,this.Di&&this.Di.forEach(function(t){i.Bt.Dt(t)})},Pi:function(t){t.Ci(this)==mn.PUSH&&t.Ui.push(this)}}),n),kn=["layerGroups"],Rn=["layers"];function An(t,i){if(null==t)return{};var n,r=function(t,i){if(null==t)return{};var n,r,e={},s=Object.keys(t);for(r=0;r<s.length;r++)n=s[r],0<=i.indexOf(n)||(e[n]=t[n]);return e}(t,i);if(Object.getOwnPropertySymbols)for(var e=Object.getOwnPropertySymbols(t),s=0;s<e.length;s++)n=e[s],0<=i.indexOf(n)||Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n]);return r}function Sn(t,i){for(var n=0;n<i.length;n++){var r=i[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Nn(t,i,n){return i&&Sn(t.prototype,i),n&&Sn(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}var n=Nn(function t(){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function");this.Bi=[1,2,3,4],this.Zi=[6,7,9],this.Gi=[31,32],this.Wi=new Map,this.Wi.set(31,_.EXTENTGROUP),this.Wi.set(32,_.MODELGROUP),this.Wi.set(6,_.FACILITYGROUP),this.Wi.set(7,_.LABELGROUP),this.Wi.set(9,_.EXTERNALMODELGROUP),this.Vi=new Map,this.Vi.set(31,["extentLayer",null]),this.Vi.set(32,["modelLayer","labelLayer"]),this.Vi.set(6,["poiLayer",null]),this.Vi.set(7,["labelLayer",null]),this.Vi.set(9,["externalModelLayer",null]),this.li=new Ui}),In=(Object.assign(n.prototype,{Yi:function(t){if(!t)return null;var i=t.scene;return this.zi(i,t)},zi:function(n,r){var e=this,t=n.layerGroups,i=An(n,kn),s=new On(i);return t.forEach(function(t){var i=e.Xi(t,r,n.fileVer);s.Ii.set(t.gid,i)}),s},Xi:function(t,i,n){var r=this,e=t.layers,s=An(t,Rn),o=new On(s),u=i&&i.floors?i.floors.get(t.gid).geo[0]:null,h=i&&i.floors?i.floors.get(t.gid).biz[0]:null;return e.forEach(function(t){6==t.ltype&&-1!=t.lname.indexOf("storelabel")&&(t.ltype=7);var i=r.qi(t,u,h,n);null!=i&&o.Ii.set(r.Wi.get(t.ltype),i)}),this.Hi(o),o},Hi:function(t){var i=Array.from(t.Ii);i.sort(function(t,i){return t[0]-i[0]}),t.Ii=new Map(i)},qi:function(t,i,n,r){if(-1!=this.Bi.indexOf(t.ltype))return null;if(!this.Vi.get(t.ltype))return null;var e=new On(t);return this.Qi(e,i,n,r),e&&(e.Xt=this.Wi.get(t.ltype)),e},Qi:function(t,i,n,r){if(t){var e=this.Vi.get(t.ltype);if(e){var s=i?i[e[0]]:[],o=n?n[e[0]]:[];switch(t.ltype){case 6:this.$i(t,s,o,r,_.FACILITY);break;case 7:this.$i(t,s,o,r,_.LABEL);break;case 9:this.$i(t,s,o,r,_.EXTERNALMODEL);break;case 31:this.Ji(t,s,o,r,_.EXTENT,null);break;case 32:this.Ji(t,s,o,r,_.MODEL,i?i[e[1]]:null)}}}},$i:function(t,i,n,r,e){for(var s=0;s<i.length;s++){var o=this.Ki(i[s],n[s],r);o.Xt=e,t.Ii.set(i[s].eid,o)}},Ki:function(t,i,n){i=Object.assign({},i,{area:t.area,eid:t.eid,height:t.height}),i=new En(i);return t.coordinates?i.Di=t.coordinates:(i.Di=1==n?wn.ki(t.geo):dn.ki(t.idxs,t.pts),t.coordinates=i.Di),i},Ji:function(t,i,n,r,e,s){for(var o=0;o<i.length;o++){var u=this.tn(i[o],n[o],r,s?s[o]:null);u.Xt=e,t.Ii.set(i[o].eid,u)}},tn:function(t,i,n,r){i=Object.assign({},i,{area:t.area,eid:t.eid,height:t.height}),i=new Mn(i);return i.Di=1===n?wn.Ai(t.geo):dn.Ai(t.idxs,t.pts),r&&(r.coordinates||(r.coordinates=1==n?wn.ki(r.geo):dn.ki(r.idxs,r.pts)),i.Pt=r.coordinates[0]),i}}),n),Ln={NONE_RODE_NETWORK:1,WALK_RODE_NETWORK:2,DRIVE_RODE_NETWORK:4,ACCESSIBLE_RODE_NETWORK:8};function Dn(t,i){for(var n=0;n<i.length;n++){var r=i[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}for(var n=function(){function t(){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function");this.in=new Map,this.nn=new Map,this.Qt=new Map,this.rn=new Map,this.sn=new Map,this.un=new Map,this.hn=[2,3],this.an=!1,this.li=new Ui,this.cn=new In,this.ln=new ln}var i,n,r;return i=t,(n=[{key:"load",value:function(t,i){this.vn(t,i)}},{key:"loadWhole",value:function(t,i){this.yn(t,i)}},{key:"getDecode",value:function(t){t=void 0!==t.buildingID?t.buildingID:t.mapID;return this.dn({buildingID:t})}},{key:"getData",value:function(t){t=void 0!==t.buildingID?t.buildingID:t.mapID;return this.in.get(t)}},{key:"setCache",value:function(t){this.in=t[0],this.nn=t[1]}},{key:"getCache",value:function(){return[this.in,this.nn]}}])&&Dn(i.prototype,n),r&&Dn(i,r),Object.defineProperty(i,"prototype",{writable:!1}),t}(),Fn=(Object.assign(n.prototype,{mi:function(){this.in.clear(),this.in=null,this.nn.clear(),this.nn=null,this.Qt.clear(),this.Qt=null,this.rn.clear(),this.rn=null,this.sn.clear(),this.sn=null,this.un.clear(),this.un=null},bn:function(t){this.rn.set(t.buildingID,null),this.sn.set(t.buildingID,null),this.un.set(t.buildingID+t.uuid,0)},vn:function(u,h){var a=this;this.bn(u),this.gi(u,function(t,i){h&&h(t,i);for(var n=a.pn(u),r=void 0!==u.level?u.level:parseInt(n.defGid),e=(a.wn(u,r,h),u.visibleLevels||n.levels),s=0;s<e.length;s++)e[s]!==r&&a.wn(u,e[s],h);if(u.preLoad)for(var o=0;o<n.levels.length;o++)n.levels[o]!==r&&-1===e.indexOf(n.levels[o])&&a.wn(u,n.levels[o],h)},function(t,i){h&&h(t,i)})},gi:function(i,n,r){var e=this,t=this.pn(i);t?(n&&n("scene",t),i.justDecode||(t=this.in.get(i.buildingID),n&&n("building",t))):this.ln.gi(i,function(t){e.nn.set(i.buildingID,{scene:t}),n&&n("scene",t),i.justDecode||(t=e.cn.zi(t),e.in.set(i.buildingID,t),n&&n("building",t))},function(t){r&&r("error",t===c.PATH_ERROR?c.MAP_ID_URL_ERROR:t)})},wn:function(t,i,n,r){var e=this.rn.get(t.buildingID);e||this.rn.set(t.buildingID,e=[]),r?e.unshift(i):e.push(i),this.an&&1!==e.length||this.mn(t,n)},mn:function(r,e){var s=this,o=this.pn(r);if(o){var u=this.rn.get(r.buildingID),t=this.sn.get(r.buildingID);if(u&&0!==u.length){t||this.sn.set(r.buildingID,t=[]);var h=u[0];if(-1!==t.indexOf(h))return u.splice(u.indexOf(h),1),void this.mn(r,e);t.push(h),this._n(r,h,function(t,i){var n=s.un.get(r.buildingID+r.uuid);"layerGroup"===t&&(e&&e(t,i),s.un.set(r.buildingID+r.uuid,++n),n===o.layerGroups.length&&e&&e("decode",s.dn(r)),u.splice(u.indexOf(h),1),s.mn(r,e)),"layer"===t&&e&&e(t,i),"floor"===t&&(e&&e(t,i),n===o.layerGroups.length&&e&&e("complete",s.xn(r)))},function(t,i){e&&e(t,i)})}}},_n:function(e,s,o,i){function n(i){var n,r,t;a===++f&&(n=c.get("geo"),r=c.get("biz"),l&&l.merge(s,n,r,u.fileVer),o&&o("layerGroup",c),e.justDecode||((t=i.gn(e,s)).Ii.forEach(function(t){i.cn.Qi(t,n,r,u.fileVer),o&&o("layer",t)}),o&&o("floor",t)))}var r=this,u=this.pn(e),t=this.On(u,s),h=t.gname,t=t.naviType||0,a=this.hn[0],f=0,c=new Map,l=e.merge;e.loadNavi&&((0!=(t&Ln.WALK_RODE_NETWORK)||u.fileVer<3)&&(a++,this.Ei(e,s,h,function(t,i){c.set(t,i),o&&o(t,i),n(r)},function(t){i&&i(t)})),0!=(t&Ln.DRIVE_RODE_NETWORK)&&(a++,this.Ti(e,s,h,function(t,i){c.set(t,i),o&&o(t,i),n(r)},function(t){i&&i(t)})),0!=(t&Ln.ACCESSIBLE_RODE_NETWORK)&&(a++,this.Mi(e,s,h,function(t,i){c.set(t,i),o&&o(t,i),n(r)},function(t){i&&i(t)}))),this.Oi(e,s,h,function(t,i){c.set(t,i),o&&o(t,i),n(r)},function(t){i&&i(t)}),this.ji(e,s,h,function(t,i){c.set(t,i),o&&o(t,i),n(r)},function(t){i&&i(t)})},Oi:function(i,n,t,r,e){var s=this,o=this.jn(i,n,"geo");o?r&&r("geo",o):this.ln.Oi(i,t,function(t){s.En(i,n,"geo",t),r&&r("geo",t)},function(t){e&&e("error",t)})},ji:function(i,n,t,r,e){var s=this,o=this.jn(i,n,"biz");o?r&&r("biz",o):this.ln.ji(i,t,function(t){s.En(i,n,"biz",t),r&&r("biz",t)},function(t){e&&e("error",t)})},Ei:function(i,n,t,r,e){var s=this,o=this.jn(i,n,"navi");o?r&&r("navi",o):this.ln.Ei(i,t,function(t){s.En(i,n,"navi",t),r&&r("navi",t)},function(t){e&&e("error",t)})},Ti:function(i,n,t,r,e){var s=this,o=this.jn(i,n,"drive_navi");o?r&&r("drive_navi",o):this.ln.Ti(i,t,function(t){s.En(i,n,"drive_navi",t),r&&r("drive_navi",t)},function(t){e&&e("error",t)})},Mi:function(i,n,t,r,e){var s=this,o=this.jn(i,n,"accessible_navi");o?r&&r("drive_navi",o):this.ln.Mi(i,t,function(t){s.En(i,n,"accessible_navi",t),r&&r("accessible_navi",t)},function(t){e&&e("error",t)})},yn:function(t,n){this.xi(t,function(t,i){n&&n(t,i)},function(t,i){n&&n(t,i)})},xi:function(i,n,r){var e=this,s=this.dn(i);s?n&&n("decode",s):this.ln.xi(i,function(t){e.Tn(i,t),s=e.dn(i),n&&n("decode",s),i.justDecode||(t=e.cn.Yi(s),e.in.set(i.buildingID,t),n&&n("complete",t))},function(t){r&&r("error",t)})},xn:function(t){if(this.in)return t=this.in.get(t.buildingID),t||null},gn:function(t,i){t=this.in.get(t.buildingID);return t?t.Ii.get(i):null},Tn:function(t,i){var n={scene:null,floors:new Map},r=this.li.ii(i);n.scene=r;for(var e=0;e<r.layerGroups.length;e++){var s=r.layerGroups[e],o=this.li.ri(i,s.gid),u=this.li.si(i,s.gid),h=this.li.ui(i,s.gid),a=this.li.fi(i,s.gid),f=this.li.ci(i,s.gid),c=(t.merge&&t.merge.merge(s.gid,o,u,r.fileVer),new Map);c.set("geo",o),c.set("biz",u),c.set("navi",h),c.set("drive_navi",a),c.set("accessible_navi",f),n.floors.set(s.gid,c)}this.nn.set(t.buildingID,n)},dn:function(t){var i=this.nn.get(t.buildingID);if(!i)return null;for(var n=i.scene,r=new Map,i={scene:n,floors:r},e=0;e<n.layerGroups.length;e++){var s=n.layerGroups[e],o=s.gid,u={gid:o,gname:s.gname,level:o,geo:[],biz:[],navi:[],naviDrive:[],naviAccessible:[]},h=(u.geo.push(this.jn(t,o,"geo")),u.biz.push(this.jn(t,o,"biz")),this.jn(t,o,"navi")),h=(h&&u.navi.push(h),this.jn(t,o,"drive_navi")),h=(h&&u.naviDrive.push(h),this.jn(t,o,"accessible_navi"));h&&u.naviAccessible.push(h),r.set(s.gid,u)}return i},pn:function(t){t=this.nn.get(t.buildingID);return t?t.scene:null},En:function(t,i,n,r){var e,t=this.nn.get(t.buildingID);t&&((e=t.floors)||(e=new Map,t.floors=e),(t=e.get(i))||(t=new Map,e.set(i,t)),t.set(n,r))},jn:function(t,i,n){t=this.nn.get(t.buildingID);if(!t)return null;t=t.floors;if(!t)return null;t=t.get(i);return t?t.get(n):null},On:function(t,i){if(null==t)return null;for(var n=t.layerGroups,r=0;r<n.length;r++)if(n[r].gid==i)return n[r];return null}}),n),e=[],Pn=0;Pn<256;Pn++)e[Pn]=(Pn<16?"0":"")+Pn.toString(16);var Cn={DEG2RAD:Math.PI/180,RAD2DEG:180/Math.PI,generateUUID:function(){var t=4294967295*Math.random()|0,i=4294967295*Math.random()|0,n=4294967295*Math.random()|0,r=4294967295*Math.random()|0;return(e[255&t]+e[t>>8&255]+e[t>>16&255]+e[t>>24&255]+"-"+e[255&i]+e[i>>8&255]+"-"+e[i>>16&15|64]+e[i>>24&255]+"-"+e[63&n|128]+e[n>>8&255]+"-"+e[n>>16&255]+e[n>>24&255]+e[255&r]+e[r>>8&255]+e[r>>16&255]+e[r>>24&255]).toUpperCase()},clamp:function(t,i,n){return Math.max(i,Math.min(n,t))},euclideanModulo:function(t,i){return(t%i+i)%i},mapLinear:function(t,i,n,r,e){return r+(t-i)*(e-r)/(n-i)},lerp:function(t,i,n){return(1-n)*t+n*i},smoothstep:function(t,i,n){return t<=i?0:n<=t?1:(t=(t-i)/(n-i))*t*(3-2*t)},smootherstep:function(t,i,n){return t<=i?0:n<=t?1:(t=(t-i)/(n-i))*t*t*(t*(6*t-15)+10)},randInt:function(t,i){return t+Math.floor(Math.random()*(i-t+1))},randFloat:function(t,i){return t+Math.random()*(i-t)},randFloatSpread:function(t){return t*(.5-Math.random())},degToRad:function(t){return t*Cn.DEG2RAD},radToDeg:function(t){return t*Cn.RAD2DEG},isPowerOfTwo:function(t){return 0==(t&t-1)&&0!==t},ceilPowerOfTwo:function(t){return Math.pow(2,Math.ceil(Math.log(t)/Math.LN2))},floorPowerOfTwo:function(t){return Math.pow(2,Math.floor(Math.log(t)/Math.LN2))},setQuaternionFromProperEuler:function(t,i,n,r,e){var s=Math.cos,o=Math.sin,u=s(n/2),n=o(n/2),h=s((i+r)/2),a=o((i+r)/2),f=s((i-r)/2),c=o((i-r)/2),s=s((r-i)/2),o=o((r-i)/2);"XYX"===e?t.set(u*a,n*f,n*c,u*h):"YZY"===e?t.set(n*c,u*a,n*f,u*h):"ZXZ"===e?t.set(n*f,n*c,u*a,u*h):"XZX"===e?t.set(u*a,n*o,n*s,u*h):"YXY"===e?t.set(n*s,u*a,n*o,u*h):"ZYZ"===e?t.set(n*o,n*s,u*a,u*h):console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order.")}},Un={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},r={h:0,s:0,l:0},Bn={h:0,s:0,l:0};function Zn(t,i,n){return void 0===i&&void 0===n?this.set(t):this.setRGB(t,i,n)}function Gn(t,i,n){return n<0&&(n+=1),1<n&&--n,n<1/6?t+6*(i-t)*n:n<.5?i:n<2/3?t+6*(i-t)*(2/3-n):t}function Wn(t){return t<.04045?.0773993808*t:Math.pow(.9478672986*t+.0521327014,2.4)}function Vn(t){return t<.0031308?12.92*t:1.055*Math.pow(t,.41666)-.055}function Yn(t,i){for(var n=0;n<i.length;n++){var r=i[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}Object.assign(Zn.prototype,{isColor:!0,r:1,g:1,b:1,set:function(t){return t&&t.isColor?this.copy(t):"number"==typeof t?this.setHex(t):"string"==typeof t&&this.setStyle(t),this},setScalar:function(t){return this.r=t,this.g=t,this.b=t,this},setHex:function(t){return t=Math.floor(t),this.r=(t>>16&255)/255,this.g=(t>>8&255)/255,this.b=(255&t)/255,this},setRGB:function(t,i,n){return this.r=t,this.g=i,this.b=n,this},setHSL:function(t,i,n){return t=Cn.euclideanModulo(t,1),i=Cn.clamp(i,0,1),n=Cn.clamp(n,0,1),0===i?this.r=this.g=this.b=n:(this.r=Gn(i=2*n-(n=n<=.5?n*(1+i):n+i-n*i),n,t+1/3),this.g=Gn(i,n,t),this.b=Gn(i,n,t-1/3)),this},setStyle:function(i){function t(t){void 0!==t&&parseFloat(t)<1&&console.warn("THREE.Color: Alpha component of "+i+" will be ignored.")}if(h=/^((?:rgb|hsl)a?)\(\s*([^\)]*)\)/.exec(i)){var n,r,e,s,o=h[1],u=h[2];switch(o){case"rgb":case"rgba":if(n=/^(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(u))return this.r=Math.min(255,parseInt(n[1],10))/255,this.g=Math.min(255,parseInt(n[2],10))/255,this.b=Math.min(255,parseInt(n[3],10))/255,t(n[5]),this;if(n=/^(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(u))return this.r=Math.min(100,parseInt(n[1],10))/100,this.g=Math.min(100,parseInt(n[2],10))/100,this.b=Math.min(100,parseInt(n[3],10))/100,t(n[5]),this;break;case"hsl":case"hsla":if(n=/^([0-9]*\.?[0-9]+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(u))return r=parseFloat(n[1])/360,e=parseInt(n[2],10)/100,s=parseInt(n[3],10)/100,t(n[5]),this.setHSL(r,e,s)}}else if(h=/^\#([A-Fa-f0-9]+)$/.exec(i)){var o=h[1],h=o.length;if(3===h)return this.r=parseInt(o.charAt(0)+o.charAt(0),16)/255,this.g=parseInt(o.charAt(1)+o.charAt(1),16)/255,this.b=parseInt(o.charAt(2)+o.charAt(2),16)/255,this;if(6===h)return this.r=parseInt(o.charAt(0)+o.charAt(1),16)/255,this.g=parseInt(o.charAt(2)+o.charAt(3),16)/255,this.b=parseInt(o.charAt(4)+o.charAt(5),16)/255,this}return i&&0<i.length?this.setColorName(i):this},setColorName:function(t){var i=Un[t];return void 0!==i?this.setHex(i):console.warn("THREE.Color: Unknown color "+t),this},clone:function(){return new this.constructor(this.r,this.g,this.b)},copy:function(t){return this.r=t.r,this.g=t.g,this.b=t.b,this},copyGammaToLinear:function(t,i){return void 0===i&&(i=2),this.r=Math.pow(t.r,i),this.g=Math.pow(t.g,i),this.b=Math.pow(t.b,i),this},copyLinearToGamma:function(t,i){i=0<(i=void 0===i?2:i)?1/i:1;return this.r=Math.pow(t.r,i),this.g=Math.pow(t.g,i),this.b=Math.pow(t.b,i),this},convertGammaToLinear:function(t){return this.copyGammaToLinear(this,t),this},convertLinearToGamma:function(t){return this.copyLinearToGamma(this,t),this},copySRGBToLinear:function(t){return this.r=Wn(t.r),this.g=Wn(t.g),this.b=Wn(t.b),this},copyLinearToSRGB:function(t){return this.r=Vn(t.r),this.g=Vn(t.g),this.b=Vn(t.b),this},convertSRGBToLinear:function(){return this.copySRGBToLinear(this),this},convertLinearToSRGB:function(){return this.copyLinearToSRGB(this),this},getHex:function(){return 255*this.r<<16^255*this.g<<8^255*this.b<<0},getHexString:function(){return("000000"+this.getHex().toString(16)).slice(-6)},getHSL:function(t){void 0===t&&(console.warn("THREE.Color: .getHSL() target is now required"),t={h:0,s:0,l:0});var i,n=this.r,r=this.g,e=this.b,s=Math.max(n,r,e),o=Math.min(n,r,e),u=(o+s)/2;if(o===s)a=i=0;else{var h=s-o,a=u<=.5?h/(s+o):h/(2-s-o);switch(s){case n:i=(r-e)/h+(r<e?6:0);break;case r:i=(e-n)/h+2;break;case e:i=(n-r)/h+4}i/=6}return t.h=i,t.s=a,t.l=u,t},getStyle:function(){return"rgb("+(255*this.r|0)+","+(255*this.g|0)+","+(255*this.b|0)+")"},offsetHSL:function(t,i,n){return this.getHSL(r),r.h+=t,r.s+=i,r.l+=n,this.setHSL(r.h,r.s,r.l),this},add:function(t){return this.r+=t.r,this.g+=t.g,this.b+=t.b,this},addColors:function(t,i){return this.r=t.r+i.r,this.g=t.g+i.g,this.b=t.b+i.b,this},addScalar:function(t){return this.r+=t,this.g+=t,this.b+=t,this},sub:function(t){return this.r=Math.max(0,this.r-t.r),this.g=Math.max(0,this.g-t.g),this.b=Math.max(0,this.b-t.b),this},multiply:function(t){return this.r*=t.r,this.g*=t.g,this.b*=t.b,this},multiplyScalar:function(t){return this.r*=t,this.g*=t,this.b*=t,this},lerp:function(t,i){return this.r+=(t.r-this.r)*i,this.g+=(t.g-this.g)*i,this.b+=(t.b-this.b)*i,this},lerpHSL:function(t,i){this.getHSL(r),t.getHSL(Bn);var t=Cn.lerp(r.h,Bn.h,i),n=Cn.lerp(r.s,Bn.s,i),i=Cn.lerp(r.l,Bn.l,i);return this.setHSL(t,n,i),this},equals:function(t){return t.r===this.r&&t.g===this.g&&t.b===this.b},fromArray:function(t,i){return this.r=t[i=void 0===i?0:i],this.g=t[i+1],this.b=t[i+2],this},toArray:function(t,i){return(t=void 0===t?[]:t)[i=void 0===i?0:i]=this.r,t[i+1]=this.g,t[i+2]=this.b,t}}),Zn.NAMES=Un;var zn=function(){function t(){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function")}var i,n,r;return i=t,r=[{key:"round",value:function(t){return 0<t.toFixed(2)?Math.ceil(t.toFixed(2)):Math.floor(t.toFixed(2))}},{key:"generateUUID",value:function(){for(var t=[],i=0;i<256;i++)t[i]=(i<16?"0":"")+i.toString(16);var n=4294967295*Math.random()|0,r=4294967295*Math.random()|0,e=4294967295*Math.random()|0,s=4294967295*Math.random()|0,n=t[255&n]+t[n>>8&255]+t[n>>16&255]+t[n>>24&255]+"-"+t[255&r]+t[r>>8&255]+"-"+t[r>>16&15|64]+t[r>>24&255]+"-"+t[63&e|128]+t[e>>8&255]+"-"+t[e>>16&255]+t[e>>24&255]+t[255&s]+t[s>>8&255]+t[s>>16&255]+t[s>>24&255];return t.length=0,n.toUpperCase()}},{key:"findNearNthPowerOfTwo",value:function(t){t-=1;return(t=(t=(t=(t=(t|=t>>1)|t>>2)|t>>4)|t>>8)|t>>16)<0?1:1+t}},{key:"toRgba",value:function(t){return void 0===t?t:"number"!=typeof t?3<=(i=t.split(",")).length?"rgba("+parseInt(i[0])+","+parseInt(i[1])+","+parseInt(i[2])+",1)":t:"rgba("+parseInt(255*new Zn(t).r)+","+parseInt(255*new Zn(t).g)+","+parseInt(255*new Zn(t).b)+",1)";var i}},{key:"toColor",value:function(t){if("number"==typeof t)return t;var i=t.split(",");return 3<=i.length?parseInt(i[0])<<16|parseInt(i[1])<<8|parseInt(i[2]):(console.error("color format error",t),0)}}],(n=null)&&Yn(i.prototype,n),r&&Yn(i,r),Object.defineProperty(i,"prototype",{writable:!1}),t}();function Xn(t,i){var n,r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,i){if(t){if("string"==typeof t)return qn(t,i);var n=Object.prototype.toString.call(t).slice(8,-1);return"Map"===(n="Object"===n&&t.constructor?t.constructor.name:n)||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?qn(t,i):void 0}}(t))||i&&t&&"number"==typeof t.length)return r&&(t=r),n=0,{s:i=function(){},n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:i};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var e,s=!0,o=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return s=t.done,t},e:function(t){o=!0,e=t},f:function(){try{s||null==r.return||r.return()}finally{if(o)throw e}}}}function qn(t,i){(null==i||i>t.length)&&(i=t.length);for(var n=0,r=new Array(i);n<i;n++)r[n]=t[n];return r}function Hn(t,i){for(var n=0;n<i.length;n++){var r=i[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}n=function(){function r(t,i,n){if(!(this instanceof r))throw new TypeError("Cannot call a class as a function");this.Qt=Object.assign({tile:!0,isPreview:!1},t),this.Mn=!!t.map,this.kn=t.map?t.map.getDataManager():new Fn,this.Rn=i,this.An=n,this.Sn()}var t,i,n;return t=r,(i=[{key:"dispose",value:function(){this.Qt=null,this.Mn||this.kn.mi(),this.kn=null,this.Rn=null,this.An=null}},{key:"query",value:function(t,i,n){var r,e=this.kn.getData(this.Qt),s=(e||n&&n(),this.Nn(t)),o=this.In(t),u=(o===_.NONE&&n&&n(),t.Ht),h=u.length,a=[],f=Xn(e.getChildren());try{for(f.s();!(r=f.n()).done;){var c=r.value,l=c[0];if(-1!==s.indexOf(l)){var v,y=Xn(c[1].getChildren());try{for(y.s();!(v=y.n()).done;){var d=v.value[1];if(0!=(d.getType()&o)){var b,p=Xn(d.getChildren());try{for(p.s();!(b=p.n()).done;){var w=b.value[1],m={yt:void 0};this.Ln(u,h,w,m)&&a.push(this.Dn(l,w,m))}}catch(t){p.e(t)}finally{p.f()}}}}catch(t){y.e(t)}finally{y.f()}}}}catch(t){f.e(t)}finally{f.f()}this.Fn(a),i&&i(a)}}])&&Hn(t.prototype,i),n&&Hn(t,n),Object.defineProperty(t,"prototype",{writable:!1}),r}(),Object.assign(n.prototype,{Sn:function(){var t,n=this,i=(this.Mn&&(t=this.Qt.map.getMapOptions(),this.Qt.mapID=t.mapID,this.Qt.appName=t.appName,this.Qt.key=t.key,this.Qt.license=t.license,this.Qt.mapURL=t.mapURL,this.Qt.mapURLAbsolute=t.mapURLAbsolute,this.Qt.isPreview="undefined"!=typeof KjWzhWlSj&&!!KjWzhWlSj.ProtoDef),{buildingID:this.Qt.mapID,appName:this.Qt.appName,key:this.Qt.key,license:this.Qt.license,mapURL:this.Qt.mapURL,mapURLAbsolute:this.Qt.mapURLAbsolute,merge:this.Qt.merge,preLoad:!0,isPreview:"undefined"!=typeof KjWzhWlSj&&!!KjWzhWlSj.ProtoDef,uuid:zn.generateUUID()});setTimeout(function(){n.Qt.tile?n.kn.load(i,function(t,i){n.Pn(t,i)}):n.kn.loadWhole(i,function(t,i){n.Pn(t,i)})},0)},Pn:function(t,i){"error"==t&&this.An&&this.An(i),"complete"==t&&this.Rn&&this.Rn()},In:function(t){var i=_.NONE;return 0!=(t.Xt&_.MODEL)&&(i|=_.MODELGROUP),0!=(t.Xt&_.LABEL)&&(i|=_.LABELGROUP),0!=(t.Xt&_.FACILITY)&&(i|=_.FACILITYGROUP),0!=(t.Xt&_.EXTERNALMODEL)&&(i|=_.EXTERNALMODELGROUP),i},Nn:function(t){if(Array.isArray(t.zt))return t.zt;t=this.kn.getData(this.Qt);if(!t)return[];var i,n=[],r=Xn(t.getChildren());try{for(r.s();!(i=r.n()).done;){var e=i.value;n.push(e[1].gid)}}catch(t){r.e(t)}finally{r.f()}return n},Ln:function(t,i,n,r){if(0==i)return!0;for(var e=0;e<i;e++){if(!t[e].H(n))return!1;t[e].Q(n,r)}return!0},Dn:function(t,i,n){return{level:t,type:i.getType(),FID:i.fid,name:i.name,ename:i.ename,eid:i.eid,typeID:i.type,center:void 0!==i.getCenter?Object.assign({z:i.height},i.getCenter()):Object.assign({z:i.height},i.getCoordinates()[0]),distance:n.yt}},Fn:function(t){t.sort(function(t,i){return t.level==i.level&&t.type==i.type&&t.distance&&i.distance?t.distance-i.distance:0})}});function Qn(t,i){for(var n=0;n<i.length;n++){var r=i[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}for(var a=function(){function e(t,i,n,r){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");this.Cn=t,this.Un=i,this.Bn=n||[],this.Zn=r||[]}var t,i,n;return t=e,(i=[{key:"level",get:function(){return this.Cn}},{key:"length",get:function(){return this.Un}},{key:"pointList",get:function(){for(var t=[],i=0,n=this.Bn.length;i<n;i++)t.push({x:this.Bn[i].x,y:this.Bn[i].y,level:this.Cn});return t}}])&&Qn(t.prototype,i),n&&Qn(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),$n=(Object.assign(a.prototype,{mi:function(){this.Bn=[],this.Zn=[]}}),a),f=[],Jn=0;Jn<256;Jn++)f[Jn]=(Jn<16?"0":"")+Jn.toString(16);var Kn=1234567,tr={DEG2RAD:Math.PI/180,RAD2DEG:180/Math.PI,generateUUID:function(){var t=4294967295*Math.random()|0,i=4294967295*Math.random()|0,n=4294967295*Math.random()|0,r=4294967295*Math.random()|0;return(f[255&t]+f[t>>8&255]+f[t>>16&255]+f[t>>24&255]+"-"+f[255&i]+f[i>>8&255]+"-"+f[i>>16&15|64]+f[i>>24&255]+"-"+f[63&n|128]+f[n>>8&255]+"-"+f[n>>16&255]+f[n>>24&255]+f[255&r]+f[r>>8&255]+f[r>>16&255]+f[r>>24&255]).toUpperCase()},clamp:function(t,i,n){return Math.max(i,Math.min(n,t))},euclideanModulo:function(t,i){return(t%i+i)%i},mapLinear:function(t,i,n,r,e){return r+(t-i)*(e-r)/(n-i)},lerp:function(t,i,n){return(1-n)*t+n*i},smoothstep:function(t,i,n){return t<=i?0:n<=t?1:(t=(t-i)/(n-i))*t*(3-2*t)},smootherstep:function(t,i,n){return t<=i?0:n<=t?1:(t=(t-i)/(n-i))*t*t*(t*(6*t-15)+10)},randInt:function(t,i){return t+Math.floor(Math.random()*(i-t+1))},randFloat:function(t,i){return t+Math.random()*(i-t)},randFloatSpread:function(t){return t*(.5-Math.random())},seededRandom:function(t){return((Kn=16807*(Kn=void 0!==t?t%2147483647:Kn)%2147483647)-1)/2147483646},degToRad:function(t){return t*tr.DEG2RAD},radToDeg:function(t){return t*tr.RAD2DEG},isPowerOfTwo:function(t){return 0==(t&t-1)&&0!==t},ceilPowerOfTwo:function(t){return Math.pow(2,Math.ceil(Math.log(t)/Math.LN2))},floorPowerOfTwo:function(t){return Math.pow(2,Math.floor(Math.log(t)/Math.LN2))},setQuaternionFromProperEuler:function(t,i,n,r,e){var s=Math.cos,o=Math.sin,u=s(n/2),h=o(n/2),a=s((i+r)/2),f=o((i+r)/2),c=s((i-r)/2),l=o((i-r)/2),v=s((r-i)/2),y=o((r-i)/2);switch(e){case"XYX":t.set(u*f,h*c,h*l,u*a);break;case"YZY":t.set(h*l,u*f,h*c,u*a);break;case"ZXZ":t.set(h*c,h*l,u*f,u*a);break;case"XZX":t.set(u*f,h*y,h*v,u*a);break;case"YXY":t.set(h*v,u*f,h*y,u*a);break;case"ZYZ":t.set(h*y,h*v,u*f,u*a);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+e)}}};function ir(t,i){for(var n=0;n<i.length;n++){var r=i[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}a=function(){function o(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:1,e=this,s=o;if(!(e instanceof s))throw new TypeError("Cannot call a class as a function");Object.defineProperty(this,"isQuaternion",{value:!0}),this.Gn=t,this.Wn=i,this.Vn=n,this.Yn=r}var t,i,n;return t=o,n=[{key:"slerp",value:function(t,i,n,r){return n.copy(t).slerp(i,r)}},{key:"slerpFlat",value:function(t,i,n,r,e,s,o){var u,h,a,f=n[r+0],c=n[r+1],l=n[r+2],n=n[r+3],r=e[s+0],v=e[s+1],y=e[s+2],e=e[s+3];n===e&&f===r&&c===v&&l===y||(s=1-o,u=0<=(h=f*r+c*v+l*y+n*e)?1:-1,(a=1-h*h)>Number.EPSILON&&(a=Math.sqrt(a),h=Math.atan2(a,h*u),s=Math.sin(s*h)/a,o=Math.sin(o*h)/a),f=f*s+r*(h=o*u),c=c*s+v*h,l=l*s+y*h,n=n*s+e*h,s===1-o&&(f*=a=1/Math.sqrt(f*f+c*c+l*l+n*n),c*=a,l*=a,n*=a)),t[i]=f,t[i+1]=c,t[i+2]=l,t[i+3]=n}},{key:"multiplyQuaternionsFlat",value:function(t,i,n,r,e,s){var o=n[r],u=n[r+1],h=n[r+2],n=n[r+3],r=e[s],a=e[s+1],f=e[s+2],e=e[s+3];return t[i]=o*e+n*r+u*f-h*a,t[i+1]=u*e+n*a+h*r-o*f,t[i+2]=h*e+n*f+o*a-u*r,t[i+3]=n*e-o*r-u*a-h*f,t}}],(i=[{key:"x",get:function(){return this.Gn},set:function(t){this.Gn=t,this.zn()}},{key:"y",get:function(){return this.Wn},set:function(t){this.Wn=t,this.zn()}},{key:"z",get:function(){return this.Vn},set:function(t){this.Vn=t,this.zn()}},{key:"w",get:function(){return this.Yn},set:function(t){this.Yn=t,this.zn()}},{key:"set",value:function(t,i,n,r){return this.Gn=t,this.Wn=i,this.Vn=n,this.Yn=r,this.zn(),this}},{key:"clone",value:function(){return new this.constructor(this.Gn,this.Wn,this.Vn,this.Yn)}},{key:"copy",value:function(t){return this.Gn=t.x,this.Wn=t.y,this.Vn=t.z,this.Yn=t.w,this.zn(),this}},{key:"setFromEuler",value:function(t,i){if(!t||!t.isEuler)throw new Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");var n=t.Gn,r=t.Wn,e=t.Vn,s=t.Xn,t=Math.cos,o=Math.sin,u=t(n/2),h=t(r/2),a=t(e/2),f=o(n/2),c=o(r/2),l=o(e/2);switch(s){case"XYZ":this.Gn=f*h*a+u*c*l,this.Wn=u*c*a-f*h*l,this.Vn=u*h*l+f*c*a,this.Yn=u*h*a-f*c*l;break;case"YXZ":this.Gn=f*h*a+u*c*l,this.Wn=u*c*a-f*h*l,this.Vn=u*h*l-f*c*a,this.Yn=u*h*a+f*c*l;break;case"ZXY":this.Gn=f*h*a-u*c*l,this.Wn=u*c*a+f*h*l,this.Vn=u*h*l+f*c*a,this.Yn=u*h*a-f*c*l;break;case"ZYX":this.Gn=f*h*a-u*c*l,this.Wn=u*c*a+f*h*l,this.Vn=u*h*l-f*c*a,this.Yn=u*h*a+f*c*l;break;case"YZX":this.Gn=f*h*a+u*c*l,this.Wn=u*c*a+f*h*l,this.Vn=u*h*l-f*c*a,this.Yn=u*h*a-f*c*l;break;case"XZY":this.Gn=f*h*a-u*c*l,this.Wn=u*c*a-f*h*l,this.Vn=u*h*l+f*c*a,this.Yn=u*h*a+f*c*l;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+s)}return!1!==i&&this.zn(),this}},{key:"setFromAxisAngle",value:function(t,i){var i=i/2,n=Math.sin(i);return this.Gn=t.x*n,this.Wn=t.y*n,this.Vn=t.z*n,this.Yn=Math.cos(i),this.zn(),this}},{key:"setFromRotationMatrix",value:function(t){var t=t.elements,i=t[0],n=t[4],r=t[8],e=t[1],s=t[5],o=t[9],u=t[2],h=t[6],t=t[10],a=i+s+t;return 0<a?(a=.5/Math.sqrt(a+1),this.Yn=.25/a,this.Gn=(h-o)*a,this.Wn=(r-u)*a,this.Vn=(e-n)*a):s<i&&t<i?(a=2*Math.sqrt(1+i-s-t),this.Yn=(h-o)/a,this.Gn=.25*a,this.Wn=(n+e)/a,this.Vn=(r+u)/a):t<s?(a=2*Math.sqrt(1+s-i-t),this.Yn=(r-u)/a,this.Gn=(n+e)/a,this.Wn=.25*a,this.Vn=(o+h)/a):(a=2*Math.sqrt(1+t-i-s),this.Yn=(e-n)/a,this.Gn=(r+u)/a,this.Wn=(o+h)/a,this.Vn=.25*a),this.zn(),this}},{key:"setFromUnitVectors",value:function(t,i){var n=t.dot(i)+1;return n<1e-6?(n=0,Math.abs(t.x)>Math.abs(t.z)?(this.Gn=-t.y,this.Wn=t.x,this.Vn=0):(this.Gn=0,this.Wn=-t.z,this.Vn=t.y)):(this.Gn=t.y*i.z-t.z*i.y,this.Wn=t.z*i.x-t.x*i.z,this.Vn=t.x*i.y-t.y*i.x),this.Yn=n,this.normalize()}},{key:"angleTo",value:function(t){return 2*Math.acos(Math.abs(tr.clamp(this.dot(t),-1,1)))}},{key:"rotateTowards",value:function(t,i){var n=this.angleTo(t);if(0===n)return this;i=Math.min(1,i/n);return this.slerp(t,i),this}},{key:"identity",value:function(){return this.set(0,0,0,1)}},{key:"invert",value:function(){return this.conjugate()}},{key:"conjugate",value:function(){return this.Gn*=-1,this.Wn*=-1,this.Vn*=-1,this.zn(),this}},{key:"dot",value:function(t){return this.Gn*t.Gn+this.Wn*t.Wn+this.Vn*t.Vn+this.Yn*t.Yn}},{key:"lengthSq",value:function(){return this.Gn*this.Gn+this.Wn*this.Wn+this.Vn*this.Vn+this.Yn*this.Yn}},{key:"length",value:function(){return Math.sqrt(this.Gn*this.Gn+this.Wn*this.Wn+this.Vn*this.Vn+this.Yn*this.Yn)}},{key:"normalize",value:function(){var t=this.length();return 0===t?(this.Gn=0,this.Wn=0,this.Vn=0,this.Yn=1):(this.Gn=this.Gn*(t=1/t),this.Wn=this.Wn*t,this.Vn=this.Vn*t,this.Yn=this.Yn*t),this.zn(),this}},{key:"multiply",value:function(t,i){return void 0!==i?(console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),this.multiplyQuaternions(t,i)):this.multiplyQuaternions(this,t)}},{key:"premultiply",value:function(t){return this.multiplyQuaternions(t,this)}},{key:"multiplyQuaternions",value:function(t,i){var n=t.Gn,r=t.Wn,e=t.Vn,t=t.Yn,s=i.Gn,o=i.Wn,u=i.Vn,i=i.Yn;return this.Gn=n*i+t*s+r*u-e*o,this.Wn=r*i+t*o+e*s-n*u,this.Vn=e*i+t*u+n*o-r*s,this.Yn=t*i-n*s-r*o-e*u,this.zn(),this}},{key:"slerp",value:function(t,i){if(0===i)return this;if(1===i)return this.copy(t);var n=this.Gn,r=this.Wn,e=this.Vn,s=this.Yn,o=s*t.Yn+n*t.Gn+r*t.Wn+e*t.Vn;if(o<0?(this.Yn=-t.Yn,this.Gn=-t.Gn,this.Wn=-t.Wn,this.Vn=-t.Vn,o=-o):this.copy(t),1<=o)return this.Yn=s,this.Gn=n,this.Wn=r,this.Vn=e,this;t=1-o*o;if(t<=Number.EPSILON)return this.Yn=(u=1-i)*s+i*this.Yn,this.Gn=u*n+i*this.Gn,this.Wn=u*r+i*this.Wn,this.Vn=u*e+i*this.Vn,this.normalize(),this.zn(),this;var u=Math.sqrt(t),t=Math.atan2(u,o),o=Math.sin((1-i)*t)/u,i=Math.sin(i*t)/u;return this.Yn=s*o+this.Yn*i,this.Gn=n*o+this.Gn*i,this.Wn=r*o+this.Wn*i,this.Vn=e*o+this.Vn*i,this.zn(),this}},{key:"equals",value:function(t){return t.Gn===this.Gn&&t.Wn===this.Wn&&t.Vn===this.Vn&&t.Yn===this.Yn}},{key:"fromArray",value:function(t){var i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;return this.Gn=t[i],this.Wn=t[i+1],this.Vn=t[i+2],this.Yn=t[i+3],this.zn(),this}},{key:"toArray",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;return t[i]=this.Gn,t[i+1]=this.Wn,t[i+2]=this.Vn,t[i+3]=this.Yn,t}},{key:"fromBufferAttribute",value:function(t,i){return this.Gn=t.getX(i),this.Wn=t.getY(i),this.Vn=t.getZ(i),this.Yn=t.getW(i),this}}])&&ir(t.prototype,i),n&&ir(t,n),Object.defineProperty(t,"prototype",{writable:!1}),o}();function nr(t,i){for(var n=0;n<i.length;n++){var r=i[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}Object.assign(a.prototype,{qn:function(t){return this.zn=t,this},zn:function(){}});var rr=function(){function s(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,r=this,e=s;if(!(r instanceof e))throw new TypeError("Cannot call a class as a function");Object.defineProperty(this,"isVector3",{value:!0}),this.x=t,this.y=i,this.z=n}var t,i,n;return t=s,(i=[{key:"set",value:function(t,i,n){return void 0===n&&(n=this.z),this.x=t,this.y=i,this.z=n,this}},{key:"setScalar",value:function(t){return this.x=t,this.y=t,this.z=t,this}},{key:"setX",value:function(t){return this.x=t,this}},{key:"setY",value:function(t){return this.y=t,this}},{key:"setZ",value:function(t){return this.z=t,this}},{key:"setComponent",value:function(t,i){switch(t){case 0:this.x=i;break;case 1:this.y=i;break;case 2:this.z=i;break;default:throw new Error("index is out of range: "+t)}return this}},{key:"getComponent",value:function(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+t)}}},{key:"clone",value:function(){return new this.constructor(this.x,this.y,this.z)}},{key:"copy",value:function(t){return this.x=t.x,this.y=t.y,this.z=t.z,this}},{key:"add",value:function(t,i){return void 0!==i?(console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(t,i)):(this.x+=t.x,this.y+=t.y,this.z+=t.z,this)}},{key:"addScalar",value:function(t){return this.x+=t,this.y+=t,this.z+=t,this}},{key:"addVectors",value:function(t,i){return this.x=t.x+i.x,this.y=t.y+i.y,this.z=t.z+i.z,this}},{key:"addScaledVector",value:function(t,i){return this.x+=t.x*i,this.y+=t.y*i,this.z+=t.z*i,this}},{key:"sub",value:function(t,i){return void 0!==i?(console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(t,i)):(this.x-=t.x,this.y-=t.y,this.z-=t.z,this)}},{key:"subScalar",value:function(t){return this.x-=t,this.y-=t,this.z-=t,this}},{key:"subVectors",value:function(t,i){return this.x=t.x-i.x,this.y=t.y-i.y,this.z=t.z-i.z,this}},{key:"multiply",value:function(t,i){return void 0!==i?(console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(t,i)):(this.x*=t.x,this.y*=t.y,this.z*=t.z,this)}},{key:"multiplyScalar",value:function(t){return this.x*=t,this.y*=t,this.z*=t,this}},{key:"multiplyVectors",value:function(t,i){return this.x=t.x*i.x,this.y=t.y*i.y,this.z=t.z*i.z,this}},{key:"applyEuler",value:function(t){return t&&t.isEuler||console.error("THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order."),this.applyQuaternion(sr.setFromEuler(t))}},{key:"applyAxisAngle",value:function(t,i){return this.applyQuaternion(sr.setFromAxisAngle(t,i))}},{key:"applyMatrix3",value:function(t){var i=this.x,n=this.y,r=this.z,t=t.elements;return this.x=t[0]*i+t[3]*n+t[6]*r,this.y=t[1]*i+t[4]*n+t[7]*r,this.z=t[2]*i+t[5]*n+t[8]*r,this}},{key:"applyNormalMatrix",value:function(t){return this.applyMatrix3(t).normalize()}},{key:"applyMatrix4",value:function(t){var i=this.x,n=this.y,r=this.z,t=t.elements,e=1/(t[3]*i+t[7]*n+t[11]*r+t[15]);return this.x=(t[0]*i+t[4]*n+t[8]*r+t[12])*e,this.y=(t[1]*i+t[5]*n+t[9]*r+t[13])*e,this.z=(t[2]*i+t[6]*n+t[10]*r+t[14])*e,this}},{key:"applyQuaternion",value:function(t){var i=this.x,n=this.y,r=this.z,e=t.x,s=t.y,o=t.z,t=t.w,u=t*i+s*r-o*n,h=t*n+o*i-e*r,a=t*r+e*n-s*i,i=-e*i-s*n-o*r;return this.x=u*t+i*-e+h*-o-a*-s,this.y=h*t+i*-s+a*-e-u*-o,this.z=a*t+i*-o+u*-s-h*-e,this}},{key:"project",value:function(t){return this.applyMatrix4(t.matrixWorldInverse).applyMatrix4(t.projectionMatrix)}},{key:"unproject",value:function(t){return this.applyMatrix4(t.projectionMatrixInverse).applyMatrix4(t.matrixWorld)}},{key:"transformDirection",value:function(t){var i=this.x,n=this.y,r=this.z,t=t.elements;return this.x=t[0]*i+t[4]*n+t[8]*r,this.y=t[1]*i+t[5]*n+t[9]*r,this.z=t[2]*i+t[6]*n+t[10]*r,this.normalize()}},{key:"divide",value:function(t){return this.x/=t.x,this.y/=t.y,this.z/=t.z,this}},{key:"divideScalar",value:function(t){return this.multiplyScalar(1/t)}},{key:"min",value:function(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this}},{key:"max",value:function(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this}},{key:"clamp",value:function(t,i){return this.x=Math.max(t.x,Math.min(i.x,this.x)),this.y=Math.max(t.y,Math.min(i.y,this.y)),this.z=Math.max(t.z,Math.min(i.z,this.z)),this}},{key:"clampScalar",value:function(t,i){return this.x=Math.max(t,Math.min(i,this.x)),this.y=Math.max(t,Math.min(i,this.y)),this.z=Math.max(t,Math.min(i,this.z)),this}},{key:"clampLength",value:function(t,i){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(t,Math.min(i,n)))}},{key:"floor",value:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}},{key:"ceil",value:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}},{key:"round",value:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}},{key:"roundToZero",value:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}},{key:"negate",value:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}},{key:"dot",value:function(t){return this.x*t.x+this.y*t.y+this.z*t.z}},{key:"lengthSq",value:function(){return this.x*this.x+this.y*this.y+this.z*this.z}},{key:"length",value:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}},{key:"manhattanLength",value:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}},{key:"normalize",value:function(){return this.divideScalar(this.length()||1)}},{key:"setLength",value:function(t){return this.normalize().multiplyScalar(t)}},{key:"lerp",value:function(t,i){return this.x+=(t.x-this.x)*i,this.y+=(t.y-this.y)*i,this.z+=(t.z-this.z)*i,this}},{key:"lerpVectors",value:function(t,i,n){return this.x=t.x+(i.x-t.x)*n,this.y=t.y+(i.y-t.y)*n,this.z=t.z+(i.z-t.z)*n,this}},{key:"cross",value:function(t,i){return void 0!==i?(console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(t,i)):this.crossVectors(this,t)}},{key:"crossVectors",value:function(t,i){var n=t.x,r=t.y,t=t.z,e=i.x,s=i.y,i=i.z;return this.x=r*i-t*s,this.y=t*e-n*i,this.z=n*s-r*e,this}},{key:"projectOnVector",value:function(t){var i=t.lengthSq();if(0===i)return this.set(0,0,0);i=t.dot(this)/i;return this.copy(t).multiplyScalar(i)}},{key:"projectOnPlane",value:function(t){return er.copy(this).projectOnVector(t),this.sub(er)}},{key:"reflect",value:function(t){return this.sub(er.copy(t).multiplyScalar(2*this.dot(t)))}},{key:"angleTo",value:function(t){var i=Math.sqrt(this.lengthSq()*t.lengthSq());if(0===i)return Math.PI/2;t=this.dot(t)/i;return Math.acos(tr.clamp(t,-1,1))}},{key:"distanceTo",value:function(t){return Math.sqrt(this.distanceToSquared(t))}},{key:"distanceToSquared",value:function(t){var i=this.x-t.x,n=this.y-t.y,t=this.z-t.z;return i*i+n*n+t*t}},{key:"manhattanDistanceTo",value:function(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)+Math.abs(this.z-t.z)}},{key:"setFromSpherical",value:function(t){return this.setFromSphericalCoords(t.radius,t.phi,t.theta)}},{key:"setFromSphericalCoords",value:function(t,i,n){var r=Math.sin(i)*t;return this.x=r*Math.sin(n),this.y=Math.cos(i)*t,this.z=r*Math.cos(n),this}},{key:"setFromCylindrical",value:function(t){return this.setFromCylindricalCoords(t.radius,t.theta,t.y)}},{key:"setFromCylindricalCoords",value:function(t,i,n){return this.x=t*Math.sin(i),this.y=n,this.z=t*Math.cos(i),this}},{key:"setFromMatrixPosition",value:function(t){t=t.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}},{key:"setFromMatrixScale",value:function(t){var i=this.setFromMatrixColumn(t,0).length(),n=this.setFromMatrixColumn(t,1).length(),t=this.setFromMatrixColumn(t,2).length();return this.x=i,this.y=n,this.z=t,this}},{key:"setFromMatrixColumn",value:function(t,i){return this.fromArray(t.elements,4*i)}},{key:"setFromMatrix3Column",value:function(t,i){return this.fromArray(t.elements,3*i)}},{key:"equals",value:function(t){return t.x===this.x&&t.y===this.y&&t.z===this.z}},{key:"fromArray",value:function(t){var i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;return this.x=t[i],this.y=t[i+1],this.z=t[i+2],this}},{key:"toArray",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;return t[i]=this.x,t[i+1]=this.y,t[i+2]=this.z,t}},{key:"fromBufferAttribute",value:function(t,i,n){return void 0!==n&&console.warn("THREE.Vector3: offset has been removed from .fromBufferAttribute()."),this.x=t.getX(i),this.y=t.getY(i),this.z=t.getZ(i),this}},{key:"random",value:function(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}}])&&nr(t.prototype,i),n&&nr(t,n),Object.defineProperty(t,"prototype",{writable:!1}),s}(),er=new rr,sr=new a,I={NaviNodeType_NULL:-1,NaviNodeType_COMMON:0,NaviNodeType_SIDE:1,NaviNodeType_FLOOR:2,NaviNodeType_EXTENT:3,NaviLiftType_NULL:0,NaviLiftType_Lift:1,NaviLiftType_Stair:2,NaviLiftType_Escalator:3,NaviLiftType_Accessible:4,NaviLiftType_Ramp:5,NaviLiftEntry_BOTH:0,NaviLiftEntry_UP:1,NaviLiftEntry_DOWN:2,NaviLiftEntry_FORBID:3,NaviEntranceType_NULL:0,NaviEntranceType_EXIT:1,NaviEntranceType_ENTRANCE:2,NaviEntranceType_ACCESS:3,NaviRoadRank_MAIN:1,NaviRoadRank_MINOR:2,NaviRoadRank_NARROW:3,NaviRoadEntry_BOTH:0,NaviRoadEntry_FORWARD:1,NaviRoadEntry_BACK:2,NaviRoadEntry_FORBID:3,NaviRoadPass_NULL:-1,NaviRoadPass_NOT_THROUGH:0,NaviRoadPass_THROUGH:1,NaviZoneType_NULL:-1,NaviZoneType_PASS_UNRESTRAINT:0,NaviZoneType_PASS_THROUGH:1,NaviZoneType_PASS_NOT_THROUGH:2,NaviZoneType_NO_ENTRY:3,NaviZoneType_CORRIDOR:4,NaviModelPassType_PASS_THROUGH:0,NaviModelPassType_PASS_NOT_THROUGH:1,NaviModelPassType_NOT_PASS:2,NaviModelPassType_DECORATE:3,NaviRoadHinderType_HINDER_GENERAL:0,NaviRoadHinderType_HINDER_HIGH:1,NaviObstructType_MODEL:0,NaviObstructType_EXTENT:1};function or(t,i){for(var n=0;n<i.length;n++){var r=i[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ur(t,i,n){return i&&or(t.prototype,i),n&&or(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}var a=ur(function t(){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function");this.Li=0,this.Yt={},this.Xt=0,this.Hn=[],this.Qn=[],this.$n=0,this.Jn=[],this.Kn=!1,this.tr=!1,this.ir=0,this.nr=!1,this.rr=[]}),L=(Object.assign(a.prototype,{set er(t){-1!=t&&(this.Xt|=t)},get er(){return 3&this.Xt},set sr(t){this.Xt|=t<<2},get sr(){return this.Xt>>2&7},set or(t){this.Xt|=t<<5},get or(){return this.Xt>>5&3},set ur(t){this.Xt|=t<<7},get ur(){return this.Xt>>7&3},set hr(t){this.Xt|=t<<9},get hr(){return this.Xt>>9&3},Sn:function(t){this.Li=t,this.Yt={x:0,y:0},this.Xt=0,this.$n=0,this.Kn=!1,this.tr=!1},ar:function(t){return this.Li==t.Li},fr:function(t){this.Li=t.Li,this.Yt=Object.assign({},t.Yt),this.Xt=t.Xt,this.Hn=[];for(var i=0;i<t.Hn.length;i++)this.Hn[i]=t.Hn[i];this.Qn=[];for(var n=0;n<t.Qn.length;n++)this.Qn[n]=t.Qn[n];this.$n=t.$n,this.Jn=[];for(var r=0;r<t.Jn.length;r++)this.Jn[r]=t.Jn[r];this.Kn=t.Kn,this.tr=t.tr},cr:function(){return this.Hn.length},lr:function(){return this.Qn.length},vr:function(t){if(this.sr==I.NaviLiftType_Stair)return!0;for(var i=this.Hn.length-1;0<=i;i--)if(this.Hn[i]==t)return!0;return!1}}),a);function hr(t){return(hr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ar(t,i){for(var n=0;n<i.length;n++){var r=i[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function fr(t,i){return(fr=Object.setPrototypeOf||function(t,i){return t.__proto__=i,t})(t,i)}function cr(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var t,i=lr(n),i=(t=r?(t=lr(this).constructor,Reflect.construct(i,arguments,t)):i.apply(this,arguments),this);if(t&&("object"===hr(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");if(void 0!==i)return i;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}}function lr(t){return(lr=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var vr=function(){var t=s,i=L;if("function"!=typeof i&&null!==i)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(i&&i.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),i&&fr(t,i);var n,r,e=cr(s);function s(){var t;if(this instanceof s)return(t=e.call(this)).yr=0,t.Cn=0,t.dr=null,t.ir=0,t.br=null,t.sr=null,t;throw new TypeError("Cannot call a class as a function")}return t=s,n&&ar(t.prototype,n),r&&ar(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}();function yr(t,i){for(var n=0;n<i.length;n++){var r=i[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function dr(t,i,n){return i&&yr(t.prototype,i),n&&yr(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}var a=dr(function t(){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function");this.Li=0,this.pr=-1,this.wr={},this.mr=-1,this._r={},this.Un=0,this.Xt=0,this.xr=[],this.gr=-1,this.Or=!1,this.jr=0}),D=(Object.assign(a.prototype,{set Er(t){this.Xt|=t},get Er(){return 3&this.Xt},set Tr(t){this.Xt|=t<<2},get Tr(){return this.Xt>>2&3},set hr(t){this.Xt|=t<<4},get hr(){return this.Xt>>4&3},set Mr(t){t?this.Xt|=16:this.Xt&=-17},get Mr(){return 16&this.Xt?1:0},kr:function(t){this.Li=t.Li,this.pr=t.pr,this.wr=Object.assign({},t.wr),this.mr=t.mr,this._r=Object.assign({},t._r),this.Un=t.Un,this.Xt=t.Xt,this.xr=[],this.gr=t.gr;for(var i=0;i<t.xr.Un;i++)this.xr[i]=t.xr[i]},Rr:function(){this.Un=S.distanceOfTwoPoints(this.wr,this._r)},Ar:function(){var t=this.wr.x-this._r.x,i=this.wr.y-this._r.y;this.Un=Math.abs(t)+Math.abs(i)},Sr:function(){var t={};return t.x=(this.wr.x+this._r.x)/2,t.y=(this.wr.y+this._r.y)/2,t}}),a);function br(t,i){for(var n=0;n<i.length;n++){var r=i[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var a=function(){function e(t,i,n,r){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");this.Li=t,this.Cn=i||-1,this.Xt=n,this.Nr=r,this.Ir=r&&r.length?r.length-1:0,this.Lr=0,this.Dr=null,this.Fr=null,this.Pr=[],this.Cr=[],this.Ur=null,this.Bt=new u,this.Bt.Dt(this.Nr)}var t,i,n;return t=e,(i=[{key:"_pass",get:function(){return 3&this.Xt},set:function(t){this.Xt|=t}},{key:"_area",get:function(){return null==this.Ur&&(this.Ur=S._t(this.Nr,this.Ir)),this.Ur}}])&&br(t.prototype,i),n&&br(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),pr=(Object.assign(a.prototype,{Br:function(t){return!!S.ht(t,this.Bt.Nt,this.Bt.It)&&S.lt(this.Nr,t,this.Ir)},xt:function(t,i){for(var n={},r=0;r<this.Ir;r++){var e=this.Nr[r],s=this.Nr[(r+1)%this.Ir];if(1==S.xt(e,s,t,i,n))break}return n}}),a);function wr(t,i){for(var n=0;n<i.length;n++){var r=i[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var a=function(){function o(t,i,n,r,e,s){if(!(this instanceof o))throw new TypeError("Cannot call a class as a function");this.Li=t,this.Zr="",this.Nr=r,this.Ir=r&&r.length?r.length-1:0,this.Pt=e,this.Gr=s,this.Xt=n,this.Cn=i,this.Wr=[],this.Vr=[],this.Yr=[],this.Dr=null,this.Fr=null,this.Pr=[],this.zr=0,this.Lr=0,this.Ur=null,this.Xr=!1,this.Bt=new u,this.Bt.Dt(this.Nr)}var t,i,n;return t=o,(i=[{key:"pass",get:function(){return 3&this.Xt},set:function(t){this.Xt|=t}},{key:"area",get:function(){return null==this.Ur&&(this.Ur=S._t(this.Nr,this.Ir)),this.Ur}}])&&wr(t.prototype,i),n&&wr(t,n),Object.defineProperty(t,"prototype",{writable:!1}),o}(),mr=(Object.assign(a.prototype,{Br:function(t){return S.lt(t,this.Nr,this.Ir)}}),a);function _r(t,i){var n,r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,i){if(t){if("string"==typeof t)return xr(t,i);var n=Object.prototype.toString.call(t).slice(8,-1);return"Map"===(n="Object"===n&&t.constructor?t.constructor.name:n)||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?xr(t,i):void 0}}(t))||i&&t&&"number"==typeof t.length)return r&&(t=r),n=0,{s:i=function(){},n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:i};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var e,s=!0,o=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return s=t.done,t},e:function(t){o=!0,e=t},f:function(){try{s||null==r.return||r.return()}finally{if(o)throw e}}}}function xr(t,i){(null==i||i>t.length)&&(i=t.length);for(var n=0,r=new Array(i);n<i;n++)r[n]=t[n];return r}function gr(t,i){for(var n=0;n<i.length;n++){var r=i[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var Or=function(){function e(t,i,n,r){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");this.Cn=0,this.Xt=r,this.qr=t,this.Hr=i,this.Qr=[],this.$r=[],this.Jr=[],this.Kr=[],this.te=new Map,this.ie=[],this.ne=new Map,this.re=new Map,this.ee=n,this.se=[],this.oe=new Map,this.ue=new Map,this.he=0,this.ae=0,this.fe(),this.Sn()}var t,i,n;return t=e,(i=[{key:"queryContainExtentID",value:function(t){return this.ce(t)}}])&&gr(t.prototype,i),n&&gr(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),jr=(Object.assign(Or.prototype,{mi:function(){this.qr=null,this.Hr=null,this.Qr=null,this.$r=null,this.Jr=null,(this.Kr=null)!=this.te&&(this.te.clear(),this.te=null),null!=this.ne&&(this.ne.clear(),this.ne=null),(this.ie=null)!=this.re&&(this.re.clear(),this.re=null),(this.se=null)!=this.oe&&(this.oe.clear(),this.oe=null),null!=this.ue&&(this.ue.clear(),this.ue=null)},le:function(t){for(var i,n,r=Number.MAX_VALUE,e=0;e<this.Hr.length;e++)0!=this.ee&&(i=this.Hr[e],1==t?r=i.Un:2==t&&(r=i.Un*i.Er),(n=i.Tr)!=I.NaviRoadEntry_BOTH&&n!=I.NaviRoadEntry_FORWARD||(this.ie[i.pr][i.mr]=r),n!=I.NaviRoadEntry_BOTH&&n!=I.NaviRoadEntry_BACK||(this.ie[i.mr][i.pr]=r))},ve:function(){return 0==this.qr.length||0==this.Hr.length},bn:function(){for(var t=0;t<this.qr.length;t++)this.qr[t].Kn=!1;if(1==this.ee)for(var i=this.qr.length+1,n=0;n<i;n++)for(var r=0;r<i;r++)void 0!==this.ie[n]&&void 0!==this.ie[n][r]&&(this.ie[n][r]=Number.MAX_VALUE)},ye:function(){this.Kr=[];for(var t=0;t<this.$r.length;t++){var i=this.$r[t].toZone();this.Kr.push(i)}for(var n=0;n<this.Qr.length;n++){var r=this.$r[n].toZone();this.Kr.push(r)}},de:function(t){for(var i=0;i<this.Kr.length;i++){var n=this.Kr[i];if(n&&n.Li==t)return n}return null},be:function(t){for(var i=0;i<this.Kr.length;i++){var n=this.Kr[i];if(n&&1==n.contain(t))return n}return null},pe:function(){},we:function(t,i){var n=null;if(this.qr.length<=0||this.Hr.length<=0)return n;for(var r=[],e=0,s=this.qr.length;e<s;e++){var o=this.qr[e],u=o.entranceType;u!=i&&u!=I.NaviEntranceType_ACCESS||((u=new{}).node=o,u.distance=S.yt(t,o.Yt),r.push(u))}return 0==r.length?n:(r=r.sort(this.me))[0].node.Yt},_e:function(t){var i=[];if(this.qr.length<=0||this.Hr.length<=0)return i;for(var n=0,r=this.qr.length;n<r;n++){var e=this.qr[n],s=e.entranceType;s!=t&&s!=I.NaviEntranceType_ACCESS||i.push(e.Yt)}return i},xe:function(t,i){if(this.qr.length<=0||this.Hr.length<=0)return!1;if(t.Li==i.Li)return!0;this.ge();var n,r,e=[];for(e.push(t.Li),o=0;o!=e.length;)for(var s=o,o=e.length,u=s;u<e.length;u++)for(var h=0;h<this.Hr.length;h++)if(1!=this.se[h]){if(r=(n=this.Hr[h]).Tr,n.pr==e[u]&&(r==I.NaviRoadEntry_BOTH||r==I.NaviRoadEntry_FORWARD)){if(n.mr==i.Li)return!0;e.push(n.mr),this.se[h]=!0}if(n.mr==e[u]&&(r==I.NaviRoadEntry_BOTH||r==I.NaviRoadEntry_BACK)){if(n.pr==i.Li)return!0;e.push(n.pr),this.se[h]=!0}}return!1},Oe:function(t,i,n,r){if(this.qr.length<=0||this.Hr.length<=0)return[];var e=this.ce(t);if(0==e)return!1;for(var s=[],o=0;o<this.qr.length;o++){var u=this.qr[o],h=this.ce(u.Yt);!u.contansFloor(i)||h!=e&&0!=e||((h={}).node=u,h.distance=S.yt(t,u.Yt),h.distance=parseFloat(h.distance).toFixed(4),s.push(h))}if(!s||0==s.length)return[];for(var s=s.sort(this.me),a=0;a<s.length;a++)n[a]=new L,n[a].setNode(s[a].node),r[a]=parseFloat(s[a].distance);return n},je:function(t,i){if(!this.qr||this.qr.length<=0||!this.Hr||this.Hr.length<=0)return!1;for(var n=0;n<this.qr.length;n++){var r=this.qr[n];if(r.er==I.NaviNodeType_FLOOR)if(r.$n==t)return i.setNode(r),!0}return!1},Ee:function(t,i){if(!this.qr||this.qr.length<=0||!this.Hr||this.Hr.length<=0)return!1;for(var n=0;n<this.qr.length;n++){var r=this.qr[n];r.sr==t&&(i[n]=r)}return 0!=i.length},ce:function(t){if(0===this.$r.length||!t)return 0;for(var i=0,n=this.$r.length;i<n;i++){var r=this.$r[i];if(r.Br(t))return r.Li}return 0},Te:function(t,i){if(0==this.Jr.length||!t||!i)return!1;for(var n=0;n<this.Jr.length;n++)if(this.Jr[n].isCross(t,i))return!0;return!1},Me:function(t,i,n,r,e){var s=Number.MAX_VALUE,o={};new L;if(this.qr.length<=0||this.Hr.length<=0)return!1;var u=this.ce(t);if(0==u)return!1;for(var h=0,a=this.Hr.length;h<a;h++){var f,c=this.Hr[h];c&&u==this.ce(c.wr)&&(f=S.pt(t,c.wr,c._r,o),this.Te(o,t)||f<s&&(s=f,i.kr(c),r.x=o.x,r.y=o.y))}if(!i||i.Tr==I.NaviRoadEntry_FORBID)return!1;for(var l=i.Tr==I.NaviRoadEntry_BACK||i.Tr!=I.NaviRoadEntry_FORWARD&&S.yt(i.wr,r)<=S.yt(i._r,r)?i.pr:i.mr,v=0;v<this.qr.length;v++){var y=this.qr[v];if(y.Li==l){n.fr(y);break}}return!0},ke:function(t,i,n,r){var e=Number.MAX_VALUE,s={};new L;if(this.qr.length<=0||this.Hr.length<=0)return!1;var o=this.ce(t);if(0==o)return!1;for(var u=0;u<this.Hr.length;u++){var h,a=this.Hr[u];I.NaviRoadEntry_BOTH!=a.Tr||o!=this.ce(a.wr)&&0!=o||(h=S.pt(t,a.wr,a._r,s),this.Te(s,t)||h<e&&(e=h,i.setRoad(a),r.x=s.x,r.y=s.y))}if(-1==i.Li)return!1;for(var f=S.yt(i.wr,r)<=S.yt(i._r,r)?i.pr:i.mr,c=0;c<this.qr.length;c++){var l=this.qr[c];if(l.Li==f){n.fr(l);break}}return-1!=n.Li},fe:function(){this.he=0;for(var t=this.ae=0;t<this.Hr.length;)null==this.Hr[t]?this.Hr.splice(t,1):(this.Hr[t].Li>this.ae&&(this.ae=this.Hr[t].Li),t++);for(var i=0;i<this.qr.length;)null==this.qr[i]?this.qr.splice(i,1):(this.qr[i].Li>this.he&&(this.he=this.qr[i].Li),i++)},Re:function(t){t=this.oe.get(t);return void 0===t?null:t},Ae:function(t){t=this.ue.get(t);return void 0===t?null:t},Se:function(t){for(var i=Number.MAX_VALUE,n=null,r=0;r<this.$r.length;++r){var e=this.$r[r];e.contain(t)&&e.area<i&&(i=cur_area,n=e)}for(var s=0;s<this.Qr.size();++s){var o=this.Qr[s];o.contain(t)&&o.area<i&&(i=cur_area,n=o)}return n||null},Ne:function(t){for(var i=Number.MAX_VALUE,n=null,r=0;r<this.Qr.length;++r){var e=this.Qr[r];e.Br(t)&&e.area<i&&(i=e.area,n=e)}return n||null},Ie:function(){return++this.he},Le:function(){return++this.ae},De:function(t){this.he=t},Fe:function(t){this.ae=t},Pe:function(){for(var t=0;t<this.qr.length;t++){var i=this.qr[t];i&&this.oe.set(i.Li,t)}},Ce:function(){for(var t=0;t<this.Hr.length;t++){var i=this.Hr[t];i&&this.ue.set(i.Li,t)}},Ue:function(){var t,i=_r(this.oe);try{for(i.s();!(t=i.n()).done;)t.value[1].rr=[]}catch(t){i.e(t)}finally{i.f()}},Be:function(){for(var e=this,t=(this.ne.clear(),0);t<this.Hr.length;t++)!function(t){var i=e.Hr[t];if(null==i)return;var n,r,t=i.Tr;I.NaviRoadEntry_BOTH!=t&&I.NaviRoadEntry_FORWARD!=t||(n=i.pr,(r=e.ne.get(n))||e.ne.set(n,r=[]),null==r.find(function(t){return t.Ze==i.mr})&&r.push({Ze:i.mr,Un:i.Un})),I.NaviRoadEntry_BOTH!=t&&I.NaviRoadEntry_BACK!=t||(n=i.mr,(r=e.ne.get(n))||e.ne.set(n,r=[]),null==r.find(function(t){return t.Ze==i.pr})&&r.push({Ze:i.pr,Un:i.Un}))}(t)},Ge:function(t){for(var i=0;i<this.qr.length;i++)if(this.qr[i].Li==t)return i;return-1},We:function(t){for(var i=9;i<this.Hr.length;i++)if(this.Hr[i].Li==t)return i;return-1},Ve:function(t){for(var i=[],n=this.Hr,r=0;r<n.length;r++){var e=n[r],s=e.wr,o=e._r,u=[];t.Ye([s,o],u)?i.push({road:e,crss:u,index:r}):t.ze(s)&&i.push({road:e,crss:[],index:r})}return i},Xe:function(t){for(var i=null,n=Number.MAX_VALUE,r=0;r<this.Qr.length;r++){var e=this.Qr[r];S.lt(t,e.Nr,e.Ir)&&n>e.area&&(n=(i=e).area)}return i},qe:function(t){for(var i=-1,n=0;n<this.Kr.length;n++){var r=this.Kr[n];if(S.lt(t,r.Nr,r.Ir)){i=r.Li;break}}return i},He:function(){var t=this.Qr.length,t=parseInt(Math.random()*t);return this.Qr[t]},Sn:function(){if(1==this.ee)for(var t,i=0;i<this.Hr.length;i++)t=this.Hr[i],void 0===this.ie[t.pr]&&(this.ie[t.pr]=new Array),this.ie[t.pr][t.mr]=Number.MAX_VALUE,void 0===this.ie[t.mr]&&(this.ie[t.mr]=new Array),this.ie[t.mr][t.pr]=Number.MAX_VALUE;for(var n=0;n<this.Hr.length;n++)this.se[n]=!1},ge:function(){for(var t=0;t<this.se.length;t++)this.se[t]=!1},me:function(t,i){return parseFloat(t.distance)-parseFloat(i.distance)},Qe:function(){for(var t=[],i=0;i<this.qr.length;i++){var n=this.qr[i];n.sr==I.NaviLiftType_Lift&&t.push(n)}return t},$e:function(t){for(var i=0;i<this.qr.length;i++)if(this.qr[i].$n==t)return this.qr[i];return null},Je:function(){for(var t=[],i=0;i<this.qr.length;i++){var n=this.qr[i];n.sr!=I.NaviLiftType_NULL&&t.push(n)}return t},Ke:function(t){for(var i=null,n=0;n<this.$r.length;n++)if(t==this.$r[n].Li){i=this.$r[n];break}if(!i)return null;for(var r=[],e=0;e<this.qr.length;e++){var s=this.qr[e];S.lt(s.Yt,i.Nr,i.Ir)&&r.push(s)}for(var o=[],u=0;u<this.Hr.length;u++){var h=this.Hr[u];S.lt(h.wr,i.Nr,i.Ir)&&o.push(h)}for(var a=[],f=0;f<this.Qr.length;f++){var c=this.Qr[f];S.lt(c.Pt,i.Nr,i.Ir)&&a.push(c)}var l=new Or(r,o,!0,1);return l.Qr=a,l.$r=[i],l}}),Or);function Er(t){return(Er="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Tr(t){return function(t){if(Array.isArray(t))return Mr(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,i){if(t){if("string"==typeof t)return Mr(t,i);var n=Object.prototype.toString.call(t).slice(8,-1);return"Map"===(n="Object"===n&&t.constructor?t.constructor.name:n)||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Mr(t,i):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Mr(t,i){(null==i||i>t.length)&&(i=t.length);for(var n=0,r=new Array(i);n<i;n++)r[n]=t[n];return r}function kr(t,i){for(var n=0;n<i.length;n++){var r=i[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Rr(t,i){return(Rr=Object.setPrototypeOf||function(t,i){return t.__proto__=i,t})(t,i)}function Ar(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var t,i=Sr(n),i=(t=r?(t=Sr(this).constructor,Reflect.construct(i,arguments,t)):i.apply(this,arguments),this);if(t&&("object"===Er(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");if(void 0!==i)return i;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}}function Sr(t){return(Sr=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var a=function(){var t=s,i=L;if("function"!=typeof i&&null!==i)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(i&&i.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),i&&Rr(t,i);var n,r,e=Ar(s);function s(){var t;if(this instanceof s)return(t=e.call(this)).Cn=0,t.gr=0,t.ts=[],t.dr=null,t.ns=15,t.rs=8,t;throw new TypeError("Cannot call a class as a function")}return t=s,n&&kr(t.prototype,n),r&&kr(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}(),Nr=(Object.assign(a.prototype,{es:function(t,i,n){if(!t)return[];var r=[];n=n||this.ts;for(var e=0;e<n.length;e++){var s=n[e];t==s.sr&&(i&&(s.ir=s.ir+i),r.push(s))}return r},ss:function(t,i,n,r){this.dr=t;var e=[];e.push.apply(e,Tr(this.ts));for(var s=0;s<e.length;s++){var o=e[s];o.ir=S.distanceOfTwoPoints(n,o.Yt)+S.distanceOfTwoPoints(o.Yt,i)}return this.us(e,r)},us:function(t,i){if(i==m.PRIORITY_LIFTFIRST1){var n=this.hs.bind(this);t.sort(n)}else if(i==m.PRIORITY_ESCALATORFIRST1){n=this.as.bind(this);t.sort(n)}else if(i!=m.PRIORITY_STAIRFIRST1){n=this.cs.bind(this);t.sort(n)}else{this.ls(t,i);for(var r=[],e=0;e<t.length;e++)t[e].ir&&r.push(t[e]);(t=[]).push.apply(t,r);n=this.vs.bind(this);t.sort(n)}return t},hs:function(t,i){if(t.zone!=i.zone){if(this.dr==t.zone)return-1;if(this.dr==i.zone)return 1}return t.sr!=I.NaviLiftType_Lift&&t.sr!=I.NaviLiftType_Accessible||i.sr!=I.NaviLiftType_Lift&&i.sr!=I.NaviLiftType_Accessible?t.sr==I.NaviLiftType_Lift||t.sr==I.NaviLiftType_Accessible?-1:i.sr==I.NaviLiftType_Lift||i.sr==I.NaviLiftType_Accessible?1:t.ir-i.ir:t.ir<i.ir},as:function(t,i){if(t.zone!=i.zone){if(this.dr==t.zone)return-1;if(this.dr==i.zone)return 1}return t.sr==I.NaviLiftType_Escalator&&i.sr==I.NaviLiftType_Escalator?t.ir<i.ir:t.sr==I.NaviLiftType_Escalator?-1:i.sr==I.NaviLiftType_Escalator?1:t.ir-i.ir},cs:function(t,i){if(t.zone!=i.zone){if(this.dr==t.zone)return-1;if(this.dr==i.zone)return 1}return t.sr==I.NaviLiftType_Stair&&i.sr==I.NaviLiftType_Stair?t.ir<i.ir:t.sr==I.NaviLiftType_Stair?-1:i.sr==I.NaviLiftType_Stair?1:t.ir-i.ir},vs:function(t,i){if(t.zone!=i.zone){if(this.dr==t.zone)return-1;if(this.dr==i.zone)return 1}return t.ir-i.ir},ls:function(t,i){if(i===m.PRIORITY_DEFAULT)for(var n=0;n<t.length;n++)t[n].sr===I.NaviLiftType_Escalator?t[n].ir-=this.ns:t[n].sr!==I.NaviLiftType_Lift&&t[n].sr!==I.NaviLiftType_Accessible||(t[n].ir-=this.rs);else if(i===m.PRIORITY_STAIRFIRST)for(var r=0;r<t.length;r++)t[r].sr===I.NaviLiftType_Stair?t[r].ir-=this.ns:t[r].sr===I.NaviLiftType_Escalator&&(t[r].ir-=this.rs);else if(i===m.PRIORITY_ESCALATORFIRST)for(var e=0;e<t.length;e++)t[e].sr===I.NaviLiftType_Escalator?t[e].ir-=this.ns:t[e].sr!==I.NaviLiftType_Lift&&t[e].sr!==I.NaviLiftType_Accessible||(t[e].ir-=this.rs);else if(i===m.PRIORITY_LIFTFIRST)for(var s=0;s<t.length;s++)t[s].sr===I.NaviLiftType_Lift||t[s].sr===I.NaviLiftType_Accessible?t[s].ir-=this.ns:t[s].sr===I.NaviLiftType_Escalator&&(t[s].ir-=this.rs);else if(i===m.PRIORITY_STAIRONLY)for(var o=0;o<t.length;o++)t[o].sr!==I.NaviLiftType_Stair&&(t[o].ir=null);else if(i===m.PRIORITY_ESCALATORONLY)for(var u=0;u<t.length;u++)t[u].sr!==I.NaviLiftType_Escalator&&(t[u].ir=null);else if(i===m.PRIORITY_LIFTONLY)for(var h=0;h<t.length;h++)t[h].sr!==I.NaviLiftType_Lift&&t[h].sr!==I.NaviLiftType_Accessible&&(t[h].ir=null);else if(i===m.PRIORITY_ACCESSIBLEONLY)for(var a=0;a<t.length;a++)t[a].sr!==I.NaviLiftType_Accessible&&(t[a].ir=null)}}),a);function Ir(t,i){for(var n=0;n<i.length;n++){var r=i[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Lr(t,i,n){return i&&Ir(t.prototype,i),n&&Ir(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}var a=Lr(function t(){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function");this.ys=null}),Dr=(Object.assign(a.prototype,{mi:function(){this.ys=null},ds:function(t){this.ys=t},bs:function(t,i){var n=null;return 0==i?n=wn.ki(t):1==i?n=wn.Ri(t):2==i&&(n=wn.Ai(t)),{points:n[0],holes:n.slice(1)}},ps:function(t,i,n){var r=null;return 0==n?r=dn.ki(t,i):1==n?r=dn.Ri(t,i):2==n&&(r=dn.Ai(t,i)),{points:r[0],holes:r.slice(1)}},ws:function(t){if(t&&"string"!=typeof t)for(var i in t){var n=t[i];if("vertices"==i||"vertex"==i)for(var r in n)r%2==0&&(n[r]=-n[r]);else"scene_data"==i?(n.x=-n.x,n.defCenX=-n.defCenX):this.ws(n)}},ms:function(t){if(""==t||!t)return[];var i,n=[];return 0<=t.indexOf("|")||0<=t.indexOf("-")||0<=t.indexOf(",")?(i=t.split(/[|,-]/),n.push.apply(n,i)):n.push(t),n},_s:function(t,i,n,r){for(var e={},s=[],o=[],u=[],h=[],a=[],f=this.ys.fileVer,c=0,l=i.extentLayer.length;c<l;c++){var v=i.extentLayer[c],y=null,y=1===f?this.bs(v.geo,2):this.ps(v.idxs,v.pts,2);v.geoArr=y.points,v.holes=y.holes,o.push(v)}for(var d=0,b=i.labelLayer.length;d<b;d++)e[i.labelLayer[d].eid]=i.labelLayer[d];for(var p=0,w=i.modelLayer.length;p<w;p++){var m=i.modelLayer[p],_=n.modelLayer[p],x={},_=(x.fid=_.fid,x.eid=m.eid,x.pass=_.pass,x.Pt=(1===f?this.bs(e[m.eid].geo,0):this.ps(e[m.eid].idxs,e[m.eid].pts,0)).points,null),_=1===f?this.bs(m.geo,2):this.ps(m.idxs,m.pts,2);x.geoArr=_.points,x.holes=_.holes,s.push(x)}if(r&&r.naviNodes)for(var g=0,O=r.naviNodes.length;g<O;g++){var j=r.naviNodes[g];j.geoArr=(1===f?this.bs(j.geo,0):this.ps(j.idxs,j.pts,0)).points,j.linkSegArr=this.ms(j.linkSeg),j.liftFloorArr=this.ms(j.liftFloor),u.push(j)}if(r&&r.naviSegments)for(var E=0,T=r.naviSegments.length;E<T;E++){var M=r.naviSegments[E];M.geoArr=(1===f?this.bs(M.geo,1):this.ps(M.idxs,M.pts,1)).points,M.m_Id=r.mid,h.push(M)}if(r&&r.naviZones)for(var k=0,R=r.naviZones.length;k<R;k++){var A=r.naviZones[k],S=null,S=1===f?this.bs(A.geo,2):this.ps(A.idxs,A.pts,2);A.geoArr=S.points,A.holes=S.holes,A.m_Id=r.mid,a.push(A)}return{level:t,extentLayer:o,modelLayer:s,naviSegments:h,naviNodes:u,naviZones:a}}}),a);function Fr(t,i){var n,r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,i){if(t){if("string"==typeof t)return Pr(t,i);var n=Object.prototype.toString.call(t).slice(8,-1);return"Map"===(n="Object"===n&&t.constructor?t.constructor.name:n)||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Pr(t,i):void 0}}(t))||i&&t&&"number"==typeof t.length)return r&&(t=r),n=0,{s:i=function(){},n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:i};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var e,s=!0,o=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return s=t.done,t},e:function(t){o=!0,e=t},f:function(){try{s||null==r.return||r.return()}finally{if(o)throw e}}}}function Pr(t,i){(null==i||i>t.length)&&(i=t.length);for(var n=0,r=new Array(i);n<i;n++)r[n]=t[n];return r}function Cr(t,i){for(var n=0;n<i.length;n++){var r=i[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ur(t,i,n){return i&&Cr(t.prototype,i),n&&Cr(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}var a=Ur(function t(i){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function");this.xs=i,this.gs=null,this.Os=null,this.js=-1,this.Es=-1,this.Ts=g.MODULE_SHORTEST,this.Ms=[],this.xs.Pe(),this.xs.Ce(),this.xs.Be(),this.ks=5e-4,this.Rs=0}),Br=(Object.assign(a.prototype,{As:function(t,i,n){this.Ss(n),this.Ns=i;n=this.xs.Re(t);if(-1==n)return R.ROUTE_FAILED_CANNOT_CALCULATE;this.Ms=[];for(var r=0;r<i.length;r++){var e=this.xs.Re(i[r]);this.Ms.push(e)}return!!this.Is(this.xs,n,this.Ms)},Ls:function(){for(var t=[],i=0;i<this.Ms.length;i++){var n=[];this.Ds(this.Ms[i],n),n.reverse(),t.push(n)}return t},Ds:function(t,i){t=this.xs.qr[t],i.push(t),t=t.rr[0];null!=t&&this.Ds(t,i)},Fs:function(t,i){if(null!=this.xs.qr&&0!=this.xs.qr.length&&this.xs.qr[0]instanceof Nr){this.Rs=10;for(var n={},r=0;r<this.xs.qr.length;r++){var e=this.xs.qr[r],s=e.Ps.Nr,o=s.length-1,u=this.xs.qr[r].Li;n[u]=[1,1],S.lt(t,s,o)&&(n[u][0]=0,t.level==e.Cn&&e.Li),S.lt(i,s,o)&&(n[u][1]=0,i.level==e.Cn&&e.Li)}var h,a=this.xs.ne,f=Fr(a.keys());try{for(f.s();!(h=f.n()).done;){var c=h.value;a.get(c).sort(function(t,i){return n[t.Ze][0]+n[t.Ze][1]-(n[i.Ze][0]+n[i.Ze][1])})}}catch(t){f.e(t)}finally{f.f()}}},Cs:function(t,i,n,r,e){this.Ss(n),this.gs=t,this.Os=i,this.Fs(r,e),this.js=t.Li,this.Es=i.Li;n=this.xs.Re(this.js);if(-1===n)return R.ROUTE_FAILED_CANNOT_CALCULATE;r=this.xs.Re(i.Li);if(-1===r)return R.ROUTE_FAILED_CANNOT_CALCULATE;e=[];return e.push(r),this.Is(this.xs,n,e)?R.ROUTE_SUCCESS:R.ROUTE_FAILED_CANNOT_ARRIVE},Us:function(){var t=[],i=this.xs.Re(this.Es),n=[],i=(n.push(i),[]);return this.Bs(n,this.xs.qr,i,[]),t.push.apply(t,i),t},mi:function(){this.xs.mi(),this.xs=null,this.gs=null,this.Os=null},Is:function(t,i,n){if(null==t)return!1;var r=t.qr.length;if(i<0||r<=i)return!1;this.Zs(n,i);for(var e=0;e<r;++e)t.qr[e].ir=Number.MAX_VALUE,t.qr[e].nr=!1,t.qr[e].rr=[];t.qr[i].ir=0;for(var s=n.length,o=0,u=[],h=(u.push(t.qr[i]),this.Gs.bind(this));0<u.length;){var a=u[0].Li,f=(u.splice(0,1),t.Re(a));if(null!=f){var c=t.qr[f];if(!c.nr){c.nr=!0;var l=n.indexOf(f);if(-1!=l&&++o==s)return!0;if(0!=t.ne.size){var v=t.ne.get(a);if(v)for(var y=0;y<v.length;y++){var d,b,p=v[y],w=p.Ze,w=t.Re(w);null!=w&&(p=p.Un,d=t.qr[w],b=this.Rs+p+c.ir,b=Number(b.toFixed(3)),d.nr||(d.ir>b?(d.ir=b,d.rr=[],d.rr.push(f),u.push(t.qr[w]),u.sort(h)):Math.abs(d.ir-(p+c.ir))<1e-12&&-1==d.rr.indexOf(f)&&d.rr.push(f)))}}}}}return!(o<s)},Gs:function(t,i){return t.ir-i.ir},Zs:function(t,i){for(var n=t.indexOf(i);-1!=n;)t.splice(n,1),n=t.indexOf(i)},Ss:function(t){if(this.Ts!=t){for(var i={},n=0;n<this.xs.Hr.length;n++){var r=this.xs.Hr[n],e=r.pr,s=r.mr,r=r.Er;i.hasOwnProperty(e)||(i[e]={}),i[e][s]=r,i.hasOwnProperty(s)||(i[s]={}),i[s][e]=r}if(g.MODULE_SHORTEST==t){var o,u=Fr(this.xs.ne.keys());try{for(u.s();!(o=u.n()).done;){var h,a=o.value,f=Fr(this.xs.ne.get(a));try{for(f.s();!(h=f.n()).done;){var c=h.value,l=c.Ze,v=i[a][l];c.Un=c.Un/v}}catch(t){f.e(t)}finally{f.f()}}}catch(t){u.e(t)}finally{u.f()}}else if(g.MODULE_BEST==t){var y,d=Fr(this.xs.ne.keys());try{for(d.s();!(y=d.n()).done;){var b,p=y.value,w=Fr(this.xs.ne.get(p));try{for(w.s();!(b=w.n()).done;){var m=b.value,_=m.Ze,x=i[p][_];m.Un=m.Un*x}}catch(t){w.e(t)}finally{w.f()}}}catch(t){d.e(t)}finally{d.f()}}this.Ts=t}},Ws:function(t,i,n,r){0!=i[t].rr.length&&(t=i[t].rr[0],n.push(i[t]),r.count++,this.Ws(t,i,n,r))},Bs:function(t,i,n,r){for(var e=0;e<t.length;e++){var s=t[e],o=(n.push(i[s]),{count:1});this.Ws(s,i,n,o),r.push(o.count)}}}),a);function Zr(t){return(Zr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Gr(t,i){for(var n=0;n<i.length;n++){var r=i[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Wr(t,i){return(Wr=Object.setPrototypeOf||function(t,i){return t.__proto__=i,t})(t,i)}function Vr(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var t,i=Yr(n),i=(t=r?(t=Yr(this).constructor,Reflect.construct(i,arguments,t)):i.apply(this,arguments),this);if(t&&("object"===Zr(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");if(void 0!==i)return i;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}}function Yr(t){return(Yr=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var zr=function(){var t=s,i=mr;if("function"!=typeof i&&null!==i)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(i&&i.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),i&&Wr(t,i);var n,r,e=Vr(s);function s(){var t;if(this instanceof s)return(t=e.call(this)).Li=-1,t.Vs=[],t;throw new TypeError("Cannot call a class as a function")}return t=s,n&&Gr(t.prototype,n),r&&Gr(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}();function Xr(t,i){for(var n=0;n<i.length;n++){var r=i[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function qr(t,i,n){return i&&Xr(t.prototype,i),n&&Xr(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}var Hr=qr(function t(){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function");this.st=null,this.Ys=null,this.zs=null,this.yt=0,this.Xs=!1,this.qs=I.NaviObstructType_MODEL});function N(t,i){var n,r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=Qr(t))||i&&t&&"number"==typeof t.length)return r&&(t=r),n=0,{s:i=function(){},n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:i};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var e,s=!0,o=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return s=t.done,t},e:function(t){o=!0,e=t},f:function(){try{s||null==r.return||r.return()}finally{if(o)throw e}}}}function j(t){return function(t){if(Array.isArray(t))return $r(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||Qr(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Qr(t,i){if(t){if("string"==typeof t)return $r(t,i);var n=Object.prototype.toString.call(t).slice(8,-1);return"Map"===(n="Object"===n&&t.constructor?t.constructor.name:n)||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?$r(t,i):void 0}}function $r(t,i){(null==i||i>t.length)&&(i=t.length);for(var n=0,r=new Array(i);n<i;n++)r[n]=t[n];return r}function Jr(t,i){for(var n=0;n<i.length;n++){var r=i[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var a=function(){function i(t){if(!(this instanceof i))throw new TypeError("Cannot call a class as a function");this.Hs=null,this.Qs=null,this.xs=t,this.$s=new Map,this.Js=new Map,this.Ks=new Map,this.to=new Map,this.io=new Map,this.no=[],this.ro=Number.INT_MIN,this.eo=Number.INT_MIN,this.so=-1,this.gs=null,this.Os=null,this.Ts=g.MODULE_SHORTEST,this.oo=new Map,this.uo=new Map,this.ho=new Map,this.ao=[],this.fo=[],this.co=[],this.vo=[],this.yo=100,this.do=-1,this.bo=15,this.po=.1,this.wo=[],this.mo=[],this._o=[],this.xo=[],this.go=!0,this.Oo=[],this.Xt=null,this.jo(),this.Eo(),this.To(),this.Mo(),this.ko()}var t,n,r;return t=i,(n=[{key:"assignedPts",get:function(){return this.mo},set:function(t){this.mo=t}},{key:"obstruct",get:function(){return this.go},set:function(t){this.go=t}}])&&Jr(t.prototype,n),r&&Jr(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(),Kr=(Object.assign(a.prototype,{Cs:function(t,i,n){if(this.ro=t instanceof L?this.Ro(t.Yt):this.Ro(t),this.eo=i instanceof L?this.Ro(i.Yt):this.Ro(i),n&&(this.Ts=n),t instanceof L)this.gs=t;else if(R.ROUTE_FAILED_NO_DATA_START==this.Ao(t))return R.ROUTE_FAILED_NO_DATA_START;if(i instanceof L)this.Os=i;else if(R.ROUTE_FAILED_NO_DATA_DEST==this.So(i))return R.ROUTE_FAILED_NO_DATA_DEST;return null==this.gs?R.ROUTE_FAILED_NO_DATA_START:null==this.Os?R.ROUTE_FAILED_NO_DATA_DEST:this.No()},Io:function(){var t;this.xo=[];for(var i=0;i<this.mo.length;i++){var n={x:(n=this.mo[i])[0],y:n[1]},r=this.Ro(n),r=this.Lo(r,n);this.xo.push(r)}(t=this.no).push.apply(t,j(this.xo))},Us:function(){return this.no},mi:function(){this.Hs=null,this.Qs=null,this.xs.mi(),this.xs=null,this.$s.clear(),this.$s=null;var t,i=N(this.Js);try{for(i.s();!(t=i.n()).done;)t.value[1].mi()}catch(t){i.e(t)}finally{i.f()}this.Js.clear(),this.Js=null;var n,r=N(this.to);try{for(r.s();!(n=r.n()).done;)n.value[1].mi()}catch(t){r.e(t)}finally{r.f()}this.to.clear(),this.to=null;var e,s=N(this.Ks);try{for(s.s();!(e=s.n()).done;)e.value[1].mi()}catch(t){s.e(t)}finally{s.f()}this.Ks.clear(),this.Ks=null;var o,u=N(this.io);try{for(u.s();!(o=u.n()).done;)o.value[1].mi()}catch(t){u.e(t)}finally{u.f()}this.io.clear(),this.io=null,this.no=[],this.gs=null,this.Os=null,this.oo.clear(),this.oo=null,this.uo.clear(),this.uo=null,this.ho.clear(),this.ao=[],this.fo=[],this.co=[],this.vo=[],this.Oo=[],this.go=!1},bn:function(){this.no=[],this.Do(-1),this.Do(this.ro),this.ro=Number.INT_MIN,this.Do(this.eo),this.eo=Number.INT_MIN,this.Fo(),this.wo=[];var t=this.xs.Hr.length;this.so<-2*t&&(this.so=-1);for(var i=0;i<this.ao.length;i++){var n=this.ao[i];this.Po(n.Co,n.zs,I.NaviRoadHinderType_HINDER_HIGH)}this.ao=[],this.fo=[],this.co=[],this.vo=[]},Uo:function(t){this.Oo=t,this.Ks.clear(),this.io.clear();for(var i=0;i<this.Oo.length;i++)for(var n=this.Oo[i],r=this.Bo(n),e=0;e<r.length;e++){var s=r[e],o=this.Ks.get(s);o||(o=this.Zo(this.Js.get(s)),this.Ks.set(s,o)),this.Go(o,n)}var u,h=N(this.Ks);try{for(h.s();!(u=h.n()).done;){var a=u.value;this.io.set(a[0],new Br(a[1]))}}catch(t){h.e(t)}finally{h.f()}},Go:function(t,i){for(var n=t.Ve(i),r=0;r<n.length;r++){var e=n[r],s=new D,o=(s.kr(e.road),s.Tr);s.Tr=I.NaviRoadEntry_FORBID,t.Hr[e.index]=s,1==e.crss.length&&(i.ze(s.wr)?this.Wo(e.crss[0],this.Ie(),s._r,this.Ie(),o,t):this.Wo(s.wr,this.Ie(),e.crss[0],this.Ie(),o,t)),2<=e.crss.length&&(this.Wo(s.wr,this.Ie(),e.crss[0],this.Ie(),o,t),this.Wo(e.crss[e.crss.length-1],this.Ie(),s._r,this.Ie(),o,t))}var u=new zr;u.Li=this.Vo(),u.Nr=i.Nr,u.pass=I.NaviModelPassType_NOT_PASS,t.Qr.push(u)},Wo:function(t,i,n,r,e,s){t instanceof L?o=t:((o=new L).Li=i,o.Yt=t,s.qr.push(o)),n instanceof L?u=n:((u=new L).Li=r,u.Yt=n,s.qr.push(u));var o,u,i=new D;i.Li=this.Le(),i.pr=o.Li,i.wr=o.Yt,i.mr=u.Li,i._r=u.Yt,i.Tr=e,i.Li,i.pr,i.wr.x.toFixed(3),i.wr.y.toFixed(3),i.mr,i._r.x.toFixed(3),i._r.y.toFixed(3),s.Hr.push(i)},Vo:function(){return this.so--},Yo:function(t){var i=this.xs.ce(t);if(-1===i)return null;var n=this.Ro(t),r=this.zo(n).Ne(t,-0);if(1===this.Xt)return{gr:i,zs:r};if(null==r)return{gr:i,zs:null};if(r.pass===I.NaviModelPassType_PASS_THROUGH||r.pass===I.NaviModelPassType_PASS_NOT_THROUGH){if(0<r.Wr.length)return{gr:i,zs:r};for(var e={},s=[],o=[],u=this.zo(n).Hr,h=!0,a=0;a<r.Ir;a++)for(var f=r.Nr[a],c=r.Nr[a+1],l=0;l<u.length;l++){var v=u[l];1===S.xt(f,c,v.wr,v._r,e)&&(h=!1,I.NaviRoadEntry_FORBID!==v.Tr&&((v={}).x=e.x,v.y=e.y,s.push(v),o.push(u[l])))}if(h)return{gr:i,zs:r};if(0===s.length)return null;r.Wr=[],r.Yr=[],r.Vr=[];for(var y=0;y<s.length;y++){var d=s[y],b=o[y],d=this.Xo(n,d,b);d.qo.push(b.Li),d.er=I.NaviNodeType_COMMON,b.Tr===I.NaviRoadEntry_BOTH?d.entranceType=I.NaviEntranceType_ACCESS:S.lt(b.wr,r.Nr,r.Ir)?(b.Tr===I.NaviRoadEntry_FORWARD&&(d.entranceType=I.NaviEntranceType_EXIT),b.Tr===I.NaviRoadEntry_BACK&&(d.entranceType=I.NaviEntranceType_ENTRANCE)):(b.Tr===I.NaviRoadEntry_FORWARD&&(d.entranceType=I.NaviEntranceType_ENTRANCE),b.Tr===I.NaviRoadEntry_BACK&&(d.entranceType=I.NaviEntranceType_EXIT)),r.Wr.push(d),r.Yr.push(d.entranceType),r.Vr.push(d.er)}}return r.pass!==I.NaviModelPassType_NOT_PASS?{gr:i,zs:r}:null},Ho:function(t){var i,n=null,r=Number.MAX_VALUE,e=N(t.values());try{for(e.s();!(i=e.n()).done;){var s=i.value;0<s.length&&s[0].yt<r&&(n=s[0],r=s[0].yt)}}catch(t){e.e(t)}finally{e.f()}return n},Ao:function(t){var i=null,n=!0,i=null!=this.Hs&&this.Hs.pass==I.NaviModelPassType_PASS_THROUGH&&0==this.Hs.Wr.length?this.Qo(this.ro,t,30,this.Hs):this.Qo(this.ro,t);if(1===this.Xt){var r,e,s=this.Ho(i);s&&(r=s.Ys,e=null,e=0==(r=this.$o(this.ro,t,r,[s],this.Hs)).length?this.Jo(this.ro,s.st,s.Ys):this.Jo(this.ro,r[0].st,r[0].Ys),this.gs=e)}else{if(this.gs=this.Lo(this.ro,t),null==this.Hs&&(n=!1),null!=i&&0<i.size){var o,n=!1,u=N(i);try{for(u.s();!(o=u.n()).done;)for(var h=o.value[1],a=0;a<h.length;a++)0!=h[a].Ys.Tr&&(n=!0)}catch(t){u.e(t)}finally{u.f()}var f,c=N(i);try{for(c.s();!(f=c.n()).done;){var l=f.value[1],v=l[0].Ys,y=this.$o(this.ro,t,v,l,this.Hs);if(0==y.length){var d,b=N(l);try{for(b.s();!(d=b.n()).done;){var p=d.value,w=this.Jo(this.ro,p.st,p.Ys);this.Ko(this.ro,this.gs,w)}}catch(t){b.e(t)}finally{b.f()}}else{var m=this.Jo(this.ro,y[0].st,y[0].Ys);this.Ko(this.ro,this.gs,m)}}}catch(t){c.e(t)}finally{c.f()}}if(n&&null!=this.Hs&&0<this.Hs.Wr.length)for(var _=null,x=this.Js.get(this.ro),g=0;g<this.Hs.Wr.length;g++){var _=this.Hs.Wr[g],O=this.Hs.Yr[g];if(O==I.NaviEntranceType_EXIT||O==I.NaviEntranceType_ACCESS){for(var j=this.Hs.Gr,E=!0,T=0;T<j.length;T++){for(var M=j[T],k=0;k<M.length-1;k++)if(S.ut(t,_.Yt,M[k],M[k+1])){E=!1;break}if(0==E)break}if(0!=E){for(var R=0;R<x.Hr.length;R++){var A=x.Hr[R];if(0!=A.Tr)if(S.ut(t,_.Yt,A.wr,A._r)&&0<A.Li&&0==_.qo.includes(A.Li)){E=!1;break}}0!=E&&this.Ko(this.ro,this.gs,_)}}}}},So:function(t){var i=null,n=!0,i=null!=this.Qs&&this.Qs.pass==I.NaviModelPassType_PASS_THROUGH&&0==this.Qs.Wr.length?this.Qo(this.eo,t,30,this.Qs):this.Qo(this.eo,t);if(1===this.Xt){var r,e,s=this.Ho(i);s&&(r=s.Ys,e=null,e=0==(r=this.$o(this.eo,t,r,[s],this.Qs)).length?this.Jo(this.eo,s.st,s.Ys):this.Jo(this.eo,r[0].st,r[0].Ys),this.Os=e)}else{if(this.Os=this.Lo(this.eo,t),null==this.Qs&&(n=!1),null!=i&&0<i.size){var o,n=!1,u=N(i);try{for(u.s();!(o=u.n()).done;)for(var h=o.value[1],a=0;a<h.length;a++)0!=h[a].Ys.Tr&&(n=!0)}catch(t){u.e(t)}finally{u.f()}var f,c=N(i);try{for(c.s();!(f=c.n()).done;){var l=f.value[1],v=l[0].Ys,y=this.$o(this.eo,t,v,l,this.Qs);if(0==y.length){var d,b=N(l);try{for(b.s();!(d=b.n()).done;){var p=d.value,w=this.Jo(this.eo,p.st,p.Ys);this.Ko(this.eo,this.Os,w)}}catch(t){b.e(t)}finally{b.f()}}else{var m=this.Jo(this.eo,y[0].st,y[0].Ys);this.Ko(this.eo,this.Os,m)}}}catch(t){c.e(t)}finally{c.f()}}if(n&&null!=this.Qs&&0<this.Qs.Wr.length)for(var _=null,x=this.Js.get(this.eo),g=0;g<this.Qs.Wr.length;g++){var _=this.Qs.Wr[g],O=this.Qs.Yr[g];if(O==I.NaviEntranceType_ENTRANCE||O==I.NaviEntranceType_ACCESS){for(var j=this.Qs.Gr,E=!0,T=0;T<j.length;T++){for(var M=j[T],k=0;k<M.length-1;k++)if(S.ut(t,_.Yt,M[k],M[k+1])){E=!1;break}if(0==E)break}if(0!=E){for(var R=0;R<x.Hr.length;R++){var A=x.Hr[R];if(0!=A.Tr)if(S.ut(t,_.Yt,A.wr,A._r)&&0<A.Li&&0==_.qo.includes(A.Li)){E=!1;break}}0!=E&&this.Ko(this.eo,this.Os,_)}}}}},No:function(){var t=this.tu(this.gs.Yt),t=(t&&(this.Po(this.ro,t,I.NaviRoadHinderType_HINDER_GENERAL),this.ao.push({Co:this.ro,zs:t})),this.tu(this.Os.Yt));if(t&&(this.Po(this.eo,t,I.NaviRoadHinderType_HINDER_GENERAL),this.ao.push({Co:this.eo,zs:t})),this.no=[],this.ro===this.eo){var t=this.iu(this.ro),i=t.Cs(this.gs,this.Os,this.Ts);if(i!==R.ROUTE_SUCCESS)return i;i=t.Us();this.no=[],i.reverse(),(t=this.no).push.apply(t,j(i))}else{if(-1!==this.ro&&-1===this.eo){var t=this.nu(this.gs.Yt,this.ro,I.NaviEntranceType_EXIT),i=this.iu(this.ro),n=i.Cs(this.gs,t,this.Ts);if(n!=R.ROUTE_SUCCESS)return n;var r=i.Us(r),i=this.iu(-1);if((n=i.Cs(t,this.Os,this.Ts))!=R.ROUTE_SUCCESS)return n;t=i.Us();r.reverse(),t.reverse(),(n=this.no).push.apply(n,j(r)),(i=this.no).push.apply(i,j(t))}if(-1===this.ro&&-1!==this.eo){var n=this.nu(this.Os.Yt,this.eo,I.NaviEntranceType_ENTRANCE),r=this.iu(this.eo),i=r.Cs(n,this.Os,this.Ts);if(i!=R.ROUTE_SUCCESS)return i;t=r.Us(),r=this.iu(-1);if((i=r.Cs(this.gs,n,this.Ts))!=R.ROUTE_SUCCESS)return i;n=r.Us();n.reverse(),t.reverse(),(i=this.no).push.apply(i,j(n)),(r=this.no).push.apply(r,j(t))}if(-1!==this.ro&&-1!==this.eo){i=this.nu(this.gs.Yt,this.ro,I.NaviEntranceType_EXIT),n=this.iu(this.ro),r=n.Cs(this.gs,i,this.Ts);if(r!=R.ROUTE_SUCCESS)return r;var e=n.Us(e),t=this.nu(this.Os.Yt,this.eo,I.NaviEntranceType_ENTRANCE),n=this.iu(this.eo);if((r=n.Cs(t,this.Os,this.Ts))!=R.ROUTE_SUCCESS)return r;var s=n.Us(s),n=this.iu(-1);if((r=n.Cs(i,t,this.Ts))!=R.ROUTE_SUCCESS)return r;i=n.Us();e.reverse(),i.reverse(),s.reverse(),(t=this.no).push.apply(t,j(e)),(r=this.no).push.apply(r,j(i)),(n=this.no).push.apply(n,j(s))}}return R.ROUTE_SUCCESS},ru:function(t,i,n){for(var r=0;r<i;r++)if(null!=t[r]&&t[r].Li==n)return r;return-1},Ro:function(t){for(var i=this.xs.Kr,n=0;n<i.length;n++){var r=i[n];if(r.Br(t))return r.Li}return-1},jo:function(){for(var t=this.xs.Kr,i=0;i<t.length;i++){var n=t[i],r=this.eu(this.xs,n);this.Js.set(n.Li,r)}this.Js.set(-1,this.xs);var e,s=N(this.Js);try{for(s.s();!(e=s.n()).done;){var o=e.value;o[1].fe(),this.to.set(o[0],new Br(o[1]))}}catch(t){s.e(t)}finally{s.f()}},eu:function(t,i){if(t&&i){for(var n,r=0,e=0,s=t.Hr.length,o=t.qr.length,u=t.Hr,h=t.qr,a=0,f=new Int8Array(s),c=0;c<s;c++)u[c]&&u[c].Tr!=I.NaviRoadEntry_FORBID&&(n=u[c],r=i.contain(n.wr),e=i.contain(n._r),0==r&&0==e||(a=!0),1==r&&1==e&&(f[c]=1),1==r&&0==e&&(f[c]=2),0==r&&1==e&&(f[c]=3),0==r&&0==e&&(f[c]=4),2==r&&0==e&&(f[c]=6),2==r&&1==e&&(f[c]=7),0==r&&2==e&&(f[c]=8),1==r&&2==e&&(f[c]=9));if(0==a)return null;for(var l,v,y,d,b,p,w=new Array(o),m=new Array(s),_=0,x=new Int8Array(o),g=f.length,O=0,j=g;O<j;O++)0!=f[O]&&6!=f[O]&&8!=f[O]&&1!=f[O]&&u[O]&&(p=(l=u[O]).Tr,b=[l.Li],2==f[O]||9==f[O]?(v=null,v=2==f[O]?i.xt(l.wr,l._r):Object.assign({},l._r),(y=new L).Li=this.Ie(),y.er=I.NaviNodeType_COMMON,y.sr=I.NaviLiftType_NULL,y.entranceType=I.NaviEntranceType_ACCESS,y.Yt=Object.assign({},v),(v=new D).setRoad(l),v.Li=this.Le(),b.push(v.Li),y.segLinks=b,(d=new L).setNode(y),p==I.NaviRoadEntry_FORWARD?d.entranceType=I.NaviEntranceType_EXIT:p==I.NaviRoadEntry_BACK&&(d.entranceType=I.NaviEntranceType_ENTRANCE),i.Cr.push(d),_=this.ru(h,o,v.mr),v._r=Object.assign({},d.Yt),v.xr[1]=Object.assign({},d.Yt),v.mr=d.Li,v.Rr(),m[O]=v,w[_]=d,w[_=this.ru(h,o,v.pr)]=h[_],w[_].segLinks.splice(w[_].segLinks.indexOf(l.Li),1,v.Li),(d=new L).setNode(y),l.pr=d.Li,l.wr=Object.assign({},d.Yt),l.xr[0]=Object.assign({},d.Yt),l.Rr(),h[_].segLinks.splice(h[_].segLinks.indexOf(l.Li),1),h.push(d),x[_]=2):3!=f[O]&&7!=f[O]||(v=null,v=3==f[O]?i.xt(l.wr,l._r):Object.assign({},l.wr),(y=new L).Li=this.Ie(),y.er=I.NaviNodeType_COMMON,y.sr=I.NaviLiftType_NULL,y.entranceType=I.NaviEntranceType_ACCESS,y.Yt=Object.assign({},v),(d=new D).setRoad(l),d.Li=this.Le(),b.push(d.Li),y.segLinks=b,(b=new L).setNode(y),p==I.NaviRoadEntry_FORWARD?b.entranceType=I.NaviEntranceType_ENTRANCE:p==I.NaviRoadEntry_BACK&&(b.entranceType=I.NaviEntranceType_EXIT),i.Cr.push(b),_=this.ru(h,o,d.pr),d.wr=Object.assign({},b.Yt),d.xr[0]=Object.assign({},b.Yt),d.pr=b.Li,d.Rr(),m[O]=d,w[_]=b,w[_=this.ru(h,o,d.mr)]=h[_],w[_].segLinks.splice(w[_].segLinks.indexOf(l.Li),1,d.Li),(p=new L).setNode(y),l.mr=p.Li,l._r=Object.assign({},p.Yt),l.xr[1]=Object.assign({},p.Yt),l.Rr(),h[_].segLinks.splice(h[_].segLinks.indexOf(l.Li),1),h.push(p),x[_]=2));for(var E,T=0,M=g;T<M;T++)1==f[T]&&((E=u[T])&&(m[T]=E,2!=x[_=this.ru(h,o,E.pr)]&&(w[_]=h[_],x[_]=1),2!=x[_=this.ru(h,o,E.mr)]&&(w[_]=h[_],x[_]=1),u[T]=null));for(var k=0;k<o;k++)1==x[k]&&(h[k]=null);for(var g=new jr(w,m,!0,1),R=[],A=t.Qr,S=0;S<A.length;S++){var N=A[S];N&&this.su(N,i)&&R.push(N)}return(t=g.Qr).push.apply(t,R),g}},Eo:function(){var t,i=N(this.Js);try{for(i.s();!(t=i.n()).done;)for(var n=t.value,r=n[0],e=n[1].Qr,s=0;s<e.length;s++){var o,u=e[s];I.NaviModelPassType_PASS_NOT_THROUGH==u.pass&&((o=this.oo.get(r))||(o=[],this.oo.set(r,o)),o.push(u))}}catch(t){i.e(t)}finally{i.f()}},To:function(){var t,i=N(this.Js);try{for(i.s();!(t=i.n()).done;)for(var n=t.value,r=n[0],e=n[1].Qr,s=0;s<e.length;s++){var o,u=e[s];I.NaviModelPassType_NOT_PASS==u.pass&&((o=this.uo.get(r))||(o=[],this.uo.set(r,o)),o.push(u))}}catch(t){i.e(t)}finally{i.f()}},Mo:function(){var t,i=N(this.oo);try{for(i.s();!(t=i.n()).done;)for(var n=t.value,r=n[0],e=n[1],s=this.zo(r).Hr,o=0;o<e.length;o++){for(var u=e[o],h=0;h<s.length;h++){var a,f=s[h].Sr();S.lt(f,u.Nr,u.Ir)&&(s[h].Un=s[h].Un*this.yo,(a=this.ho.get(u.Li))||(a=[],this.ho.set(u.Li,a)),a.push(s[h]))}this.Po(r,u,I.NaviRoadHinderType_HINDER_HIGH)}}catch(t){i.e(t)}finally{i.f()}},ko:function(){var t,i=N(this.uo);try{for(i.s();!(t=i.n()).done;)for(var n=t.value,r=n[0],e=n[1],s=this.zo(r).Hr,o=0;o<e.length;o++)for(var u=e[o],h=0;h<s.length;h++){var a=s[h],f=a.Tr,c=a.Sr();if(S.lt(c,u.Nr,u.Ir)){if(a.Un=Number.MAX_VALUE,f==I.NaviRoadEntry_BOTH||f==I.NaviRoadEntry_FORWARD){var l=this.zo(r).ne.get(a.pr);if(l)for(var v=0;v<l.length;v++)l[v].Ze==a.mr&&(l[v].Un=a.Un)}if(a.Tr==I.NaviRoadEntry_BOTH||a.Tr==I.NaviRoadEntry_BACK){var y=this.zo(r).ne.get(a.mr);if(y)for(var d=0;d<y.length;d++)y[d].Ze==a.pr&&(y[d].Un=a.Un)}}}}catch(t){i.e(t)}finally{i.f()}},Po:function(t,i,n){var r=this.ho.get(i.Li);if(r){if(I.NaviRoadHinderType_HINDER_HIGH==n)for(var e=0;e<r.length;e++){var s=r[e];if(s.Rr(),s.Un=r.length*this.yo,s.Tr==I.NaviRoadEntry_BOTH||s.Tr==I.NaviRoadEntry_FORWARD){var o=this.zo(t).ne.get(s.pr);if(o)for(var u=0;u<o.length;u++)o[u].Ze==s.mr&&(o[u].Un=s.Un)}if(s.Tr==I.NaviRoadEntry_BOTH||s.Tr==I.NaviRoadEntry_BACK){var h=this.zo(t).ne.get(s.mr);if(h)for(var a=0;a<h.length;a++)h[a].Ze==s.pr&&(h[a].Un=s.Un)}}if(I.NaviRoadHinderType_HINDER_GENERAL==n)for(var f=0;f<r.length;f++){var c=r[f];if(c.Rr(),c.Tr==I.NaviRoadEntry_BOTH||c.Tr==I.NaviRoadEntry_FORWARD){var l=this.zo(t).ne.get(c.pr);if(l)for(var v=0;v<l.length;v++)l[v].Ze==c.mr&&(l[v].Un=c.Un)}if(c.Tr==I.NaviRoadEntry_BOTH||c.Tr==I.NaviRoadEntry_BACK){var y=this.zo(t).ne.get(c.mr);if(y)for(var d=0;d<y.length;d++)y[d].Ze==c.pr&&(y[d].Un=c.Un)}}}},nu:function(t,i,n){var r=this.xs.de(i);if(null==r)return null;for(var e=this.zo(i).Ne(t,void 0),s=(e.area,Number.MAX_VALUE),o=null,u=0;u<r.Cr.length;u++){var h,a=r.Cr[u],f=S.yt(a.Yt,t);a.entranceType!=I.NaviEntranceType_ACCESS&&a.entranceType!=n||f<s&&((h=this.ou(i,a.Yt))!=e&&h.pass==I.NaviModelPassType_PASS_NOT_THROUGH||(s=f,o=a))}return o},ou:function(t,i){for(var n=null,t=this.zo(t),r=Number.MAX_VALUE,e=Number.MAX_VALUE,s=null,o=t.Qr,u=0;u<o.length;u++){var h,a=o[u];(h=S.uu(a.Nr,i,a.Nr.length-1))<e&&(e=h,s=a),this.po>h&&((h=a.area)<r&&(r=h,n=a))}return null==n?s:n},su:function(t,i){if(t.bb.isSeparate(i.bb))return!1;t=t.Pt;return!!S.lt(t,i.Nr,i.Ir)},Jo:function(t,i,n){for(var r=this.wo.find(function(t){return t==n.pr}),e=this.wo.find(function(t){return t==n.mr}),s=(null==r&&this.wo.push(n.pr),null==e&&this.wo.push(n.mr),this.vo),o=null,u=0;u<s.length;u++)if(s[u].hu==n){o=s[u];break}if(null==o)(o={}).hu=n,s.push(o);else for(;null!=o.au;)var h=o.au.hu,o=S.ft(i,h.wr,h._r)?o.au:o.fu;n=o.hu;var r=new L,e=(r.Li=this.Vo(),r.Yt=i,new D),a=(e.Li=this.Vo(),e.pr=n.pr,e.wr=n.wr,e.mr=r.Li,e._r=r.Yt,e.xr=[n.wr,r.Yt],e.Er=n.Er,new D),f=(a.Li=this.Vo(),a.pr=r.Li,a.wr=r.Yt,a.mr=n.mr,a._r=n._r,a.xr=[r.Yt,n._r],a.Er=n.Er,this.fo.push(e),this.fo.push(a),{}),c=(f.hu=e,{}),f=(c.hu=a,o.au=f,o.fu=c,r.tempType=1,e.tempType=1,a.tempType=1,e.Rr(),a.Rr(),e.Tr=n.Tr,a.Tr=n.Tr,this.zo(t)),c=(f.qr.push(r),f.Hr.push(e),f.Hr.push(a),this.iu(t).xs);return c.oe.set(r.Li,f.qr.length-1),n.Tr==I.NaviRoadEntry_BOTH&&((t=[]).push({Ze:n.pr,Un:e.Un}),t.push({Ze:n.mr,Un:a.Un}),c.ne.set(r.Li,t),(t=c.ne.get(n.pr))||c.ne.set(n.pr,t=[]),t.push({Ze:r.Li,Un:e.Un}),(t=c.ne.get(n.mr))||c.ne.set(n.mr,t=[]),t.push({Ze:r.Li,Un:a.Un})),n.Tr==I.NaviRoadEntry_FORWARD&&((f=[]).push({Ze:n.mr,Un:a.Un}),c.ne.set(r.Li,f),(f=c.ne.get(n.pr))||c.ne.set(n.pr,f=[]),f.push({Ze:r.Li,Un:e.Un})),n.Tr==I.NaviRoadEntry_BACK&&((t=[]).push({Ze:n.pr,Un:e.Un}),c.ne.set(r.Li,t),(t=c.ne.get(n.mr))||c.ne.set(n.mr,t=[]),t.push({Ze:r.Li,Un:a.Un})),r},cu:function(t,i){for(var n=i.length-1;0<=n;n--)if(i[n].Li&&0<i[n].Li)return i.splice(n+1,0,t),n+1;return-1},Xo:function(t,i,n,r){if(r)return this.Jo(t,i,n);var r=this.zo(t),t=new L,i=(t.Li=this.Ie(),t.Yt=i,new D),e=(i.Li=this.Le(),i.pr=n.pr,i.wr=n.wr,i.mr=t.Li,i._r=t.Yt,i.Er=n.Er,i.xr=[n.wr,t.Yt],new D),s=(e.Li=this.Le(),e.pr=t.Li,e.wr=t.Yt,e.mr=n.mr,e._r=n._r,e.Er=n.Er,e.xr=[t.Yt,n._r],[]),s=(s.push(i.Li),s.push(e.Li),t.segLinks=s,i.Rr(),e.Rr(),i.Tr=n.Tr,e.Tr=n.Tr,r.qr),o=r.Hr,s=this.cu(t,s);return this.cu(i,o),this.cu(e,o),r.oe.set(t.Li,s),n.Tr==I.NaviRoadEntry_BOTH&&((o=[]).push({Ze:n.pr,Un:i.Un}),o.push({Ze:n.mr,Un:e.Un}),r.ne.set(t.Li,o),(o=r.ne.get(n.pr))||r.ne.set(n.pr,o=[]),o.push({Ze:t.Li,Un:i.Un}),(o=r.ne.get(n.mr))||r.ne.set(n.mr,o=[]),o.push({Ze:t.Li,Un:e.Un})),n.Tr==I.NaviRoadEntry_FORWARD&&((s=[]).push({Ze:n.mr,Un:e.Un}),r.ne.set(t.Li,s),(s=r.ne.get(n.pr))||r.ne.set(n.pr,s=[]),s.push({Ze:t.Li,Un:i.Un})),n.Tr==I.NaviRoadEntry_BACK&&((o=[]).push({Ze:n.pr,Un:i.Un}),r.ne.set(t.Li,o),(o=r.ne.get(n.mr))||r.ne.set(n.mr,o=[]),o.push({Ze:t.Li,Un:e.Un})),t.qo=[],t.qo.push(i.Li),t.qo.push(e.Li),t},lu:function(t){if(null!=t){for(var i=this.zo(t),n=i.qr.length-1;0<=n;n--){var r=i.qr[n];if(null==r||0<=r.Li)break;i.qr.splice(n,1)}for(var e=i.Hr.length-1;0<=e;e--){var s=i.Hr[e];if(null==s||0<=s.Li)break;i.Hr.splice(e,1)}}},vu:function(t,i){var n=t.get(i);if(n)for(var r=0;r<n.length;r++)n[r].Ze<0&&(n.splice(r,1),r--)},yu:function(t,i){for(var n=t.get(i),r=0;r<n.length;r++)this.vu(t,n[r].Ze);t.delete(i)},du:function(t,i,n,r,e){r.bu=Number.MAX_VALUE,r.Xs=!1,r.pu=n;for(var s=Number.MAX_VALUE,o={},u=this.zo(t),h=Number.MAX_VALUE,a=0;a<u.Hr.length;a++){var f,c=u.Hr[a];null==c||c.Li<0||(c.Tr==I.NaviRoadEntry_FORBID?S.gt(i,n,c.wr,c._r,o)&&(f=S.yt(i,o))<=h&&(h=f):S.gt(i,n,c.wr,c._r,o)&&(f=S.yt(i,o))<s&&(s=f,r.st=Object.assign({},o),r.yt=s,r.Ys=c,r.Xs=!0))}if(r.yt>=h)return r.yt=Number.MAX_VALUE,r.Xs=!1;if(!r.Xs)return!1;if(1!=this.Xt)for(var l={},v=0;v<u.Qr.length;v++){var y=u.Qr[v];if(null!=y&&y!=e&&(I.NaviModelPassType_DECORATE!=y.pass&&(null==e||e.pass==I.NaviModelPassType_DECORATE||!S.lt(e.Pt,y.Nr,y.Nr.length-1))))for(var d=y.Nr.length,b=0;b<d-1;b++)if(S.gt(i,n,y.Nr[b],y.Nr[b+1],l)){var p=S.yt(i,l);if(p<s)return s=p,r.zs=y,r.yt=Number.MAX_VALUE,r.Xs=!1,r.qs=I.NaviObstructType_MODEL,!1}}for(var w={},m=u.$r,_=0;_<m.length;_++){for(var x=m[_],g=m[_].Gr,O=0;O<g.length;O++)for(var j=g[O],E=0;E<j.length-1;E++)if(S.gt(i,n,j[E],j[E+1],w)){var T=S.yt(i,w);if(T<s)return s=T,r.zs=x,r.yt=Number.MAX_VALUE,r.Xs=!1,r.qs=I.NaviObstructType_EXTENT,!1}for(var M=m[_].Nr,k=0;k<M.length-1;k++)if(S.gt(i,n,M[k],M[k+1],w)){var R=S.yt(i,w);if(R<s)return s=R,r.zs=x,r.yt=Number.MAX_VALUE,r.Xs=!1,r.qs=I.NaviObstructType_EXTENT,!1}}return!0},wu:function(t,i){return t.yt-i.yt},mu:function(t,i){return i.pu-t.pu},Do:function(t){t=this.zo(t);if(t){for(var i=t.qr,n=t.oe,r=i.length-1;0<=r;r--){var e=i[r];if(null==e||0<=e.Li)break;n.delete(e.Li),i.splice(r,1)}for(var s=t.Hr,o=t.ue,u=s.length-1;0<=u;u--){var h=s[u];if(null==h||0<=h.Li)break;o.delete(h.Li),s.splice(u,1)}}},Fo:function(){this._u(this.io),this._u(this.to)},_u:function(t){var i,n=N(t);try{for(n.s();!(i=n.n()).done;){var r,e=i.value[1],s=[],o=e.xs.ne,u=N(o);try{for(u.s();!(r=u.n()).done;){var h=r.value;h[0]<0&&s.push(h[0])}}catch(t){u.e(t)}finally{u.f()}for(var a=0;a<s.length;a++)this.yu(e.xs.ne,s[a]);for(var f=0;f<this.wo.length;f++)this.vu(o,this.wo[f])}}catch(t){n.e(t)}finally{n.f()}},$o:function(t,i,n,r,e){var s=[],o={x:0,y:0};if(S.Ot(i,n.wr,n._r,o)&&this.xu(i,o,{},e))return(e={}).st=o,e.Xs=!0,e.Ys=n,e.pu=0,e.yt=S.yt(i,o),s.push(e),s;for(var u={x:o.x-i.x,y:o.y-i.y},h=0;h<r.length;h++){var a=r[h],f={x:a.st.x-i.x,y:a.st.y-i.y},f=270<(f=S.Rt(f,u))?f-360:f;a.pu=f}r.sort(this.mu);var c,l=null;if(r[r.length-1].pu<0)return l=r[r.length-1],s.push(l),s;for(var v=0;v<r.length;v++)if(0<r[v].pu)return l=r[v],0==v?s.push(l):(c=r[v-1],S.yt(l.st,n.wr)>S.yt(c.st,n.wr)?(s.push(c),s.push(l)):(s.push(l),s.push(c))),s;return s},gu:function(t,i,n,r,e){for(var s=r||30,o=0;o<360;o+=s){var u=new Hr;this.du(t,i,o,u,e),1==u.Xs&&n.push(u)}n.sort(this.wu)},Qo:function(t,i,n,r){var e=new Map,s=[];for(this.gu(t,i,s,n,r);0!=s.length;){var o=s[0],u=e.get(o.Ys.Li);u?u.push(o):((u=[]).push(o),e.set(o.Ys.Li,u)),s.splice(0,1)}return e},Lo:function(t,i){var n=new L,i=(n.Li=this.Vo(),n.Yt=Object.assign({},i),this.zo(t));return i.qr.push(n),i.oe.set(n.Li,i.qr.length-1),this.iu(t).xs=i,n},Ou:function(t,i,n){if(n)return this.Lo(t,i);n=new L,n.Li=this.Ie(),n.Yt=Object.assign({},i),i=this.zo(t),t=i.qr,t=this.cu(n,t);return i.oe.set(n.Li,t),n},xu:function(t,i,n,r){for(var e,s=this.zo(-1),o=0;o<s.Qr.length;o++)if(null!=(e=s.Qr[o])&&e!=r&&I.NaviModelPassType_DECORATE!=e.pass)for(var u=e.Nr,h=0;h<u.length-1;h++)if(S.xt(t,i,u[h],u[h+1],n)){var a=S.yt(t,n),f=S.yt(i,n);if(!(a<=S.K()||f<=S.K()))return!1}for(var c=s.$r,l=0;l<c.length;l++){for(var v=c[l],y=v.Gr,d=0;d<y.length;d++)for(var b=y[d],p=0;p<b.length-1;p++)if(S.xt(t,i,b[p],b[p+1],n))return!1;for(var w=v.Nr,m=0;m<w.length-1;m++)if(S.xt(t,i,w[m],w[m+1],n))return!1}return!0},Ko:function(t,i,n,r,e,s){for(var o=0;o<this.co.length;o++){var u=this.co[o],h={};if(1==S.xt(u.wr,u._r,i.Yt,n.Yt,h)&&S.yt(i.Yt,h)>S.K()&&S.yt(n.Yt,h)>S.K())return null}void 0===r&&(r=I.NaviRoadEntry_BOTH),void 0===e&&(e=!0),void 0===s&&(s=!0);var a=new D;a.pr=i.Li,a.wr=i.Yt,a.mr=n.Li,a._r=n.Yt,a.xr=[i.Yt,n.Yt],a.Er=1,this.wo.push(i.Li),this.wo.push(n.Li),a.Li=e?this.Vo():this.Le(),a.Tr=r,a.Rr(),s&&this.co.push(a);this.zo(t).Hr.push(a);e=this.iu(t);return I.NaviRoadEntry_BOTH==r&&(s={Ze:n.Li,Un:a.Un},(t=e.xs.ne.get(i.Li))?t.push(s):((t=[]).push(s),e.xs.ne.set(i.Li,t)),s={Ze:i.Li,Un:a.Un},(t=e.xs.ne.get(n.Li))?t.push(s):((t=[]).push(s),e.xs.ne.set(n.Li,t))),I.NaviRoadEntry_FORWARD==r&&(s={Ze:n.Li,Un:a.Un},(t=e.xs.ne.get(i.Li))?t.push(s):((t=[]).push(s),e.xs.ne(i.Li,t))),I.NaviRoadEntry_BACK==r&&(s={Ze:i.Li,Un:a.Un},(t=e.xs.ne.get(n.Li))?t.push(s):((t=[]).push(s),e.xs.ne.set(n.Li,t))),a},tu:function(t){var i=this.Ro(t),n=this.oo.get(i);if(n)for(var r=0;r<n.length;r++){var e=n[r];if(S.lt(t,e.Nr,e.Ir))return e}return null},zo:function(t){var i=null;return i=(i=this.go?this.Ks.get(t):i)||this.Js.get(t)},iu:function(t){var i=null;return i=(i=this.go?this.io.get(t):i)||this.to.get(t)},ju:function(){return this.go?this.io:this.to},Ie:function(){return this.xs.Ie()},Le:function(){return this.xs.Le()},Zo:function(t){var i=[],n=(i.push.apply(i,j(t.qr)),[]),i=(n.push.apply(n,j(t.Hr)),new jr(i,n,!0,1));return(n=i.Qr).push.apply(n,j(t.Qr)),i},Bo:function(t){for(var i=[-1],n=this.xs.Kr,r=0;r<n.length;r++){var e=n[r];t.Eu(e.Bt.Nt,e.Bt.It)&&i.push(e.Li)}return i}}),a);function te(t,i){for(var n=0;n<i.length;n++){var r=i[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ie(t,i,n){return i&&te(t.prototype,i),n&&te(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function ne(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}var re=ie(function t(i){if(ne(this,t),i instanceof Number){this.Tu=i,this.Mu=[];for(var n=0;n<i;n++)this.Mu.push(null)}if(i instanceof Array){this.ku=i,this.Mu=[];for(var r=0;r<i.length;r++)this.Mu.push(null)}}),ee=(Object.assign(re.prototype,{Ru:function(){return this.Mu.length},Au:function(t,i){if(t<0||t>=this.Ru())throw"positon is out of bounder";this.Mu[t]=i},Su:function(t){var i=t;return"string"==typeof t&&(i=this.ku.indexOf(t)),this.Mu[i]},Nu:function(){for(var t=[],i=0;i<this.Mu.length;i++)t.push(this.Mu[i]);return t},ar:function(t){if(this.Mu.length!=t.Mu.length)return!1;if(this.ku.length!=t.ku.length)return!1;for(var i=0;i<this.ku.length;i++)if(this.ku[i]!=t.ku[i])return!1;return!0},Iu:function(){for(var t=0==this.ku.length?new re(this.Mu.length):new re(this.ku),i=0;i<this.Mu.length;i++)t.Mu[i]=this.Mu[i];return t}}),ie(function t(i){ne(this,t),this.ku=i,this.Lu=[]})),se=(Object.assign(ee.prototype,{Du:function(t){if(t instanceof re){if(!new re(t.ku).ar(t))throw"the appended item is not compatible to the TupleTable";this.Lu.push(t)}else{var i,n=new re(this.ku);for(i in t){var r=this.ku.indexOf(i);0<=r&&n.Au(r,t[i])}this.Lu.push(n)}},Fu:function(t,i){for(var n=0;n<this.Lu.length;n++){var r=this.Lu[n];if(r.Su(t)==i)return r}return null},Pu:function(t,i){i=i||-1;for(var n=0;n<this.Lu.length;n++)t(i<0?this.Lu[n]:this.Lu[n].Su(i))},Ru:function(){return this.Lu.length},Iu:function(){for(var t=new ee(this.ku),i=0;i<this.Lu.length;i++)t.Du(this.Lu[i].Iu());return t},Cu:function(t){for(var i=0;i<this.Lu.length;i++){var n,r=!0;for(n in t)if(this.Lu[i].Su(n)!=t[n]){r=!1;break}r&&(this.Lu.splice(i,1),i--)}},Uu:function(){this.Lu=[]}}),ee);function oe(t,i){for(var n=0;n<i.length;n++){var r=i[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ue(t,i,n){return i&&oe(t.prototype,i),n&&oe(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function he(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}Object.assign(ue(function t(){he(this,t),this.items=[]}).prototype,{Bu:function(t){this.items.push(t)},Zu:function(){return this.isEmpty()?"Underflow":this.items.shift()},Gu:function(){return this.isEmpty()?"No elements in Queue":this.items[0]},Wu:function(){return 0==this.items.length},Vu:function(){for(var t="",i=0;i<this.items.length;i++)t+=this.items[i]+" ";return t}});var ae=ue(function t(){he(this,t),this.queue=[],this.offset=0});function fe(t,i){var n,r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,i){if(t){if("string"==typeof t)return ce(t,i);var n=Object.prototype.toString.call(t).slice(8,-1);return"Map"===(n="Object"===n&&t.constructor?t.constructor.name:n)||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ce(t,i):void 0}}(t))||i&&t&&"number"==typeof t.length)return r&&(t=r),n=0,{s:i=function(){},n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:i};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var e,s=!0,o=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return s=t.done,t},e:function(t){o=!0,e=t},f:function(){try{s||null==r.return||r.return()}finally{if(o)throw e}}}}function ce(t,i){(null==i||i>t.length)&&(i=t.length);for(var n=0,r=new Array(i);n<i;n++)r[n]=t[n];return r}function le(t,i){for(var n=0;n<i.length;n++){var r=i[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ve(t,i,n){return i&&le(t.prototype,i),n&&le(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function ye(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}Object.assign(ae.prototype,{Yu:function(){return this.queue.length-this.offset},Wu:function(){return 0==this.queue.length},Bu:function(t){this.queue.push(t)},Zu:function(){var t;if(0!=this.queue.length)return t=this.queue[this.offset],2*++this.offset>=this.queue.length&&(this.queue=this.queue.slice(this.offset),this.offset=0),t},zu:function(){return 0<this.queue.length?this.queue[this.offset]:void 0}});var de=ve(function t(i){ye(this,t),this.adj=i||[]}),a=(Object.assign(de.prototype,{Xu:function(t){for(var i in this.adj)if(t==i[0])return!0;return!1},qu:function(t){if(null==t)return null;for(var i in this.adj)if(t==this.adj[i][0])return this.adj[i][1];return null},Du:function(t){this.adj.push(t)}}),ve(function t(i){for(var n in ye(this,t),this.Hu=new Map,i){for(var r=i[n][0],e=(this.Hu.has(r)||this.Hu.set(r,new de),[]),s=1;s<i[n].length;s++)e.push(i[n][s]);this.Hu.get(r).Du(e)}})),be=(Object.assign(a.prototype,{Su:function(t){return this.Hu.has(t)?this.Hu.get(t):null},Qu:function(t,i){return this.Hu.has(t)?this.Hu.get(t).qu(i):null},$u:function(){return Array.from(this.Hu.keys())},Ju:function(t,i){var n={dist:1/0,route:null},t=(this.Ku(t,i),[i]);return this.Ws(i,t),1<t.length&&(n.dist=this.Hu.get(i).ir,n.route=t.reverse()),n},Ku:function(t,i){if(null==this.Hu||0==this.Hu.size)return!1;if(t==i)return!0;var n,r=fe(this.Hu.keys());try{for(r.s();!(n=r.n()).done;){var e=n.value;this.Hu.get(e).ir=e==t?0:Number.MAX_VALUE,this.Hu.get(e).nr=!1,this.Hu.get(e).rr=[]}}catch(t){r.e(t)}finally{r.f()}for(var s=[],o=(s.push(t),this.Gs.bind(this));0<s.length;){var u=s[0];if(s.splice(0,1),null!=u){var h=this.Hu.get(u);if(!h.nr){if(h.nr=!0,u==i)return!0;for(var a=[],f=0;f<this.Hu.get(u).adj.length;f++)a.push(h.adj[f][0]);if(0!=a.length)for(var c=0;c<a.length;c++){var l=a[c],v=this.Qu(u,l),y=this.Hu.get(l),d=v+h.ir,d=Number(d.toFixed(3));y.nr||(y.ir>d?(y.ir=d,y.rr=[],y.rr.push(u),s.push(l),s.sort(o)):Math.abs(y.ir-(v+h.ir))<1e-12&&-1==y.rr.indexOf(u)&&y.rr.push(u))}}}}return!1},Gs:function(t,i){return this.Hu.get(t).ir-this.Hu.get(i).ir},Ws:function(t,i){0!=this.Hu.get(t).rr.length&&(t=this.Hu.get(t).rr[0],i.push(t),this.Ws(t,i))}}),a);function pe(t,i){for(var n=0;n<i.length;n++){var r=i[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function we(t,i,n){return i&&pe(t.prototype,i),n&&pe(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function me(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}var _e=we(function t(i){me(this,t),this.th=i||[]}),a=(Object.assign(_e.prototype,{ih:function(t){for(var i=-1,n=0;n<this.th.length;n++)if(this[n]==t){i=n;break}i<0||this.th.splice(i,1)},nh:function(t){for(var i=[],n=0;n<this.th.length;n++)i.push(this.th[n]);for(var r=-1,e=0;e<i.length;e++)if(i[e]==t){r=e;break}if(!(r<0))return i.splice(r,1),i},Nu:function(){for(var t=[],i=0;i<this.th.length;i++)t.push(this.th[i]);return t},Un:function(){return this.th.length}}),we(function t(i){me(this,t),0!=i.length&&(this.Hu=new be(i))})),xe=(Object.assign(a.prototype,{rh:function(t){return this.eh=t,this},sh:function(t){return this.oh=t,this},uh:function(t){return this.th=t,this},hh:function(){this.Ui=this.ah(this.eh,this.oh,this.th)},fh:function(){return this.Ui},ah:function(t,i,n){if(0==n.length){if(t==i)return{route:[t],dist:0};var r=this.Hu.Qu(t,i);return null==r?this.Hu.Ju(t,i):{route:[t,i],dist:r}}for(var e=new _e(n),s=e.Nu(),o=1/0,u=[],h=0;h<e.Un();h++){var a,f=s[h],c=this.ah(t,f,e.nh(f));null!=c.dist&&(null==(a=this.Hu.Qu(f,i))?(a=(f=this.Hu.Ju(f,i)).dist)+c.dist<o&&(o=a+c.dist,f.route.shift(),c.route.push(f.route),u=c.route):a+c.dist<o&&(o=a+c.dist,c.route.push(i),u=c.route))}return{route:u,dist:o}}}),a);function F(t){return function(t){if(Array.isArray(t))return Oe(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||ge(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function P(t,i){var n,r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=ge(t))||i&&t&&"number"==typeof t.length)return r&&(t=r),n=0,{s:i=function(){},n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:i};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var e,s=!0,o=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return s=t.done,t},e:function(t){o=!0,e=t},f:function(){try{s||null==r.return||r.return()}finally{if(o)throw e}}}}function ge(t,i){if(t){if("string"==typeof t)return Oe(t,i);var n=Object.prototype.toString.call(t).slice(8,-1);return"Map"===(n="Object"===n&&t.constructor?t.constructor.name:n)||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Oe(t,i):void 0}}function Oe(t,i){(null==i||i>t.length)&&(i=t.length);for(var n=0,r=new Array(i);n<i;n++)r[n]=t[n];return r}function je(t,i){for(var n=0;n<i.length;n++){var r=i[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var a=function(){function n(t,i){if(!(this instanceof n))throw new TypeError("Cannot call a class as a function");this.Li=t,this.Hs=null,this.Qs=null,this.xs=i,this.$s=new Map,this.Js=new Map,this.ch=null,this.lh=new Map,this.no=[],this.ro=Number.INT_MIN,this.eo=Number.INT_MIN,this.so=-1,this.gs=null,this.Os=null,this.Ts=g.MODULE_SHORTEST,this.oo=new Map,this.uo=new Map,this.ho=new Map,this.ao=[],this.fo=[],this.co=[],this.vo=[],this.yo=100,this.do=-1,this.bo=15,this.po=.1,this.vh=[],this.yh=[],this.dh=[],this.jo(),this.Eo(),this.To(),this.Mo(),this.ko(),this.bh=new se(["num","id","idx","node"]),this.ph=new Map,this.wh=new ae,this.nr=!1,this.mh=[],this.Xt=null}var t,i,r;return t=n,(i=[{key:"level",get:function(){return this.Cn},set:function(t){this.Cn=t}}])&&je(t.prototype,i),r&&je(t,r),Object.defineProperty(t,"prototype",{writable:!1}),n}(),Ee=(Object.assign(a.prototype,{_h:function(t){this.xh=null==t?[]:t,this.gh()},Oh:function(t){var i;t instanceof L?(this.gs=t,this.bh.Du({num:this.bh.Ru(),id:t.Li,idx:this.xs.Ge(t.Li),node:t})):(i=new L,this.jh(t,i)||this.yh.push(t),this.gs=i,this.bh.Du({num:this.bh.Ru(),id:i.Li,idx:this.xs.Ge(i.Li),node:i}))},Eh:function(t){var i;t instanceof L?(this.Os=t,this.bh.Du({num:this.bh.Ru(),id:t.Li,idx:this.xs.Ge(t.Li),node:t})):(i=new L,this.jh(t,i)||this.yh.push(t),this.Os=i,this.bh.Du({num:this.bh.Ru(),id:i.Li,idx:this.xs.Ge(i.Li),node:i}))},Th:function(t,i){for(var n=0,r=0;r<i.length;r++){var e=(t.x-i[r].x)*(t.x-i[r].x)+(t.y-i[r].y)*(t.y-i[r].y);n+=Math.sqrt(e)}return n},Mh:function(){for(var t=this.xs.Je(),i=0;i<t.length;i++)t[i].ir=this.Th(t[i].Yt,this.kh().xh),t[i].ir+=this.Th(t[i].Yt,this.xh),t[i].ir=t[i].ir/(0==this.kh().xh.length?1:this.kh().xh.length),t[i].sr==I.NaviLiftType_Escalator&&(t[i].ir-=25),t[i].sr==I.NaviLiftType_Lift&&(t[i].ir-=25);t.sort(function(t,i){return t.ir-i.ir});for(var n=this.Cn-this.kh().Cn<0,r=0;r<t.length;r++){var e=t[r];if(n){if(e.or==I.NaviLiftEntry_DOWN||e.or==I.NaviLiftEntry_FORBID)continue}else if(e.or==I.NaviLiftEntry_UP||e.or==I.NaviLiftEntry_FORBID)continue;if(e.sr==I.NaviLiftType_Stair||e.sr==I.NaviLiftType_Ramp){if(this.kh().Rh(e.$n))return e}else if(-1!=e.Hn.indexOf(this.kh().Cn)&&this.kh().Rh(e.$n))return e}return null},Ah:function(t){for(var i=this.xs.Je(),n=t.Cn,r=this.Cn,e=0;e<i.length;e++){var s=i[e];if((1==this.Xt||I.NaviLiftType_Stair==s.sr||-1!=s.Hn.indexOf(n))&&null!=t.Rh(s.$n))if(s.or==I.NaviLiftEntry_UP){if(r<n)return{related:!0,dist:Math.abs(r-n)}}else if(s.or==I.NaviLiftEntry_DOWN){if(n<r)return{related:!0,dist:Math.abs(r-n)}}else if(s.or==I.NaviLiftEntry_BOTH)return{related:!0,dist:Math.abs(r-n)}}return{related:!1,dist:1/0}},Rh:function(t){0==this.mh.length&&(this.mh=this.xs.Je());for(var i=0;i<this.mh.length;i++)if(this.mh[i].$n==t)return this.mh[i];return null},Sh:function(t){var i=this.xs.$r[0].Nr;return!!S.lt(t,i,i.length-1)},Us:function(){return this.no},mi:function(){this.Hs=null,this.Qs=null,this.xs.mi(),this.xs=null,this.$s.clear(),this.$s=null;var t,i=P(this.Js);try{for(i.s();!(t=i.n()).done;)t.value[1].mi()}catch(t){i.e(t)}finally{i.f()}this.Js.clear(),(this.Js=null)!=this.ch&&(this.ch.mi(),this.ch=null),this.lh.each(function(t,i){i.mi()}),this.lh.clear(),this.lh=null,this.no=[],this.gs=null,this.Os=null,this.oo.clear(),this.oo=null,this.uo.clear(),this.uo=null,this.ho.clear(),this.uo=null,this.ao=[],this.fo=[],this.co=[],this.vo=[]},bn:function(){this.no=[],this.Do(-1),this.Do(this.ro),this.ro=Number.INT_MIN,this.Do(this.eo),this.eo=Number.INT_MIN,this.Fo(),this.vh=[],this.so=-1;for(var t=0;t<this.ao.length;t++){var i=this.ao[t];this.Po(i.Co,i.zs,I.NaviRoadHinderType_HINDER_HIGH)}this.ao=[],this.fo=[],this.co=[],this.vo=[]},Nh:function(t){this.wh.Bu(t)},kh:function(){return this.wh.zu()},Ih:function(){return this.wh.Zu()},Lh:function(){var o=this;this.Dh=[],this.bh.Pu(function(t){for(var i=t.Su("node"),t=o.bh.Iu(),n=(t.Cu({node:i}),[]),r=(t.Pu(function(t){n.push(t.Su("id"))}),o.lh.get(-1).As(i.Li,n,o.Ts),o.lh.get(-1).Ls()),e=0;e<r.length;e++){var s=r[e];o.Dh.push([i.Li,s[s.length-1].Li,function(t){for(var i=0,n=0;n<t.length-1;n++){var r=t[n].Yt.x-t[n+1].Yt.x,e=t[n].Yt.y-t[n+1].Yt.y;i+=Math.sqrt(r*r+e*e)}return i}(s),s])}})},Fh:function(){this.Ui=[];function t(t,i){for(var n=0;n<this.length;n++)if(this[n][0]==t&&this[n][1]==i)return this[n]}for(var i=0;i<this.hh.route.length-1;i++)for(var n=this.hh.route[i],r=this.hh.route[i+1],e=t.apply(this.Dh,[n,r]),s=0;s<e[3].length;s++)this.Ui.push(e[3][s])},fh:function(){return this.Ui},Yo:function(t){var i=this.xs.ce(t);if(-1==i)return null;var n=this.Ph(t),r=this.Js.get(n).findModel(t,-0);if(null==r)return{gr:i,zs:null};if(r.pass==I.NaviModelPassType_PASS_THROUGH||r.pass==I.NaviModelPassType_PASS_NOT_THROUGH){if(0<r.Wr.length)return{gr:i,zs:r};for(var e={},s=[],o=[],u=this.Js.get(n).Hr,h=!0,a=0;a<r.Ir;a++)for(var f=r.Nr[a],c=r.Nr[a+1],l=0;l<u.length;l++){var v=u[l];1==S.xt(f,c,v.wr,v._r,e)&&(h=!1,I.NaviRoadEntry_FORBID!=v.Tr&&((v=new Object).x=e.x,v.y=e.y,s.push(v),o.push(u[l])))}if(h)return{gr:i,zs:r};if(0==s.length)return null;r.Wr=[],r.Yr=[],r.Vr=[];for(var y=0;y<s.length;y++){var d=s[y],b=o[y],d=this.Xo(n,d,b);d.er=I.NaviNodeType_COMMON,b.Tr==I.NaviRoadEntry_BOTH?d.entranceType=I.NaviEntranceType_ACCESS:S.lt(b.wr,r.Nr,r.Ir)?(b.Tr==I.NaviRoadEntry_FORWARD&&(d.entranceType=I.NaviEntranceType_EXIT),b.Tr==I.NaviRoadEntry_BACK&&(d.entranceType=I.NaviEntranceType_ENTRANCE)):(b.Tr==I.NaviRoadEntry_FORWARD&&(d.entranceType=I.NaviEntranceType_ENTRANCE),b.Tr==I.NaviRoadEntry_BACK&&(d.entranceType=I.NaviEntranceType_EXIT)),r.Wr.push(d),r.Yr.push(d.entranceType),r.Vr.push(d.er)}}return r.pass!=I.NaviModelPassType_NOT_PASS?{gr:i,zs:r}:null},Ho:function(t){var i,n=null,r=Number.MAX_VALUE,e=P(t.values());try{for(e.s();!(i=e.n()).done;){var s=i.value;0<s.length&&s[0].yt<r&&(n=s[0],r=s[0].yt)}}catch(t){e.e(t)}finally{e.f()}return n},Ao:function(t){var i=this,n=this.gs=null,r=!0,n=null!=this.Hs&&this.Hs.pass==I.NaviModelPassType_PASS_THROUGH&&0==this.Hs.Wr.length?this.Qo(this.ro,t,30,this.Hs):this.Qo(this.ro,t);if(1===this.Xt){var e,s,o=this.Ho(n);o&&(e=o.Ys,s=null,s=0==(e=this.$o(this.ro,t,e,[o],this.Hs)).length?this.Jo(this.ro,o.st,o.Ys):this.Jo(this.ro,e[0].st,e[0].Ys),this.gs=s)}else{if(this.gs=this.Lo(this.ro,t),null==this.Hs&&(r=!1),0<n.size){var u,r=!1,h=P(n);try{for(h.s();!(u=h.n()).done;)for(var a=u.value[1],f=0;f<a.length;f++)0!=a[f].Ys.Tr&&(r=!0)}catch(t){h.e(t)}finally{h.f()}var c,l=!1,v=[],y=P(n);try{for(y.s();!(c=y.n()).done;){var d,b=c.value[1],p=b[0].Ys,w=this.$o(this.ro,t,p,b,this.Hs);if(0==w.length){var m,_=P(b);try{for(_.s();!(m=_.n()).done;){var x=m.value,g=this.Jo(this.ro,x.st,x.Ys);this.Ko(this.ro,this.gs,g)}}catch(t){_.e(t)}finally{_.f()}}else Math.abs(w[0].pu)>S.K()?v.push.apply(v,F(w)):(l=!0,d=this.Jo(this.ro,w[0].st,w[0].Ys),this.Ko(this.ro,this.gs,d))}}catch(t){y.e(t)}finally{y.f()}l||v.forEach(function(t){t=i.Jo(i.ro,t.st,t.Ys);i.Ko(i.ro,i.gs,t)})}if(r&&null!=this.Hs&&0<this.Hs.Wr.length){for(var O=!1,j=0;j<this.Hs.Wr.length;j++){var E=this.Hs.Wr[j],T=this.Hs.Yr[j];T!=I.NaviEntranceType_EXIT&&T!=I.NaviEntranceType_ACCESS||(this.Ko(this.ro,this.gs,E),O=!0)}if(!O)return R.ROUTE_FAILED_NO_DATA_START}}},So:function(t){var i=this,n=this.Os=null,r=!0,n=null!=this.Qs&&this.Qs.pass==I.NaviModelPassType_PASS_THROUGH&&0==this.Qs.Wr.length?this.Qo(this.eo,t,30,this.Qs):this.Qo(this.eo,t);if(1===this.Xt){var e,s,o=this.Ho(n);o&&(e=o.Ys,s=null,s=0==(e=this.$o(this.eo,t,e,[o],this.Qs)).length?this.Jo(this.eo,o.st,o.Ys):this.Jo(this.eo,e[0].st,e[0].Ys),this.Os=s)}else{if(this.Os=this.Lo(this.eo,t),null==this.Qs&&(r=!1),0<n.size){var u,r=!1,h=P(n);try{for(h.s();!(u=h.n()).done;)for(var a=u.value[1],f=0;f<a.length;f++)0!=a[f].Ys.Tr&&(r=!0)}catch(t){h.e(t)}finally{h.f()}var c,l=!1,v=[],y=P(n);try{for(y.s();!(c=y.n()).done;){var d,b=c.value[1],p=b[0].Ys,w=this.$o(this.eo,t,p,b,this.Qs);if(0==w.length){var m,_=P(b);try{for(_.s();!(m=_.n()).done;){var x=m.value,g=this.Jo(this.eo,x.st,x.Ys);this.Ko(this.eo,this.Os,g)}}catch(t){_.e(t)}finally{_.f()}}else Math.abs(w[0].pu)>S.K()?v.push.apply(v,F(w)):(l=!0,d=this.Jo(this.eo,w[0].st,w[0].Ys),this.Ko(this.eo,this.Os,d))}}catch(t){y.e(t)}finally{y.f()}l||v.forEach(function(t){t=i.Jo(i.eo,t.st,t.Ys);i.Ko(i.eo,i.Os,t)})}if(r&&null!=this.Qs&&0<this.Qs.Wr.length){for(var O=!1,j=0;j<this.Qs.Wr.length;j++){var E=this.Qs.Wr[j],T=this.Qs.Yr[j];T!=I.NaviEntranceType_EXIT&&T!=I.NaviEntranceType_ACCESS||(this.Ko(this.eo,this.Os,E),O=!0)}if(!O)return R.ROUTE_FAILED_NO_DATA_DEST}}},jh:function(t,i,n){var r=this,e=(t instanceof Array&&2==t.length&&(t={x:t[0],y:t[1]}),null),s=!0,o=this.xs.Xe(t),u=this.xs.qe(t),e=null!=o&&o.pass==I.NaviModelPassType_PASS_THROUGH&&0==o.Wr.length?this.Qo(u,t,30,o):this.Qo(u,t);if(1===this.Xt){var h=this.Ho(e);if(!h)return;var a=h.Ys,f=null,a=this.$o(u,t,a,[h],o);return(f=0==a.length?this.Jo(u,h.st,h.Ys):this.Jo(u,a[0].st,a[0].Ys)).Ch=void 0!==n&&n,Object.assign(i,f),!0}h=this.Lo(u,t);if(h.Ch=void 0!==n&&n,Object.assign(i,h),null==o&&(s=!1),0<e.size){var c,s=!1,l=P(e);try{for(l.s();!(c=l.n()).done;)for(var v=c.value[1],y=0;y<v.length;y++)0!=v[y].Ys.Tr&&(s=!0)}catch(t){l.e(t)}finally{l.f()}var d,b=!1,p=[],w=P(e);try{for(w.s();!(d=w.n()).done;){var m,_=d.value[1],x=_[0].Ys,g=this.$o(u,t,x,_,o);if(0==g.length){var O,j=P(_);try{for(j.s();!(O=j.n()).done;){var E=O.value,T=this.Jo(u,E.st,E.Ys);this.Ko(u,i,T)}}catch(t){j.e(t)}finally{j.f()}}else Math.abs(g[0].pu)>S.K()?p.push.apply(p,F(g)):(b=!0,m=this.Jo(u,g[0].st,g[0].Ys),this.Ko(u,i,m))}}catch(t){w.e(t)}finally{w.f()}b||p.forEach(function(t){t=r.Jo(u,t.st,t.Ys);r.Ko(u,i,t)})}if(s&&null!=o&&0<o.Wr.length){for(var M=!1,k=0;k<o.Wr.length;k++){var R=o.Wr[k],A=o.Yr[k];A!=I.NaviEntranceType_EXIT&&A!=I.NaviEntranceType_ACCESS||(this.Ko(u,i,R),M=!0)}if(!M)return!1}return!0},Cs:function(){var t=this.tu(this.gs.Yt),t=(t&&(this.Po(this.ro,t,I.NaviRoadHinderType_HINDER_GENERAL),this.ao.push({Co:this.ro,zs:t})),this.tu(this.Os.Yt));if(t&&(this.Po(this.eo,t,I.NaviRoadHinderType_HINDER_GENERAL),this.ao.push({Co:this.eo,zs:t})),this.no=[],this.ro==this.eo){var t=this.lh.get(this.ro),i=t.Cs(this.gs,this.Os,this.Ts);if(i!=R.ROUTE_SUCCESS)return i;i=t.Us();this.no=[],i.reverse(),(t=this.no).push.apply(t,F(i))}else{if(-1!=this.ro&&-1==this.eo){var t=this.nu(this.gs.Yt,this.ro,I.NaviEntranceType_EXIT),i=this.lh.get(this.ro),n=i.Cs(this.gs,t,this.Ts);if(n!=R.ROUTE_SUCCESS)return n;var r=i.Us(r),i=this.lh.get(-1);if((n=i.Cs(t,this.Os,this.Ts))!=R.ROUTE_SUCCESS)return n;t=i.Us();r.reverse(),t.reverse(),(n=this.no).push.apply(n,F(r)),(i=this.no).push.apply(i,F(t))}if(-1==this.ro&&-1!=this.eo){var n=this.nu(this.Os.Yt,this.eo,I.NaviEntranceType_ENTRANCE),r=this.lh.get(this.eo),i=r.Cs(n,this.Os,this.Ts);if(i!=R.ROUTE_SUCCESS)return i;t=r.Us(),r=this.lh.get(-1);if((i=r.Cs(this.gs,n,this.Ts))!=R.ROUTE_SUCCESS)return i;n=r.Us();n.reverse(),t.reverse(),(i=this.no).push.apply(i,F(n)),(r=this.no).push.apply(r,F(t))}if(-1!=this.ro&&-1!=this.eo){i=this.nu(this.gs.Yt,this.ro,I.NaviEntranceType_EXIT),n=this.lh.get(this.ro),r=n.Cs(this.gs,i,this.Ts);if(r!=R.ROUTE_SUCCESS)return r;var e=n.Us(e),t=this.nu(this.Os.Yt,this.eo,I.NaviEntranceType_ENTRANCE),n=this.lh.get(this.eo);if((r=n.Cs(t,this.Os,this.Ts))!=R.ROUTE_SUCCESS)return r;var s=n.Us(s),n=this.lh.get(-1);if((r=n.Cs(i,t,this.Ts))!=R.ROUTE_SUCCESS)return r;i=n.Us();e.reverse(),i.reverse(),s.reverse(),(t=this.no).push.apply(t,F(e)),(r=this.no).push.apply(r,F(i)),(n=this.no).push.apply(n,F(s))}}return R.ROUTE_SUCCESS},ru:function(t,i,n){for(var r=0;r<i;r++)if(null!=t[r]&&t[r].Li==n)return r;return-1},Ph:function(t){for(var i=this.xs.Kr,n=0;n<i.length;n++){var r=i[n];if(r.Br(t))return r.Li}return-1},jo:function(){for(var t=this.xs.Kr,i=0;i<t.length;i++){var n=t[i],r=this.eu(this.xs,n);this.Js.set(n.Li,r)}this.Js.set(-1,this.xs);var e,s=P(this.Js);try{for(s.s();!(e=s.n()).done;){var o=e.value;o[1].fe(),this.lh.set(o[0],new Br(o[1]))}}catch(t){s.e(t)}finally{s.f()}},eu:function(t,i){if(t&&i){for(var n,r=0,e=0,s=t.Hr.length,o=t.qr.length,u=t.Hr,h=t.qr,a=0,f=new Int8Array(s),c=0;c<s;c++)u[c]&&u[c].Tr!=I.NaviRoadEntry_FORBID&&(n=u[c],r=i.contain(n.wr),e=i.contain(n._r),0==r&&0==e||(a=!0),1==r&&1==e&&(f[c]=1),1==r&&0==e&&(f[c]=2),0==r&&1==e&&(f[c]=3),0==r&&0==e&&(f[c]=4),2==r&&0==e&&(f[c]=6),2==r&&1==e&&(f[c]=7),0==r&&2==e&&(f[c]=8),1==r&&2==e&&(f[c]=9));if(0==a)return null;for(var l,v,y,d,b,p,w=new Array(o),m=new Array(s),_=0,x=new Int8Array(o),g=f.length,O=0,j=g;O<j;O++)0!=f[O]&&6!=f[O]&&8!=f[O]&&1!=f[O]&&u[O]&&(p=(l=u[O]).Tr,b=[l.Li],2==f[O]||9==f[O]?(v=null,v=2==f[O]?i.xt(l.wr,l._r):Object.assign({},l._r),(y=new L).Li=this.xs.Ie(),y.er=I.NaviNodeType_COMMON,y.sr=I.NaviLiftType_NULL,y.entranceType=I.NaviEntranceType_ACCESS,y.Yt=Object.assign({},v),(v=new D).setRoad(l),v.Li=this.xs.Le(),b.push(v.Li),y.segLinks=b,(d=new L).setNode(y),p==I.NaviRoadEntry_FORWARD?d.entranceType=I.NaviEntranceType_EXIT:p==I.NaviRoadEntry_BACK&&(d.entranceType=I.NaviEntranceType_ENTRANCE),i.Cr.push(d),_=this.ru(h,o,v.mr),v._r=Object.assign({},d.Yt),v.xr[1]=Object.assign({},d.Yt),v.mr=d.Li,v.Rr(),m[O]=v,w[_]=d,w[_=this.ru(h,o,v.pr)]=h[_],w[_].segLinks.splice(w[_].segLinks.indexOf(l.Li),1,v.Li),(d=new L).setNode(y),l.pr=d.Li,l.wr=Object.assign({},d.Yt),l.xr[0]=Object.assign({},d.Yt),l.Rr(),h[_].segLinks.splice(h[_].segLinks.indexOf(l.Li),1),h.push(d),x[_]=2):3!=f[O]&&7!=f[O]||(v=null,v=3==f[O]?i.xt(l.wr,l._r):Object.assign({},l.wr),(y=new L).Li=this.xs.Ie(),y.er=I.NaviNodeType_COMMON,y.sr=I.NaviLiftType_NULL,y.entranceType=I.NaviEntranceType_ACCESS,y.Yt=Object.assign({},v),(d=new D).setRoad(l),d.Li=this.xs.Le(),b.push(d.Li),y.segLinks=b,(b=new L).setNode(y),p==I.NaviRoadEntry_FORWARD?b.entranceType=I.NaviEntranceType_ENTRANCE:p==I.NaviRoadEntry_BACK&&(b.entranceType=I.NaviEntranceType_EXIT),i.Cr.push(b),_=this.ru(h,o,d.pr),d.wr=Object.assign({},b.Yt),d.xr[0]=Object.assign({},b.Yt),d.pr=b.Li,d.Rr(),m[O]=d,w[_]=b,w[_=this.ru(h,o,d.mr)]=h[_],w[_].segLinks.splice(w[_].segLinks.indexOf(l.Li),1,d.Li),(p=new L).setNode(y),l.mr=p.Li,l._r=Object.assign({},p.Yt),l.xr[1]=Object.assign({},p.Yt),l.Rr(),h[_].segLinks.splice(h[_].segLinks.indexOf(l.Li),1),h.push(p),x[_]=2));for(var E,T=0,M=g;T<M;T++)1==f[T]&&((E=u[T])&&(m[T]=E,2!=x[_=this.ru(h,o,E.pr)]&&(w[_]=h[_],x[_]=1),2!=x[_=this.ru(h,o,E.mr)]&&(w[_]=h[_],x[_]=1),u[T]=null));for(var k=0;k<o;k++)1==x[k]&&(h[k]=null);for(var g=new jr(w,m,!0,1),R=[],A=t.Qr,S=0;S<A.length;S++){var N=A[S];N&&this.su(N,i)&&R.push(N)}return(t=g.Qr).push.apply(t,R),g}},Eo:function(){var t,i=P(this.Js);try{for(i.s();!(t=i.n()).done;)for(var n=t.value,r=n[0],e=n[1].Qr,s=0;s<e.length;s++){var o,u=e[s];I.NaviModelPassType_PASS_NOT_THROUGH==u.pass&&((o=this.oo.get(r))||(o=[],this.oo.set(r,o)),o.push(u))}}catch(t){i.e(t)}finally{i.f()}},To:function(){var t,i=P(this.Js);try{for(i.s();!(t=i.n()).done;)for(var n=t.value,r=n[0],e=n[1].Qr,s=0;s<e.length;s++){var o,u=e[s];I.NaviModelPassType_NOT_PASS==u.pass&&((o=this.uo.get(r))||(o=[],this.uo.set(r,o)),o.push(u))}}catch(t){i.e(t)}finally{i.f()}},Mo:function(){var t,i=P(this.oo);try{for(i.s();!(t=i.n()).done;)for(var n=t.value,r=n[0],e=n[1],s=this.Js.get(r).Hr,o=0;o<e.length;o++){for(var u=e[o],h=0;h<s.length;h++){var a,f=s[h].Sr();S.lt(f,u.Nr,u.Ir)&&(s[h].Un=s[h].Un*this.yo,(a=this.ho.get(u.Li))||(a=[],this.ho.set(u.Li,a)),a.push(s[h]))}this.Po(r,u,I.NaviRoadHinderType_HINDER_HIGH)}}catch(t){i.e(t)}finally{i.f()}},gh:function(){for(var t=0;t<this.xh.length;t++){var i=new L;this.jh(this.xh[t],i,!0)?(this.dh.push(i),this.bh.Du({num:this.bh.Ru(),id:i.Li,idx:this.xs.Ge(i.Li),node:i})):this.yh.push(this.xh[t])}},ko:function(){var t,i=P(this.uo);try{for(i.s();!(t=i.n()).done;)for(var n=t.value,r=n[0],e=n[1],s=this.Js.get(r).Hr,o=0;o<e.length;o++)for(var u=e[o],h=0;h<s.length;h++){var a=s[h],f=a.Tr,c=a.Sr();if(S.lt(c,u.Nr,u.Ir-1)){if(a.Un=Number.MAX_VALUE,f==I.NaviRoadEntry_BOTH||f==I.NaviRoadEntry_FORWARD){var l=this.Js.get(r).ne.get(a.pr);if(l)for(var v=0;v<l.length;v++)l[v].Ze==a.mr&&(l[v].Un=a.Un)}if(a.Tr==I.NaviRoadEntry_BOTH||a.Tr==I.NaviRoadEntry_BACK){var y=this.Js.get(r).ne.get(a.mr);if(y)for(var d=0;d<y.length;d++)y[d].Ze==a.pr&&(y[d].Un=a.Un)}}}}catch(t){i.e(t)}finally{i.f()}},Po:function(t,i,n){var r=this.ho.get(i.Li);if(r){if(I.NaviRoadHinderType_HINDER_HIGH==n)for(var e=0;e<r.length;e++){var s=r[e];if(s.Rr(),s.Un=r.length*this.yo,s.Tr==I.NaviRoadEntry_BOTH||s.Tr==I.NaviRoadEntry_FORWARD){var o=this.Js.get(t).ne.get(s.pr);if(o)for(var u=0;u<o.length;u++)o[u].Ze==s.mr&&(o[u].Un=s.Un)}if(s.Tr==I.NaviRoadEntry_BOTH||s.Tr==I.NaviRoadEntry_BACK){var h=this.Js.get(t).ne.get(s.mr);if(h)for(var a=0;a<h.length;a++)h[a].Ze==s.pr&&(h[a].Un=s.Un)}}if(I.NaviRoadHinderType_HINDER_GENERAL==n)for(var f=0;f<r.length;f++){var c=r[f];if(c.Rr(),c.Tr==I.NaviRoadEntry_BOTH||c.Tr==I.NaviRoadEntry_FORWARD){var l=this.Js.get(t).ne.get(c.pr);if(l)for(var v=0;v<l.length;v++)l[v].Ze==c.mr&&(l[v].Un=c.Un)}if(c.Tr==I.NaviRoadEntry_BOTH||c.Tr==I.NaviRoadEntry_BACK){var y=this.Js.get(t).ne.get(c.mr);if(y)for(var d=0;d<y.length;d++)y[d].Ze==c.pr&&(y[d].Un=c.Un)}}}},nu:function(t,i,n){var r=this.xs.getZone(i);if(null==r)return null;for(var e=this.Js.get(i).Ne(t,void 0),s=(e.area,Number.MAX_VALUE),o=null,u=0;u<r.Cr.length;u++){var h,a=r.Cr[u],f=S.yt(a.Yt,t);a.entranceType!=I.NaviEntranceType_ACCESS&&a.entranceType!=n||f<s&&((h=this.ou(i,a.Yt))!=e&&h.pass==I.NaviModelPassType_PASS_NOT_THROUGH||(s=f,o=a))}return o},ou:function(t,i){for(var n=null,t=this.Js.get(t),r=Number.MAX_VALUE,e=Number.MAX_VALUE,s=null,o=t.Qr,u=0;u<o.length;u++){var h,a=o[u];(h=S.lt(i,a.Nr,a.Nr.length-1))<e&&(e=h,s=a),this.po>h&&((h=a.area)<r&&(r=h,n=a))}return null==n?s:n},su:function(t,i){if(t.bb.isSeparate(i.bb))return!1;t=t.Pt;return!!S.lt(t,i.Nr,i.Ir)},Jo:function(t,i,n){for(var r=this.vh.find(function(t){return t==n.pr}),e=this.vh.find(function(t){return t==n.mr}),s=(null==r&&this.vh.push(n.pr),null==e&&this.vh.push(n.mr),this.vo),o=null,u=0;u<s.length;u++)if(s[u].hu==n){o=s[u];break}if(null==o)(o={}).hu=n,s.push(o);else for(;null!=o.au;)var h=o.au.hu,o=S.ft(i,h.wr,h._r)?o.au:o.fu;n=o.hu;var r=new L,e=(r.Li=this.Uh(),r.Yt=i,new D),a=(e.Li=this.Uh(),e.pr=n.pr,e.wr=n.wr,e.mr=r.Li,e._r=r.Yt,e.xr=[n.wr,r.Yt],new D),f=(a.Li=this.Uh(),a.pr=r.Li,a.wr=r.Yt,a.mr=n.mr,a._r=n._r,a.xr=[r.Yt,n._r],this.fo.push(e),this.fo.push(a),{}),c=(f.hu=e,{}),f=(c.hu=a,o.au=f,o.fu=c,r.tempType=1,e.tempType=1,a.tempType=1,e.Rr(),a.Rr(),e.Tr=n.Tr,a.Tr=n.Tr,this.Js.get(t)),c=(f.qr.push(r),f.Hr.push(e),f.Hr.push(a),this.lh.get(t).xs);return c.oe.set(r.Li,f.qr.length-1),n.Tr==I.NaviRoadEntry_BOTH&&((t=[]).push({Ze:n.pr,Un:e.Un}),t.push({Ze:n.mr,Un:a.Un}),c.ne.set(r.Li,t),(t=c.ne.get(n.pr))||c.ne.set(n.pr,t=[]),t.push({Ze:r.Li,Un:e.Un}),(t=c.ne.get(n.mr))||c.ne.set(n.mr,t=[]),t.push({Ze:r.Li,Un:a.Un})),n.Tr==I.NaviRoadEntry_FORWARD&&((f=[]).push({Ze:n.mr,Un:a.Un}),c.ne.set(r.Li,f),(f=c.ne.get(n.pr))||c.ne.set(n.pr,f=[]),f.push({Ze:r.Li,Un:e.Un})),n.Tr==I.NaviRoadEntry_BACK&&((t=[]).push({Ze:n.pr,Un:e.Un}),c.ne.set(r.Li,t),(t=c.ne.get(n.mr))||c.ne.set(n.mr,t=[]),t.push({Ze:r.Li,Un:a.Un})),r},cu:function(t,i){for(var n=i.length-1;0<=n;n--)if(i[n].Li&&0<i[n].Li)return i.splice(n+1,0,t),n+1;return-1},Xo:function(t,i,n,r){if(r)return this.Jo(t,i,n);var r=this.Js.get(t),t=new L,i=(t.Li=r.Ie(),t.Yt=i,new D),e=(i.Li=r.Le(),i.pr=n.pr,i.wr=n.wr,i.mr=t.Li,i._r=t.Yt,i.xr=[n.wr,t.Yt],new D),s=(e.Li=r.Le(),e.pr=t.Li,e.wr=t.Yt,e.mr=n.mr,e._r=n._r,e.xr=[t.Yt,n._r],[]),s=(s.push(i.Li),s.push(e.Li),t.segLinks=s,i.Rr(),e.Rr(),i.Tr=n.Tr,e.Tr=n.Tr,r.qr),o=r.Hr,s=this.cu(t,s);return this.cu(i,o),this.cu(e,o),r.oe.set(t.Li,s),n.Tr==I.NaviRoadEntry_BOTH&&((o=[]).push({Ze:n.pr,Un:i.Un}),o.push({Ze:n.mr,Un:e.Un}),r.ne.set(t.Li,o),(o=r.ne.get(n.pr))||r.ne.set(n.pr,o=[]),o.push({Ze:t.Li,Un:i.Un}),(o=r.ne.get(n.mr))||r.ne.set(n.mr,o=[]),o.push({Ze:t.Li,Un:e.Un})),n.Tr==I.NaviRoadEntry_FORWARD&&((s=[]).push({Ze:n.mr,Un:e.Un}),r.ne.set(t.Li,s),(s=r.ne.get(n.pr))||r.ne.set(n.pr,s=[]),s.push({Ze:t.Li,Un:i.Un})),n.Tr==I.NaviRoadEntry_BACK&&((o=[]).push({Ze:n.pr,Un:i.Un}),r.ne.set(t.Li,o),(o=r.ne.get(n.mr))||r.ne.set(n.mr,o=[]),o.push({Ze:t.Li,Un:e.Un})),t},lu:function(t){if(null!=t){for(var i=this.Js.get(t),n=i.qr.length-1;0<=n;n--){var r=i.qr[n];if(null==r||0<=r.Li)break;i.qr.splice(n,1)}for(var e=i.Hr.length-1;0<=e;e--){var s=i.Hr[e];if(null==s||0<=s.Li)break;i.Hr.splice(e,1)}}},vu:function(t,i){var n=t.get(i);if(n)for(var r=0;r<n.length;r++)n[r].Ze<0&&(n.splice(r,1),r--)},yu:function(t,i){for(var n=t.get(i),r=0;r<n.length;r++)this.vu(t,n[r].Ze);t.delete(i)},Bh:function(t,i,n,r,e){r.bu=Number.MAX_VALUE,r.Xs=!1,r.pu=n;for(var s=Number.MAX_VALUE,o={},u=this.Js.get(t),h=Number.MAX_VALUE,a=0;a<u.Hr.length;a++){var f,c=u.Hr[a];null==c||c.Li<0||(c.Tr==I.NaviRoadEntry_FORBID?S.gt(i,n,c.wr,c._r,o)&&(f=S.yt(i,o))<=h&&(h=f):S.gt(i,n,c.wr,c._r,o)&&(f=S.yt(i,o))<s&&(s=f,r.st=Object.assign({},o),r.yt=s,r.Ys=c,r.Xs=!0))}if(r.yt>=h)return r.yt=Number.MAX_VALUE,r.Xs=!1;if(!r.Xs)return!1;if(1!=this.Xt)for(var l={},v=0;v<u.Qr.length;v++){var y=u.Qr[v];if(null!=y&&y!=e&&(I.NaviModelPassType_DECORATE!=y.pass&&(null==e||e.pass==I.NaviModelPassType_DECORATE||!S.lt(e.Pt,y.Nr,y.Nr.length-1))))for(var d=y.Nr.length,b=0;b<d-1;b++)if(S.gt(i,n,y.Nr[b],y.Nr[b+1],l)){var p=S.yt(i,l);if(p<s)return s=p,r.zs=y,r.yt=Number.MAX_VALUE,r.Xs=!1,r.qs=I.NaviObstructType_MODEL,!1}}for(var w={},m=u.$r,_=0;_<m.length;_++){for(var x=m[_],g=m[_].Gr,O=0;O<g.length;O++)for(var j=g[O],E=0;E<j.length-1;E++)if(S.gt(i,n,j[E],j[E+1],w)){var T=S.yt(i,w);if(T<s)return s=T,r.zs=x,r.yt=Number.MAX_VALUE,r.Xs=!1,r.qs=I.NaviObstructType_EXTENT,!1}for(var M=m[_].Nr,k=0;k<M.length-1;k++)if(S.gt(i,n,M[k],M[k+1],w)){var R=S.yt(i,w);if(R<s)return s=R,r.zs=x,r.yt=Number.MAX_VALUE,r.Xs=!1,r.qs=I.NaviObstructType_EXTENT,!1}}return!0},wu:function(t,i){return t.yt-i.yt},mu:function(t,i){return i.pu-t.pu},Do:function(t){t=this.Js.get(t);if(t){for(var i=t.qr,n=t.oe,r=i.length-1;0<=r;r--){var e=i[r];if(null==e||0<=e.Li)break;n.delete(e.Li),i.splice(r,1)}for(var s=t.Hr,o=t.ue,u=s.length-1;0<=u;u--){var h=s[u];if(null==h||0<=h.Li)break;o.delete(h.Li),s.splice(u,1)}}},Fo:function(){var t,i=P(this.lh);try{for(i.s();!(t=i.n()).done;){var n,r=t.value[1],e=[],s=r.xs.ne,o=P(s);try{for(o.s();!(n=o.n()).done;){var u=n.value;u[0]<0&&e.push(u[0])}}catch(t){o.e(t)}finally{o.f()}for(var h=0;h<e.length;h++)this.yu(r.xs.ne,e[h]);for(var a=0;a<this.vh.length;a++)this.vu(s,this.vh[a])}}catch(t){i.e(t)}finally{i.f()}},$o:function(t,i,n,r,e){for(var s=[],o=0;o<r.length;o++)if(r[o].yt<S.K())return s.push(r[o]),s;var u={x:0,y:0};if(S.Ot(i,n.wr,n._r,u)&&this.xu(i,u,{},e))return(e={}).st=u,e.Xs=!0,e.Ys=n,e.pu=0,e.dist=S.yt(i,u),s.push(e),s;for(var h={x:u.x-i.x,y:u.y-i.y},a=0;a<r.length;a++){var f=r[a],c={x:f.st.x-i.x,y:f.st.y-i.y},c=270<(c=S.Rt(c,h))?c-360:c;f.pu=c}r.sort(this.mu);var l,v=null;if(r[r.length-1].pu<0)return v=r[r.length-1],s.push(v),s;for(var y=0;y<r.length;y++)if(0<r[y].pu)return v=r[y],0==y?s.push(v):(l=r[y-1],S.yt(v.st,n.wr)>S.yt(l.st,n.wr)?(s.push(l),s.push(v)):(s.push(v),s.push(l))),s;return s},gu:function(t,i,n,r,e){for(var s=r||30,o=0;o<360;o+=s){var u=new Hr;this.Bh(t,i,o,u,e),1==u.Xs&&n.push(u)}n.sort(this.wu)},Qo:function(t,i,n,r){var e=new Map,s=[];for(this.gu(t,i,s,n,r);0!=s.length;){var o=s[0],u=e.get(o.Ys.Li);u?u.push(o):((u=[]).push(o),e.set(o.Ys.Li,u)),s.splice(0,1)}return e},Lo:function(t,i){var n=new L,i=(n.Li=this.Uh(),n.Yt=Object.assign({},i),this.Js.get(t));return i.qr.push(n),i.oe.set(n.Li,i.qr.length-1),n},Ou:function(t,i,n){if(n)return this.Lo(t,i);n=new L,n.Li=this.xs.Ie(),n.Yt=Object.assign({},i),i=this.Js.get(t),t=i.qr,t=this.cu(n,t);return i.oe.set(n.Li,t),n},xu:function(t,i,n,r){for(var e,s=this.Js.get(-1),o=0;o<s.Qr.length;o++)if(null!=(e=s.Qr[o])&&e!=r&&I.NaviModelPassType_DECORATE!=e.pass)for(var u=e.Nr,h=0;h<u.length-1;h++)if(S.xt(t,i,u[h],u[h+1],n)){var a=S.yt(t,n),f=S.yt(i,n);if(!(a<=S.K()||f<=S.K()))return!1}for(var c=s.$r,l=0;l<c.length;l++){for(var v=c[l],y=v.Gr,d=0;d<y.length;d++)for(var b=y[d],p=0;p<b.length-1;p++)if(S.xt(t,i,b[p],b[p+1],n))return!1;for(var w=v.Nr,m=0;m<w.length-1;m++)if(S.xt(t,i,w[m],w[m+1],n))return!1}return!0},Ko:function(t,i,n,r,e,s){for(var o=0;o<this.co.length;o++){var u=this.co[o],h={};if(1==S.xt(u.wr,u._r,i.Yt,n.Yt,h)&&S.yt(i.Yt,h)>S.K()&&S.yt(n.Yt,h)>S.K())return null}void 0===r&&(r=I.NaviRoadEntry_BOTH),void 0===e&&(e=!0),void 0===s&&(s=!0);var a=new D;a.pr=i.Li,a.wr=i.Yt,a.mr=n.Li,a._r=n.Yt,a.xr=[i.Yt,n.Yt],this.vh.push(i.Li),this.vh.push(n.Li),a.Li=e?this.Uh():this.xs.Le(),a.Tr=r,a.Rr(),s&&this.co.push(a);this.Js.get(t).Hr.push(a);e=this.lh.get(t);return I.NaviRoadEntry_BOTH==r&&(s={Ze:n.Li,Un:a.Un},(t=e.xs.ne.get(i.Li))?t.push(s):((t=[]).push(s),e.xs.ne.set(i.Li,t)),s={Ze:i.Li,Un:a.Un},(t=e.xs.ne.get(n.Li))?t.push(s):((t=[]).push(s),e.xs.ne.set(n.Li,t))),I.NaviRoadEntry_FORWARD==r&&(s={Ze:n.Li,Un:a.Un},(t=e.xs.ne.get(i.Li))?t.push(s):((t=[]).push(s),e.xs.ne(i.Li,t))),I.NaviRoadEntry_BACK==r&&(s={Ze:i.Li,Un:a.Un},(t=e.xs.ne.get(n.Li))?t.push(s):((t=[]).push(s),e.xs.ne.set(n.Li,t))),a},tu:function(t){var i=this.Ph(t),n=this.oo.get(i);if(n)for(var r=0;r<n.length;r++){var e=n[r];if(S.lt(t,e.Nr,e.Ir))return e}return null},Uh:function(){return this.so--},Zh:function(){var t=null;if(this.kh()){if(!(t=this.Mh()))return!1;this.Eh(t)}var i=[];if(this.nr){var n=this.bh.Fu("node",this.Os),r=this.bh.Fu("node",this.gs);this.bh.Uu(),this.bh.Du(n),this.bh.Du(r)}else for(var e=0;e<this.dh.length;e++)i.push(this.dh[e].Li);this.Lh();n=new xe(this.Dh);return n.rh(this.gs.Li).sh(this.Os.Li).uh(i),n.hh(),this.hh=n.fh(),this.Fh(),this.kh()&&this.kh().Oh(this.kh().xs.$e(t.$n)),this.bh=new se(["num","id","idx","node"]),this.nr=!0}}),a);function Te(t,i){var n,r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,i){if(t){if("string"==typeof t)return Me(t,i);var n=Object.prototype.toString.call(t).slice(8,-1);return"Map"===(n="Object"===n&&t.constructor?t.constructor.name:n)||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Me(t,i):void 0}}(t))||i&&t&&"number"==typeof t.length)return r&&(t=r),n=0,{s:i=function(){},n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:i};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var e,s=!0,o=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return s=t.done,t},e:function(t){o=!0,e=t},f:function(){try{s||null==r.return||r.return()}finally{if(o)throw e}}}}function Me(t,i){(null==i||i>t.length)&&(i=t.length);for(var n=0,r=new Array(i);n<i;n++)r[n]=t[n];return r}function ke(t,i){for(var n=0;n<i.length;n++){var r=i[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Re(t,i,n){return i&&ke(t.prototype,i),n&&ke(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}var a=Re(function t(){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function");this.Gh=[],this.Xt=null}),Ae=(Object.assign(a.prototype,{Wh:function(t){var i,n=0,r=Te(t);try{for(r.s();!(i=r.n()).done;)for(var e=i.value,s=e[1],o=s.$r,u=0;u<o.length;u++){var h=o[u].Li,a=s.Ke(h),f=new Ee(n++,a);f.Xt=this.Xt,f.Cn=e[0],this.Gh.push(f)}}catch(t){r.e(t)}finally{r.f()}},Vh:function(t){for(var i=0;i<this.Gh.length;i++)t&&t(this.Gh[i])},Un:function(){return this.Gh.length},Su:function(t){return this.Gh[t]},Yh:function(t,i){var n,r=this.Gh;for(n in r){var e=r[n];if(t==e.Cn&&e.Sh(i))return e}return null},Xh:function(t){var i,n=this.Gh;for(i in n){var r=n[i];if(r.Li==t)return r}return null}}),a);function Se(t,i){for(var n=0;n<i.length;n++){var r=i[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ne(t,i,n){return i&&Se(t.prototype,i),n&&Se(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}var a=Ne(function t(){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function");this.qh=null,this.Hh=[]}),Ie=(Object.assign(a.prototype,{vn:function(t){if(0!=t.length){this.qh=t[0];for(var i=this.qh,n=1;n<t.length;n++)i.Nh(t[n]),i=t[n];i.Nh(null)}},Qh:function(t,i){var n=this.qh;for(n.Oh(t);n.kh();){if(!n.Zh())return!1;this.Hh.push({Cn:n.Cn,Ui:n.fh()}),n=n.Ih()}n.Eh(i),n.Zh(),this.Hh.push({Cn:n.Cn,Ui:n.fh()})}}),a);function Le(t,i){for(var n=0;n<i.length;n++){var r=i[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var a=function(){function e(t,i,n,r){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");this.$h=t,this.Jh=i,this.Kh=n,this.Gh=r,this.ta={},this.Xt}var t,i,n;return t=e,(i=[{key:"routes",get:function(){return this.Hh},set:function(t){this.Hh=t}},{key:"failInsertedPts",get:function(){return this.ta}}])&&Le(t.prototype,i),n&&Le(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),De=(Object.assign(a.prototype,{ia:function(){for(var t={},i=0;i<this.Kh.length;i++){var n=this.Kh[i],r=this.Gh.Yh(n.level,n);r?(t[r.Li]||(t[r.Li]=[]),t[r.Li].push(n)):(null==this.ta[n.level]&&(this.ta[n.level]=[]),this.ta[n.level].push(n))}this.Kh=t},na:function(){this.ra=[];for(var t=0;t<this.Gh.Un();t++)for(var i,n,r=this.Gh.Su(t),e=0;e<this.Gh.Un();e++)t!=e&&(i=this.Gh.Su(e),(n=r.Ah(i)).related&&this.ra.push([r.Li,i.Li,n.dist]))},ea:function(){this.bn(),this.na(),this.ia();var t,i=[];for(t in this.Kh)i.push(parseInt(t));var n=this.Gh.Yh(this.$h.level,this.$h).Li,r=this.Gh.Yh(this.Jh.level,this.Jh).Li,e=new xe(this.ra),n=(e.rh(n),e.sh(r),i.indexOf(n)),s=(-1!=n&&i.splice(n,1),-1!=(n=i.indexOf(r))&&i.splice(n,1),e.uh(i),e.hh(),e.fh());if(2==s.route.length&&s.route[0]==s.route[1]&&(s.route=[s.route[0]]),s.dist!=1/0){for(var o=[],u=0;u<s.route.length;u++){var h=this.Gh.Xh(s.route[u]);if(-1==o.indexOf(h)&&h._h(this.Kh[s.route[u]]),o.push(h),0<h.yh.length){null==this.ta[h.fid]&&(this.ta[h.fid]=[]);for(var a=0;a<h.yh.length;a++)this.ta[h.fid].push(h.yh[a])}}this.sa=new Ie,this.sa.vn(o),this.sa.Qh(this.$h,this.Jh),this.Hh=this.sa.Hh}},bn:function(){this.Gh.Vh(function(t){t.bn(),t.wh=new ae,t.gs=null,t.Os=null,t.nr=!1,t.dh=[],t.yh=[]})}}),a);function Fe(t){return function(t){if(Array.isArray(t))return Ce(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||Pe(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function M(t,i){var n,r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=Pe(t))||i&&t&&"number"==typeof t.length)return r&&(t=r),n=0,{s:i=function(){},n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:i};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var e,s=!0,o=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return s=t.done,t},e:function(t){o=!0,e=t},f:function(){try{s||null==r.return||r.return()}finally{if(o)throw e}}}}function Pe(t,i){if(t){if("string"==typeof t)return Ce(t,i);var n=Object.prototype.toString.call(t).slice(8,-1);return"Map"===(n="Object"===n&&t.constructor?t.constructor.name:n)||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ce(t,i):void 0}}function Ce(t,i){(null==i||i>t.length)&&(i=t.length);for(var n=0,r=new Array(i);n<i;n++)r[n]=t[n];return r}function Ue(t,i){for(var n=0;n<i.length;n++){var r=i[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var a=function(){function i(t){if(!(this instanceof i))throw new TypeError("Cannot call a class as a function");this.Qt=t,this.wr=null,this.oa=null,this._r=null,this.ua=null,this.ha=null,this.Ts=g.MODULE_SHORTEST,this.aa=m.PRIORITY_DEFAULT,this.fa=new Map,this.ca=new Map,this.la=null,this.va=null,this.ya=new Map,this.da=new Map,this.ba=new Map,this.pa=[],this.wa=[],this.ma=[],this._a=[],this.xa=[],this.ga=[],this.Ui=[],this.Oa=1,this.ja=.1,this.Ea=1,this.Ta=10,this.Ma=.1,this.ka=1,this.Ra=10,this.Aa=.1,this.Sa=1,this.Na=10,this.Ia=1,this.ys=null,this.La=null,this.Da=null,this.Fa=!1,this.Hs=null,this.Qs=null,this.Pa=null,this.Ca=[],this.go=!0,this.Oo=new Map,this.Xt=t.type,this.barrierFree=!1,this.Ua=!1}var t,n,r;return t=i,(n=[{key:"assginedInfos",get:function(){return this.Ca},set:function(t){this.Ca=t}},{key:"passPts",set:function(t){this.Kh=t}},{key:"failedInsertedPts",get:function(){return this.ta}},{key:"toDoors",get:function(){return this.Fa},set:function(t){this.Fa=t}},{key:"obstruct",get:function(){return this.go},set:function(t){this.go=t}}])&&Ue(t.prototype,n),r&&Ue(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(),Be=(Object.assign(a.prototype,{Sn:function(t){if(t&&t.scene&&t.floors){this.ys=t.scene,this.La=new Dr;t=t.floors;if(0!=t.size){this.Ba(t),this.Za();var i,n=M(t);try{for(n.s();!(i=n.n()).done;){var r=i.value,e=r[1].gid;if(null!=e){var s=r[1].naviAccessible;if(s&&s[0]&&0<s[0].naviNodes.length){this.Ua=!0;break}}}}catch(t){n.e(t)}finally{n.f()}this.Ua&&(this.Ba(t),this.Za()),this.Da=new Ae,this.Da.Xt=this.Xt,this.Da.Wh(this.fa)}}},mi:function(){this.Qt=null,this.ys=null,this.La&&(this.La.mi(),this.La=null);var t,i=M(this.fa);try{for(i.s();!(t=i.n()).done;)t.value[1].mi()}catch(t){i.e(t)}finally{i.f()}this.fa.clear(),this.fa=null,this.la.mi(),this.la=null;var n,r=M(this.ya);try{for(r.s();!(n=r.n()).done;)n.value[1].mi()}catch(t){r.e(t)}finally{r.f()}if(this.ya.clear(),this.ya=null,this.ba.clear(),this.ba=null,this.pa=null,this.ma=null,this.Ua){var e,s=M(this.ca);try{for(s.s();!(e=s.n()).done;)e.value[1].mi()}catch(t){s.e(t)}finally{s.f()}this.ca.clear(),this.ca=null,this.va.mi(),this.va=null;var o,u=M(this.da);try{for(u.s();!(o=u.n()).done;)o.value[1].mi()}catch(t){u.e(t)}finally{u.f()}this.da.clear(),this.da=null,this.wa=null,this._a=null}this.xa=null,this.ga=null,this.Ui=null},Ga:function(t,i){this.bn();for(var n=new Map,r=0;r<this.Kh.length;r++){var e=this.Kh[r].order,s=(void 0===e&&(e=Number.MAX_VALUE),n.get(e));s||n.set(e,s=[]),s.push(this.Kh[r])}for(var o,u=Array.from(n),h=(u.sort(function(t,i){return t[0]-i[0]}),t),a=i,f=0,c=(this.Ui=[],this.ta={},null),l=null,v=0;v<u.length;v++){var y,d,b=u[v][1],p=(this.bn(),new De(h,a,b,this.Da));if(p.Xt=this.Xt,p.ea(),null==(c=p.routes))return R.ROUTE_FAILED_OUTLINE;for(y in o=p.failInsertedPts,this.Wa(p.failInsertedPts)!=b.length&&(p=this.Va(c),(b=this.Ui).push.apply(b,Fe(p[0])),p=(b=(l=p[1])[0]).Ui,h=Object.assign({level:b.Cn,x:t.x,y:t.y},p[0].Yt),f++),o)this.ta[y]||(this.ta[y]=[]),(d=this.ta[y]).push.apply(d,Fe(o[y]))}return 0==f?this.Ui=c:(i=this.Ui).push.apply(i,Fe(l)),this.Ui=this.Ya(this.Ui),R.ROUTE_SUCCESS},Ya:function(t){for(var i,n=-1,r=[],e=null,s=0;s<t.length;s++)n!=t[s].Cn?(e=t[s],r.push(e),n=t[s].Cn):(i=e.Ui).push.apply(i,Fe(t[s].Ui));return r},Wa:function(t){if(0==Object.keys(t).length)return 0;var i,n=0;for(i in t)n+=t[i].length;return n},Va:function(t){for(var i=[-1,-1],n=t.length-1;0<=n;n--){for(var r=t[n].Ui,e=r.length-1;0<=e;e--)if(r[e].Ch){i[1]=e;break}if(-1!=i[1]){i[0]=n;break}}var s=[];if(-1!=i[0]&&-1!=i[1]){s[0]=[],s[1]=[];for(var o=0;o<t.length;o++){var u=t[o];if(o<i[0])s[0].push(u);else if(o>i[0])s[1].push(u);else{for(var h=u.Ui,a=[{Cn:u.Cn,Ui:[]},{Cn:u.Cn,Ui:[]}],f=0;f<h.length;f++)(f<i[1]?a[0]:a[1]).Ui.push(h[f]);s[0].push(a[0]),s[1].push(a[1])}}}else s.push(t);return s},za:function(t,i){return this.bn(),this.Xa=new De(t,i,this.Kh,this.Da),this.Xa.ea(),this.Ui=this.Xa.routes,this.ta=this.Xa.failInsertedPts,R.ROUTE_SUCCESS},qa:function(t){for(var i=0,n=0;n<t.length-1;n++)i+=Math.abs(t[n].Cn-t[n+1].Cn);return{dist:i,seq:t}},Ha:function(t){for(var i=[],n=0;n<t.length;n++)i.push(this.qa(t[n]));return i.sort(function(t,i){return t.dist-i.dist}),i},Qa:function(t){t.sort(function(t,i){return t.seq.length-i.seq.length})},Io:function(){for(var t in this.Ca){var t=parseInt(t),i=(this.Ua&&this.barrierFree?this.da:this.ya).get(t).get(t);i.assignedPts=this.Ca[t],i.Io(),this.Ui.push({Cn:t,Ui:i.Us()})}},hh:function(t,l,i,v,y,n){var d=this,b=(this.bn(),null),r=(b=this.Ua&&this.barrierFree?this.da:this.ya).get(t);if(!r)return R.ROUTE_FAILED_NO_DATA_START;r=r.Yo(l);if(!r)return R.ROUTE_FAILED_NO_DATA_START;this.Hs=r.zs;var e=b.get(i);if(!e)return R.ROUTE_FAILED_NO_DATA_DEST;e=e.Yo(v);if(!e)return R.ROUTE_FAILED_NO_DATA_DEST;this.Qs=e.zs,this.Ui=[],this.oa=t,this.wr=l,this.ua=i,this._r=v;var s=r.gr,o=e.gr,p=r.zs,w=e.zs;if(0===s||0===o)return R.ROUTE_FAILED_CANNOT_ARRIVE;function u(){d.Ui=[];for(var t=[],i=[d.wr],n=0;n<d.xa.length-1;n++){var r=[],e=[];if(null==d.Xt||0===d.Xt){if(!d.$a(d.xa[n],d.xa[n+1],i[i.length-1],r,e))return R.ROUTE_FAILED_CANNOT_ARRIVE}else if(!d.Ja(d.xa[n],d.xa[n+1],i[i.length-1],r,e))return R.ROUTE_FAILED_CANNOT_ARRIVE;for(var s=!1,o=0;o<r.length;o++){var u=r[o].br,h=e[o].br,a=r[o].Cn,f=e[o].Cn;if(m=0==n?((c=b.get(a)).Hs=p,c.Cs(l,u,y)):b.get(a).Cs(t[t.length-1],u,y),R.ROUTE_SUCCESS==m){var c=b.get(a).Us();if(d.Ui.push({Cn:a,Ui:c}),t.push(h),i.push(h.Yt),s=!0,d.xa.length-2==n){u=b.get(f);if(u.Qs=w,m=u.Cs(h,v,y),R.ROUTE_SUCCESS!=m){d.Ui.splice(d.Ui.length-1,1),s=!1,i.splice(i.length-1,1),t.splice(t.length-1,1);continue}a=u.Us();d.Ui.push({Cn:f,Ui:a})}if(R.ROUTE_SUCCESS==m)break}}if(!s)return R.ROUTE_FAILED_CANNOT_ARRIVE}return R.ROUTE_SUCCESS}var m=null;this.Ts=y,this.Ka(n);if(t===i&&s===o){r=b.get(t);if(r.Hs=p,r.Qs=w,(m=r.Cs(l,v,y))!==R.ROUTE_SUCCESS){for(var h=[],a=null,a=this.Ua?this.wa:this.pa,f=0;f<a.length;f++)a[f].Cn==t&&a[f].gr==s&&h.push(a[f]);e=this.tf(h,h[0],1);if(0==e.length)return R.ROUTE_FAILED_OUTLINE;for(var c=this.Ha(e),_=0;_<c.length;_++){this.xa=c[_].seq;var x=u();if(x==R.ROUTE_SUCCESS)return x}return R.ROUTE_FAILED_CANNOT_ARRIVE}n=r.Us();this.Ui.push({Cn:t,Ui:n})}else{if(this.if(t,s,i,o,this.wr,this._r)!=R.ROUTE_SUCCESS)return R.ROUTE_FAILED_OUTLINE;this.xa.reverse();e=u();if(R.ROUTE_SUCCESS!=e){for(var g=null,O=null,j=null,j=this.Ua&&this.barrierFree?this.wa:this.pa,E=0;E<j.length;E++)j[E].Cn==t&&j[E].gr==s&&(g=j[E]),j[E].Cn==i&&j[E].gr==o&&(O=j[E]);r=[];if(r.push([g]),this.nf(g,O,r),0==r.length)return R.ROUTE_FAILED_OUTLINE;var T=this.Ha(r);this.Qa(T);for(var M=0;M<T.length;M++){this.xa=T[M].seq;var k=u();if(k==R.ROUTE_SUCCESS)return k}return R.ROUTE_FAILED_CANNOT_ARRIVE}}return R.ROUTE_SUCCESS},rf:function(){if(this.Fa&&(this.Pa=null,this.Qs&&0<this.Ui.length)){for(var t,i=this.Ui[this.Ui.length-1].Ui,n={x:-1,y:-1},r=i.length-1;0<r;r--){var e=i[r],s=i[r-1];if(S.At(e.Yt,s.Yt,this.Qs.Nr,n)){t=r;break}}i.splice(t);var o=new L;o.Li=-1,o.Yt=n,i.push(o),this.Pa=n}for(var u=[],h=0;h<this.Ui.length;h++)1<this.Ui[h].Ui.length&&u.push(this.Ui[h]);for(var a=[],f=0;f<u.length;f++){this.ef(u[f]);for(var c=u[f],l=c.Cn,v=c.Ui,y=[],d=0,b=0;b<v.length;b++)y.push(v[b].Yt),b!=v.length-1&&(d+=S.yt(v[b].Yt,v[b+1].Yt));var c=new $n;c.Cn=l,c.Zn=v,c.Bn=y,c.Un=d,a.push(c),f!=u.length-1&&(l=this.sf(u[f]),c=this.uf(u[f+1]),a.push(l),a.push(c))}return a},Uo:function(t){for(var i=new Map,n=0;n<t.length;n++){var r=t[n],e=i.get(r.Cn);e||i.set(r.Cn,e=[]),e.push(r)}var s,o=M(i);try{for(o.s();!(s=o.n()).done;){var u=s.value,h=this.Oo.get(u[0]);h&&!this.hf(u[1],h)||(this.ya.get(u[0]).Uo(u[1]),this.da.get(u[0]).Uo(u[1]),this.Oo.set(u[0],u[1]),0)}}catch(t){o.e(t)}finally{o.f()}},af:function(){var t,i=M(this.Oo);try{for(i.s();!(t=i.n()).done;){var n=t.value;this.ya.get(n[0]).af()}}catch(t){i.e(t)}finally{i.f()}this.Oo.clear()},hf:function(t,i){if(t.length!=i.length)return!0;for(var n=0;n<t.length;n++){for(var r=!1,e=0;e<i.length;e++)i[e].ff(t[n])&&(r=!0);if(!r)return!0}return!1},ef:function(t){if(t&&t.Ui){var i=t.Ui,n=i.length;if(n&&!(n<2)){var r=[],e=(r.push(i[0]),i[0]),s=i[n-1];S.yt(e.Yt,s.Yt),S.K();for(var o=1;o<n-1;o++){var u=i[o];null!=e&&S.yt(e.Yt,u.Yt)<S.K()||null!=s&&S.yt(s.Yt,u.Yt)<S.K()||r.push(u)}r.push(s);for(var n=r.length,h=new Array(n),a=0;a<n;a++)h[a]=0;for(var f=1;f<n-1;f++){for(var c=r[f],l=f-1;0!=h[l];)l--;var v=r[l],y=r[f+1];S.vt(c.Yt,v.Yt,y.Yt)&&(h[f]=1)}for(var d=[],b=0;b<n;b++)0==h[b]&&d.push(r[b]);t.Ui=d}}},bn:function(){this.xa=[],this.ga=[];var t,i=M(this.ya);try{for(i.s();!(t=i.n()).done;){var n=t.value;n[1].bn(),n[1].obstruct=this.go}}catch(t){i.e(t)}finally{i.f()}var r,e=M(this.da);try{for(e.s();!(r=e.n()).done;){var s=r.value;s[1].bn(),s[1].obstruct=this.go}}catch(t){e.e(t)}finally{e.f()}},cf:function(n,r){var e=this,t=null;if(this.Ua&&this.barrierFree){if(this.da.size<=0)return null;t=this.da}else{if(this.ya.size<=0)return null;t=this.ya}t=t.get(n.level);if(!t)return null;var i=t.xs;if(!i)return null;var s,o=[],u=(o.push.apply(o,Fe(i.Hr)),M(t.Js));try{for(u.s();!(s=u.n()).done;){var h=s.value;o.push.apply(o,Fe(h[1].Hr))}}catch(t){u.e(t)}finally{u.f()}var a={},f=i.ce(n),c={distance:Number.MAX_VALUE,road:null,coords:{level:n.level}},t=null;return o.length&&(o.forEach(function(t){var i;t.Tr!==I.NaviRoadEntry_FORBID&&(r?0<=r.indexOf(t.Er)&&f===t.gr&&(i=S.pt(n,t.wr,t._r,a))<c.distance&&(c.distance=i,c.road=t,c.angle=e.lf(t.wr,t._r),Object.assign(c.coords,a)):f===t.gr&&(i=S.pt(n,t.wr,t._r,a))<c.distance&&(c.distance=i,c.road=t,c.angle=e.lf(t.wr,t._r),Object.assign(c.coords,a)))}),t=c),t},lf:function(t,i){var n=new rr(0,0,1),t=new rr(t.x,0,t.y),i=new rr(i.x,0,i.y).clone().sub(t).normalize(),t=i.angleTo(n)*S.it();return 0<i.clone().cross(n).y?360-t:t},Ba:function(t){this.Ua?this.ca=new Map:this.fa=new Map,this.La.ds(this.ys);var i,n=M(t);try{for(n.s();!(i=n.n()).done;){var r=i.value,e=r[1].gid;if(null!=e){var s=r[1].geo[0],o=r[1].biz[0],u=null,u=(1==this.Xt?r[1].naviDrive:this.Ua?r[1].naviAccessible:r[1].navi)[0],h=this.La._s(e,s,o,u);if(0!=h.naviNodes.length&&0!=h.naviSegments.length){var a=new Map,f=this.vf(h,a),c=this.yf(h),l=this.df(h),v=this.bf(h),y=this.pf(h),d=(this.wf(y,f,u,a),new jr(f,c,!0,1));d.Cn=e,0!=v.length&&(d.$r=v),0!=l.length&&(d.Kr=l),0!=y.length&&(d.Qr=y);for(var b=0;b<c.length;b++)c[b].gr=d.ce(c[b].wr);(0==this.Ua?this.fa:this.ca).set(h.level,d)}}}}catch(t){n.e(t)}finally{n.f()}},vf:function(r,e){var t,s=[];for(t in r.naviNodes)(function(t){var i=r.naviNodes[t];if(null==i.nodeId)return;var n=new L;n.Li=i.nodeId,n.Yt={x:parseFloat(i.geoArr.x.toFixed(3)),y:parseFloat(i.geoArr.y.toFixed(3))},n.er=i.nodeType,n.sr=i.liftType,n.$n=i.liftFlag,n.or=i.liftEntry,i.accessible&&(n.mf=i.accessible),i.linkSegArr.forEach(function(t){n.Qn.push(parseInt(t))}),i.liftFloorArr.forEach(function(t){n.Hn.push(parseInt(t))}),s.push(n),e.set(i.nodeId,t)})(t);return s},yf:function(t){var i,n=[];for(i in t.naviSegments){var r,e=t.naviSegments[i],s=e.geoArr;s&&((r=new D).Li=e.segmentId,r.pr=e.snode,r.wr={x:parseFloat(s[0].x.toFixed(3)),y:parseFloat(s[0].y.toFixed(3))},r.mr=e.enode,r._r={x:parseFloat(s[1].x.toFixed(3)),y:parseFloat(s[1].y.toFixed(3))},r.Un=e.length,r.Tr=e.entry,r.Er=e.rank,n.push(r))}return n},bf:function(t){for(var i=[],n=0,r=t.extentLayer.length;n<r;n++){var e=t.extentLayer[n],s=(s=e.geoArr)||[],s=new mr(e.eid,t.gid,0,s,e.Pt,e.holes);s.fid=e.fid,i.push(s)}return i},pf:function(t){for(var i=[],n=0,r=t.modelLayer.length;n<r;n++){var e=t.modelLayer[n],s=(s=e.geoArr)||[],s=new mr(e.eid,t.gid,0,s,e.Pt,e.holes);s.fid=e.fid,s.pass=e.pass,i.push(s)}return i},df:function(t){for(var i=[],n=0,r=t.naviZones.length;n<r;n++){var e=t.naviZones[n],e=new pr(e.Li,t.gid,e.type,e.geoArr);i.push(e)}return i},wf:function(t,i,n,r){for(var e=new Map,s=0;s<t.length;s++){var o=t[s];e.set(o.Li,s)}for(var u=0;u<n.naviModels.length;u++)for(var h=n.naviModels[u],a=h.modelid,f=t[e.get(a)],c=0;c<h.doorids.length;c++){var l=h.doorids[c],l=i[r.get(l)],l=(f.Wr.push(l),h.nodetypes[c]),v=h.entrytypes[c];f.Vr.push(l),f.Yr.push(v)}},_f:function(){if(!(this.fa.size()<=0)){var t,i={},n=M(this.fa);try{for(n.s();!(t=n.n()).done;){var r,e=t.value[1],s=[];for(r in e.Ee(I.NaviLiftType_Escalator,s),s){var o,u=s[r];u.$n&&(i[o=u.$n]?i[o]=i[o].concat(u.Hn):i[o]=u.Hn)}}}catch(t){n.e(t)}finally{n.f()}var h,a=M(this.fa);try{for(a.s();!(h=a.n()).done;){var f,c=h.value[1],l=[];for(f in c.Ee(I.NaviLiftType_Escalator,l),l){var v,y=l[f];y.$n&&(i[v=y.$n]&&(y.Hn=i[v]))}}}catch(t){a.e(t)}finally{a.f()}}},Za:function(){this.xf(),this.gf();var t,i=new jr(this.pa,this.ma),n=(this.la=new Br(i),M(this.fa));try{for(n.s();!(t=n.n()).done;){var r=t.value,e=new Kr(r[1]);e.Xt=this.Xt,this.ya.set(r[0],e)}}catch(t){n.e(t)}finally{n.f()}if(this.Ua){this.xf(),this.gf();var s,i=new jr(this.wa,this._a),o=(this.va=new Br(i),M(this.ca));try{for(o.s();!(s=o.n()).done;){var u=s.value;this.da.set(u[0],new Kr(u[1]))}}catch(t){o.e(t)}finally{o.f()}}},xf:function(){this.Ua?this.wa=[]:this.pa=[];var t,i=0,n=M(this.Ua?this.ca:this.fa);try{for(n.s();!(t=n.n()).done;)for(var r=t.value,e=r[1],s=e.$r,o=0;o<s.length;o++){var u=s[o],h=new Nr;h.Li=i++,h.Cn=r[0],h.gr=u.Li,h.Ps=u;for(var a=0;a<e.qr.length;a++){var f,c,l=e.qr[a];l.sr!=I.NaviLiftType_NULL&&S.lt(l.Yt,u.Nr,u.Ir)&&(f=new vr,c=e.be(l.Yt),f.dr=c,f.fr(l),f.Cn=r[0],f.br=l,f.sr=l.sr,f.$n=l.$n,this.Ua?1===l.mf&&(f.mf=l.mf,h.ts.push(f)):(1===l.mf&&(f.mf=l.mf),h.ts.push(f)))}(this.Ua?this.wa:this.pa).push(h)}}catch(t){n.e(t)}finally{n.f()}},gf:function(){for(var t=null,t=this.Ua?this.wa:this.pa,i=[],n=0;n<t.length;n++)for(var r=t[n],e=0;e<t.length;e++){var s,o,u=t[e];n!=e&&(o=void 0,null!=(o=null==this.Xt||0==this.Xt?this.Of(r,u):this.jf(r,u))&&(o*=0==(s=Math.abs(r.Cn-u.Cn))?1:s,(s=new D).pr=r.Li,s.mr=u.Li,s.Un=o,s.Tr=I.NaviRoadEntry_FORWARD,i.push(s)))}this.Ua?this._a=i:this.ma=i},Of:function(t,i){for(var n=Number.MAX_VALUE,r=!1,e=t.Cn,s=i.Cn,o=e<s?I.NaviLiftEntry_DOWN:I.NaviLiftEntry_UP,u=0;u<t.ts.length;u++){var h=t.ts[u],a=h.or;if(a!=I.NaviLiftEntry_FORBID&&a!=o){var f=h.sr;if(m.PRIORITY_LIFTONLY==this.aa){if(I.NaviLiftType_Lift!=f)continue}else if(m.PRIORITY_ESCALATORONLY==this.aa){if(I.NaviLiftType_Escalator!=f)continue}else if(m.PRIORITY_STAIRONLY==this.aa){if(I.NaviLiftType_Stair!=f)continue}else if(m.PRIORITY_ACCESSIBLEONLY==this.aa&&I.NaviLiftType_Accessible!=f)continue;if(f==I.NaviLiftType_Stair||-1!=h.Hn.indexOf(s))for(var c=0;c<i.ts.length;c++){var l=i.ts[c];if(null!=l&&h.$n==l.$n)if(m.PRIORITY_LIFTFIRST==this.aa||m.PRIORITY_DEFAULT==this.aa){if(I.NaviLiftType_Lift==f||I.NaviLiftType_Accessible==f)return this.ja;if(I.NaviLiftType_Escalator==f){l=this.ka;l<n&&(n=l),r=!0;break}if(I.NaviLiftType_Stair==f){l=this.Na;l<n&&(n=l),r=!0;break}}else if(m.PRIORITY_ESCALATORFIRST==this.aa){if(I.NaviLiftType_Lift==f||I.NaviLiftType_Accessible==f){l=this.Ea;l<n&&(n=l),r=!0;break}if(I.NaviLiftType_Escalator==f)return this.Ma;if(I.NaviLiftType_Stair==f){l=this.Na;l<n&&(n=l),r=!0;break}}else if(m.PRIORITY_STAIRFIRST==this.aa){if(I.NaviLiftType_Lift==f){l=this.Ea;l<n&&(n=l),r=!0;break}if(I.NaviLiftType_Escalator==f||I.NaviLiftType_Accessible==f){l=this.Ef;l<n&&(n=l),r=!0;break}if(I.NaviLiftType_Stair==f)return this.Aa}else{if(m.PRIORITY_LIFTFIRST1==this.aa||m.PRIORITY_STAIRFIRST1==this.aa||m.PRIORITY_ESCALATORFIRST1==this.aa)return this.Oa;if(m.PRIORITY_LIFTONLY==this.aa||m.PRIORITY_ESCALATORONLY==this.aa||m.PRIORITY_STAIRONLY==this.aa||m.PRIORITY_ACCESSIBLEONLY==this.aa)return this.Oa}}}}return r?n:null},jf:function(t,i){for(var n=Number.MAX_VALUE,r=!1,e=t.Cn<i.Cn?I.NaviLiftEntry_DOWN:I.NaviLiftEntry_UP,s=0;s<t.ts.length;s++){var o=t.ts[s],u=o.or;if(u!=I.NaviLiftEntry_FORBID&&u!=e)for(var h=0;h<i.ts.length;h++){var a=i.ts[h];if(o.$n==a.$n){n=this.Ia,r=!0;break}}}return r?n:null},Tf:function(t,i){for(var n=0;n<i.length;n++)if(i[n].$n==t)return i[n];return null},Ka:function(t){if(1==this.Xt){if(this.la)return}else if(this.barrierFree){if(this.aa===t&&this.va)return}else if(this.aa===t&&this.la)return;this.aa=t,this.barrierFree?(this.gf(),t=new jr(this.wa,this._a),this.va=new Br(t)):(this.gf(),t=new jr(this.pa,this.ma),this.la=new Br(t))},uf:function(t){var i=t.Ui,n=new $n;return n.Cn=t.Cn,n.Zn.push(i[0]),n.Bn.push(i[0].Yt),n.Un=0,n},sf:function(t){var i=t.Ui,n=new $n;return n.Cn=t.Cn,n.Zn.push(i[i.length-1]),n.Bn.push(i[i.length-1].Yt),n.Un=0,n},Mf:function(t,i){for(var n=null,n=this.Ua&&this.barrierFree?this.wa:this.pa,r=0;r<n.length;r++)if(n[r].Cn==t&&n[r].gr==i)return n[r];return null},if:function(t,i,n,r,e,s){var o,t=this.Mf(t,i),i=this.Mf(n,r),n=null;if((r=(n=this.Ua&&this.barrierFree?this.va:this.la).Cs(t,i,null,e,s))!=R.ROUTE_SUCCESS)return r;o=n.Us(),this.xa=[];for(var u=0;u<o.length;u++)this.xa.push(o[u]);return r},kf:function(t,i){return t.sr==I.NaviLiftType_Lift&&i.sr==I.NaviLiftType_Lift?t.ir-i.ir:t.sr==I.NaviLiftType_Lift?-1:i.sr==I.NaviLiftType_Lift?1:t.ir-i.ir},Rf:function(t,i){return t.sr==I.NaviLiftType_Escalator&&i.sr==I.NaviLiftType_Escalator?t.ir-i.ir:t.sr==I.NaviLiftType_Escalator?-1:i.sr==I.NaviLiftType_Escalator?1:t.ir-i.ir},Af:function(t,i){return t.sr==I.NaviLiftType_Stair&&i.sr==I.NaviLiftType_Stair?t.ir-i.ir:t.sr==I.NaviLiftType_Stair?-1:i.sr==I.NaviLiftType_Stair?1:t.ir-i.ir},Sf:function(t,i){if(null==t)return!1;for(var n=0;n<t.length;n++)if(t[n].Li==i.Li)return!0;return!1},Nf:function(t,i){if(null==t)return!1;for(var n=0;n<t.length;n++)if(t[n].Ze==i.Li)return!0;return!1},tf:function(t,i,n){var r=this.la.xs.ne;if(0==r.size)return[];var e=t.length-1,s=r.get(t[e].Li);if(null==s)return[];if(0==n)return this.Nf(s,i)?(t.push(i),t):[];for(var o=[],u=0;u<s.length;u++){var h,a=s[u];this.Sf(t,a)||a.Ze==i.Li||(h=t.concat(),a=this.la.xs.Re(a.Ze),h.push(this.la.xs.qr[a]),0!=(a=this.tf(h,i,n-1)).length&&o.push(a))}return o},nf:function(t,i,n){var r=this.la.xs.ne;if(0!=r.size){for(var e=-1,s=0;s<n.length;s++)n[s].indexOf(t)==n[s].length-1&&(e=s);if(-1!=e){var o=n[e],u=(n.splice(e,1),r.get(t.Li));if(null!=u)for(var h=0;h<u.length;h++){var a,f=this.pa[u[h].Ze];this.Sf(o,f)||((a=[]).push.apply(a,Fe(o)),a.push(f),n.push(a),f.Li!=i.Li&&this.nf(f,i,n))}}}},If:function(t,i,n){for(var r=t.ts,e=n.ts,s=0;s<r.length;s++){var o=r[s];o.ir=S.distanceOfTwoPoints(o.Yt,i)}m.PRIORITY_DEFAULT==this.aa||m.PRIORITY_LIFTONLY==this.aa||m.PRIORITY_LIFTONLY==this.aa?r.sort(this.kf):m.PRIORITY_ESCALATORFIRST==this.aa||m.PRIORITY_ESCALATORONLY==this.aa?r.sort(this.Rf):m.PRIORITY_STAIRFIRST!=this.aa&&m.PRIORITY_STAIRONLY!=this.aa||r.sort(this.kf);for(var u=null,h=null,a=!1,f=0;f<r.length;f++){for(var c=r[f],l=c.$n,v=0;v<e.length;v++)if(e[v].$n==l){u=c,h=e[v],a=!0;break}if(a)break}return null==u||null==h?null:{startLiftNodes:u,endLiftNodes:h}},Lf:function(t,i,n,r,e){this.ha=this.ya.get(t.Cn).xs.be(n);for(var s=t.queryLiftNodes(this.ha,n,this._r,this.aa),o=0;o<s.length;o++){var u=s[o];if(I.NaviLiftType_Stair!=u.sr)if(-1==u.Hn.indexOf(i.Cn))continue;for(var h=0;h<i.ts.length;h++){var a=i.ts[h];if(u.$n==a.$n){r.push(u),e.push(a);break}}}return 0==r.length},$a:function(n,t,i,r,e){this.Ua&&this.barrierFree?this.ha=this.da.get(n.Cn).xs.be(i):this.ha=this.ya.get(n.Cn).xs.be(i);var s=Math.abs(n.Cn-t.Cn),o=[];function u(t,i){t=n.es(t,i,h);o.push.apply(o,Fe(t))}var h=[];if(0==this.Ua&&1==this.barrierFree)for(var a=0;a<n.ts.length;a++)1==n.ts[a].mf&&h.push(n.ts[a]);else h=n.ts;for(var f=0;f<h.length;f++){var c=h[f];c.ir=S.yt(c.Yt,this._r)+S.yt(c.Yt,i)}var l,v=n.Ps.Bt.size,v=v.x+v.y,y=(m.PRIORITY_LIFTONLY!==this.aa&&m.PRIORITY_ESCALATORONLY!==this.aa&&m.PRIORITY_STAIRONLY!==this.aa&&m.PRIORITY_ACCESSIBLEONLY!==this.aa||(l=null,m.PRIORITY_LIFTONLY===this.aa&&(l=I.NaviLiftType_Lift),m.PRIORITY_ESCALATORONLY===this.aa&&(l=I.NaviLiftType_Escalator),m.PRIORITY_STAIRONLY===this.aa&&(l=I.NaviLiftType_Stair),m.PRIORITY_ACCESSIBLEONLY===this.aa&&(l=I.NaviLiftType_Accessible),o=n.es(l,null,h)),m.PRIORITY_LIFTFIRST!==this.aa&&m.PRIORITY_ESCALATORFIRST!==this.aa&&m.PRIORITY_STAIRFIRST!==this.aa&&m.PRIORITY_DEFAULT!==this.aa||(m.PRIORITY_LIFTFIRST!==this.aa&&m.PRIORITY_DEFAULT!==this.aa||(u(I.NaviLiftType_Lift,-15*s),u(I.NaviLiftType_Escalator,-8*s),u(I.NaviLiftType_Stair,0)),m.PRIORITY_ESCALATORFIRST===this.aa&&(u(I.NaviLiftType_Lift,-8*s),u(I.NaviLiftType_Escalator,-15*s),u(I.NaviLiftType_Stair,0)),m.PRIORITY_STAIRFIRST===this.aa&&(u(I.NaviLiftType_Lift,-8*s),u(I.NaviLiftType_Escalator,0),u(I.NaviLiftType_Stair,-15*s))),m.PRIORITY_LIFTFIRST1!==this.aa&&m.PRIORITY_ESCALATORFIRST1!==this.aa&&m.PRIORITY_STAIRFIRST1!==this.aa||(m.PRIORITY_LIFTFIRST1===this.aa&&(u(I.NaviLiftType_Lift,-v),u(I.NaviLiftType_Escalator,0),u(I.NaviLiftType_Stair,0)),m.PRIORITY_ESCALATORFIRST1===this.aa&&(u(I.NaviLiftType_Lift,0),u(I.NaviLiftType_Escalator,-v),u(I.NaviLiftType_Stair,0)),m.PRIORITY_STAIRFIRST1===this.aa&&(u(I.NaviLiftType_Lift,0),u(I.NaviLiftType_Escalator,0),u(I.NaviLiftType_Stair,-v))),this);o.sort(function(t,i){if(t.zone!==i.zone){if(t.zone===y.ha)return-1;if(i.zone===y.ha)return 1}return t.ir-i.ir});for(var d=0;d<o.length;d++){var b=o[d];if(!(1===b.or&&t.Cn<n.Cn)&&!(2===b.or&&t.Cn>n.Cn))for(var p=0;p<t.ts.length;p++){var w=t.ts[p];if(b.$n===w.$n){r.push(b),e.push(w);break}}}return 0!==r.length},Ja:function(t,i,n,r,e){this.ha=this.ya.get(t.Cn).xs.be(n);for(var s=[],o=t.ts,u=0;u<o.length;u++){var h=o[u];h.ir=S.yt(h.Yt,this._r)+S.yt(h.Yt,n)}var s=t.es(I.NaviLiftType_Ramp),a=this;s.sort(function(t,i){if(t.zone!==i.zone){if(t.zone===a.ha)return-1;if(i.zone===a.ha)return 1}return t.ir-i.ir});for(var f=0;f<s.length;f++){var c=s[f];if(!(1===c.or&&i.Cn<t.Cn)&&!(2===c.or&&i.Cn>t.Cn))for(var l=0;l<i.ts.length;l++){var v=i.ts[l];if(c.$n===v.$n){r.push(c),e.push(v);break}}}return 0!==r.length}}),a),Ze={Drive:1,Walk:0},Ge={zh:{straight:"直行",still_go_straight:"继续直行",back_to:"往回走",turn_right:"右转",turn_left:"左转",right_front:"右前方 继续直行",left_front:"左前方 继续直行",turn_right_rear:"右后方转",turn_left_rear:"左后方转",up:"上",down:"下",up_to:"上行到达",down_to:"下行到达",drive_up:"上坡到达",drive_down:"下坡到达",meter:"米",pass:"经过",arrived:"到达目的地",front:"前方",stair:"楼梯",stair_pure:"楼梯",escalator_pure:"扶梯",lift_pure:"直梯",ramp_pure:"坡道",take:"乘",along:"沿",take_stair:"乘梯",along_ramp:"沿坡道",front_pure:"前",right_front_pure:"右前",right_pure:"右",right_back_pure:"右后",back_pure:"后",left_back_pure:"左后",left_pure:"左",left_front_pure:"左前",east:"东",west:"西",south:"南",north:"北",southeast:"东南",northeast:"东北",southwest:"西南",northwest:"西北",face_to:"向",start:"起",dest:"终"},en:{straight:"go straight",still_go_straight:"go straight",back_to:"turn back",turn_right:"turn right",turn_left:"turn left",right_front:"go straight right front ",left_front:"go straight left front ",turn_right_rear:"turn right rear",turn_left_rear:"turn left rear",up:"up",down:"up",up_to:"up to",down_to:"down to",drive_up:"drive up",drive_down:"drive down",meter:"meter",pass:"pass",arrived:"arrived",front:"front",stair:"stair",stair_pure:"stair",escalator_pure:"escalator",lift_pure:"lift",ramp_pure:"ramp",take:"take",along:"along",take_stair:"take stair",along_ramp:"along ramp",front_pure:"front",right_front_pure:"right front",right_pure:"right",right_back_pure:"right back",back_pure:"back",left_back_pure:"left back",left_pure:"left",left_front_pure:"left front",east:"east",west:"west",south:"south",north:"north",southeast:"southeast",northeast:"northeast",southwest:"southwest",northwest:"northwest",face_to:"face to",start:"start",dest:"dest"}};function We(t,i){for(var n=0;n<i.length;n++){var r=i[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ve(t,i,n){return i&&We(t.prototype,i),n&&We(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}var a=Ve(function t(i){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function");this.Df=i.data||null,this.Ff=i.directionAssert||10,this.Pf=i.combineAsset||5,this.Cf=i.language||s.ZH,this.Xt=i.type||Ze.Walk,this.Uf=0,this.Bf=[],this.Zf=["north","northeast","east","southeast","south","southwest","west","northwest","north"],this.Gf=["front_pure","right_front_pure","right_pure","right_back_pure","back_pure","left_back_pure","left_pure","left_front_pure","front_pure"],this.Wf=["still_go_straight","right_front","turn_right","turn_right_rear","back_to","turn_left_rear","turn_left","left_front","still_go_straight"],this.Vf=!1,this.Yf=0,Object.assign(this,i)}),Ye=(Object.assign(a.prototype,{mi:function(){},Q:function(t){return this.zf(t)},Xf:function(t){for(var i=[],n=0;n<t.length;n++)i=i.concat(t[n].Zn);return i},qf:function(t,i){var n=Math.PI/4,t=t/n,r=parseInt(t),t=t%1*n;return r%2==0?i<t&&(r+=1):n-i<=t&&(r+=1),r},Hf:function(t,i){var n=i.angleTo(t);return n=new rr(i.x,i.z,i.y).cross(new rr(t.x,t.z,t.y)).z<0?2*Math.PI-n:n},Qf:function(t,i){if(i==t.length-1)return{index:t[t.length-1].index};var n=new rr(0,0,1),r=n,e=(0!=i&&((r=t[i].clone().sub(t[i-1]).normalize()).y=0,r.z*=-1),t[i+1].clone().sub(t[i])),s=(e.y=0,e.length()),e=e.normalize(),n=(e.z*=-1,this.qf(this.Hf(n,e),22.5*S.tt())),r=this.Hf(r,e),e=this.qf(r,this.Ff*S.tt());return{relField:e,relDesc:this.$f(this.Gf[e]),relAngle:r*S.it(),absField:n,absDesc:this.$f(this.Zf[n]),distance:s,index:t[i].index}},pn:function(){var t={center:{x:0,y:0,z:0}};return this.Df&&(t.center.x=this.Df.scene.defCenX,t.center.y=this.Df.scene.defCenY,t.center.z=this.Df.scene.defCenZ),t},gn:function(t){var i={level:t,height:0,gname:"",desc:""};if(this.Df)for(var n=this.Df.scene,r=0;r<n.layerGroups.length;r++){var e=n.layerGroups[r];if(e.gid==t){i.height=e.height,i.gname=e.gname,i.desc=e.desc;break}}return i},Jf:function(t,i){var n=0;return i.level&&(n=this.gn(i.level).height),new rr(i.x-t.x,t.y+n,-i.y+t.y)},Kf:function(t,i){for(var n=this,r=this.pn().center,e=t.map(function(t,i){t=n.Jf(r,t);return t.index=i,t}),s=[],o=0;o<e.length;o++){var u=this.Qf(e,o);u.point=t[o],u.level=i,s.push(u)}for(var h=[s[0]],a=1;a<s.length;a++)s[a].relAngle<=this.Pf||360-s[a].relAngle<=this.Pf?h[h.length-1].distance+=s[a].distance:h.push(s[a]);return h},tc:function(t,i){var n=[],r=0;if(i.forEach(function(t){t.Ch&&n.push(r),r++}),0!=n.length)for(;0!=n.length;){for(var e=0;e<t.length-1;e++)if(t[e].index<=n[0]&&t[e+1].index>=n[0]){t[e+1].Ch=!0;break}n.splice(0,1)}},ic:function(t){var i="",t=this.gn(t);return i=null==t||""+(i=this.Cf==s.ZH?t.desc:t.gname.toUpperCase())!="null"&&""+i!=""&&""+i!="undefined"?i:t.gname.toUpperCase()},nc:function(t,i,n,r,e){var s,o,u=t[i],h=t[i+1],a=this.$f(this.Wf[h.relField]),n=(this.Vf=i==t.length-3&&h.distance<this.Uf,a&&!this.Vf||(r?(this.Vf=!1,a||(e=this.rc(t[i+1].point,n,e),s=null,o=this.ic(r),a=this.Xt==Ze.Drive?(s=n<r?this.$f("drive_up"):this.$f("drive_down"),this.$f("along")+e+" "+s+" "+o):(s=n<r?this.$f("up_to"):this.$f("down_to"),this.$f("take")+e+" "+s+" "+o))):(this.Vf&&(this.Yf=h.distance),a=this.$f("arrived"))),null),n=0==i?2==t.length?this.$f("face_to")+" "+u.absDesc+" "+this.$f("straight")+" "+Math.ceil(u.distance)+" "+this.$f("meter")+" "+a:this.$f("face_to")+" "+u.absDesc+" "+this.$f("straight")+" "+Math.ceil(u.distance)+" "+this.$f("meter")+" "+this.$f(this.Wf[t[i+1].relField]):this.$f("straight")+" "+Math.ceil(u.distance+(this.Vf&&!r?h.distance:0))+" "+this.$f("meter")+" "+a;return n=h.Ch?(n+=" ")+this.$f("pass"):n},ec:function(t,i,n,r){var e=t[i],s=t[i+1];return this.$f(this.Wf[t[i+1].relField])&&!this.Vf||(r?(t=n<r?this.$f("up"):this.$f("down"),s.relDesc=t):s.relDesc=this.$f("dest")),{startPoint:e.point,startLevel:e.level,startIndex:e.index,endPoint:s.point,endLevel:s.level,endIndex:s.index,startDirection:e.absDesc,endDirection:s.relDesc,distance:e.distance+(this.Vf&&!r?s.distance:0)}},rc:function(t,i,n){t.z=this.gn(i).height;for(var r,e=Number.MAX_SAFE_INTEGER,s=-1,o=0;o<n.length;o++)!n[o]||(r=Math.pow(n[o].Yt.x-t.x,2)+Math.pow(n[o].Yt.y-t.y,2))<e&&(e=r,s=n[o].sr);if(-1!=s)switch(s){case 2:return" "+this.$f("stair_pure");case 3:return" "+this.$f("escalator_pure");case 1:return" "+this.$f("lift_pure");case 5:return" "+this.$f("ramp_pure");default:return""}return this.$f("stair")},$f:function(t){t=Ge[this.Cf][t];return t||""},zf:function(t){for(var i,n=[],r=[],e=null,s=0,o=[],u=!(this.Bf=[]),h=null,a=null,f=this.Xf(t),c=0;c<t.length;c++){if(i=(v=t[c]).level,e=null,c<t.length-1)for(var l=c;l<t.length;l++)if(t[l].level!=i){e=t[l].level;break}var v,y,d=v.pointList,b=this.Kf(d,i);if(this.tc(b,v.Zn),1<b.length&&(this.Bf=this.Bf.concat(b)),1==b.length)(e||u)&&(u?r.length&&(c==t.length-1&&(n[n.length-1]+=" "+this.$f("arrived"),r[r.length-1].endDirection=this.$f("dest")),r[r.length-1].endPoint=d[0],r[r.length-1].endLevel=i):h!=i&&null!=h||(v=null,y=this.ic(e),this.Xt===Ze.Drive?(v=i<e?this.$f("drive_up"):this.$f("drive_down"),a=this.$f("along_ramp")+" "+v+" "+y):(a=this.$f("take_stair")+" "+v+" "+y,v=i<e?this.$f("up_to"):this.$f("down_to")),n.push(a),r.push({startPoint:d[0],startDirection:i<e?this.$f("up"):this.$f("down"),startLevel:i})),u=!u);else for(var h=i,p=0;p<b.length-1&&!this.Vf;p++)n.push(this.nc(b,p,i,e,f)),r.push(this.ec(b,p,i,e));1<b.length&&(y=b.reduce(function(t,i){return t+(i.distance||0)},0),o.push({level:i,distance:y}),s+=y)}return[n,r,s,o,this.Yf]}}),a);function ze(t){return function(t){if(Array.isArray(t))return Xe(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,i){if(t){if("string"==typeof t)return Xe(t,i);var n=Object.prototype.toString.call(t).slice(8,-1);return"Map"===(n="Object"===n&&t.constructor?t.constructor.name:n)||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Xe(t,i):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Xe(t,i){(null==i||i>t.length)&&(i=t.length);for(var n=0,r=new Array(i);n<i;n++)r[n]=t[n];return r}function qe(t,i){for(var n=0;n<i.length;n++){var r=i[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var a=function(){function r(t,i,n){if(!(this instanceof r))throw new TypeError("Cannot call a class as a function");this.Qt=Object.assign({tile:!0,isPreview:!1},t),this.sc=null,this.oc=[],this.uc=[],this.hc=null,this.Mn=!!t.map,this.kn=t.map?t.map.getDataManager():new Fn,this.ac=1,this.fc={radius:.5,dash:{size:4,gap:2}},this.Rn=i,this.An=n,this.Xt=t.type,this.Sn()}var t,i,n;return t=r,(i=[{key:"setObstructions",value:function(t){this.sc&&this.sc.Uo(t)}},{key:"route",value:function(t,i,n){this.sc.toDoors=void 0!==t.toDoors&&t.toDoors,this.sc.obstruct=void 0===t.obstruct||t.obstruct;var r=R.ROUTE_FAILED_CANNOT_ARRIVE;(r=t.viapoints&&0<t.viapoints.length?(this.sc.Kh=t.viapoints,this.sc.Ga(t.start,t.dest)):this.sc.hh(t.start.level,t.start,t.dest.level,t.dest,t.mode||g.MODULE_SHORTEST,t.priority||m.PRIORITY_DEFAULT))===R.ROUTE_SUCCESS?(this.oc=this.sc.rf(),this.uc=[this.cc(this.oc,{language:s.ZH}),this.cc(this.oc,{language:s.EN})],this.hc=this.sc.Pa,i&&i(this.Dn())):n&&n(r)}},{key:"dispose",value:function(){this.lc=null,this.oc=[],this.uc=[],this.sc&&(this.sc.mi(),this.sc=null)}},{key:"pathConstraint",value:function(t,i){return this.sc?this.sc.cf(t,i):null}},{key:"getNaviGraph",value:function(t){return this.sc.fa.get(t)}}])&&qe(t.prototype,i),n&&qe(t,n),Object.defineProperty(t,"prototype",{writable:!1}),r}(),He=(Object.assign(a.prototype,{Sn:function(){var t,n=this,i=(this.Mn&&(t=this.Qt.map.getMapOptions(),this.Qt.mapID=t.mapID,this.Qt.appName=t.appName,this.Qt.key=t.key,this.Qt.license=t.license,this.Qt.mapURL=t.mapURL,this.Qt.mapURLAbsolute=t.mapURLAbsolute,this.Qt.isPreview="undefined"!=typeof KjWzhWlSj),{buildingID:this.Qt.mapID,appName:this.Qt.appName,key:this.Qt.key,license:this.Qt.license,mapURL:this.Qt.mapURL,mapURLAbsolute:this.Qt.mapURLAbsolute,merge:this.Qt.merge,loadNavi:!0,justDecode:!0,preLoad:!0,isPreview:"undefined"!=typeof KjWzhWlSj});setTimeout(function(){n.Qt.tile?n.kn.load(i,function(t,i){n.Pn(t,i)}):n.kn.loadWhole(i,function(t,i){n.Pn(t,i)})},0)},Pn:function(t,i){"error"===t&&this.An&&this.An(i),"decode"===t&&(this.sc=new Be(this.Qt),this.sc.Sn(i),this.Rn&&this.Rn())},Dn:function(){if(0==this.oc.length||0==this.uc.length)return null;for(var t={viapoints:[],subs:[],levels:[],distance:0},i=this.uc[0].descriptions,n=this.uc[0].descriptionsData,r=this.uc[1].descriptions,e=this.uc[1].descriptionsData,s=[],o=!1,u=[],h=0;h<n.length;h++){var a={instruction:{zh:null,en:null},waypoint:{points:null,direction:{zh:null,en:null}},viapoint:null,levels:null,distance:Number.NaN},f=i[h],c=n[h],l=r[h],v=e[h],f=(a.instruction.zh=f,a.instruction.en=l,a.levels=[c.startLevel,c.endLevel],a.distance=void 0!==c.distance?c.distance:0,a.waypoint.direction.zh=[c.startDirection,c.endDirection||c.startDirection],a.waypoint.direction.en=[v.startDirection,v.endDirection||v.startDirection],a.levels[0]!=a.levels[1]?(o=!0,s.push.apply(s,ze(a.levels))):0!=s.length&&s.slice(-1)[0]==a.levels[0]&&!o||(s.push(a.levels[0]),o=!1),this.vc([c.startIndex,c.endIndex],s));a.waypoint.points=f.points,f.via&&-1==u.indexOf(f.via)&&(a.viapoint=Object.assign({},f.via.Yt),t.viapoints.push(Object.assign({},f.via.Yt)),u.push(f.via)),t.distance+=a.distance,t.subs.push(a)}for(var y=0;y<s.length;y++)0!=t.levels.length&&t.levels.slice(-1)[0]==s[y]||t.levels.push(s[y]);return t.door=this.hc,t},vc:function(t,i){for(var n=[],r=[],e=null,s=[],o=0;o<this.oc.length;o++){var u=this.oc[o];if(s.push(u.Cn),i.toString()==s.toString()){var h=i[i.length-1],a=u.Bn,f=u.Zn;if(void 0===t[0]||void 0===t[1])n.push(Object.assign({level:u.Cn},u.Bn[0])),r.push(u.Zn[0]),u=this.oc[o-1],n.unshift(Object.assign({level:u.Cn},u.Bn[0])),r.unshift(u.Zn[0]);else for(var c=t[0];c<=t[1];c++)n.push({x:a[c].x,y:a[c].y,level:h}),r.push(f[c]);break}}return r.forEach(function(t){t.Ch&&(e=t)}),{points:n,via:e}},cc:function(t,i){if(!this.yc(t))return{};i=new Ye(Object.assign({data:this.kn.getDecode(this.Qt),directionAssert:10,combineAsset:10,language:s.ZH},i)).Q(t);return{descriptions:i[0],descriptionsData:i[1],distance:i[2],distances:i[3]}},dc:function(t){this.sc.Ca=t,this.sc.Io(),this.oc=this.sc.rf()},bc:function(){return this.oc},pc:function(t){var i=t||this.oc;if(!this.yc(i))return[];var n,r=[];for(n in i)i[n].getPointList&&r.push.apply(r,ze(i[n].pointList));return r},wc:function(t){var i=t||this.oc;if(!this.yc(i))return[];for(var n=[],r=0;r<i.length;r++){for(var e=i[r],s=e.level,o=e.pointList,u={level:s,points:[]},h=0;h<o.length;h++)u.points.push(Object.assign({},o[h]));n.push(u)}return n},mc:function(t){t=t||this.oc;if(!this.yc(t))return 0;var i=this.pc(t);if(0==i.length)return 0;for(var n=0,r=0;r<i.length-1;r++)n+=S.yt(i[r],i[r+1]);return n},_c:function(t){var i=t||this.oc;if(!this.yc(i))return[];var n,r=[];for(n in i)!i[n].level||0!=n&&r[r.length-1]==i[n].level||r.push(i[n].level);return r},xc:function(t,i){var n=i||this.oc;if(!this.yc(n))return[];var r,e=[];for(r in n)n[r].level&&n[r].level==t&&(e=e.concat(n[r].pointList));return e},yc:function(t){if(!Array.isArray(t))return!1;if(0==t.length)return!1;for(var i=0;i<t.length;i++)if(!(t[i]instanceof $n))return!1;return!0},gc:function(e,t){if(0===e.length)return null;null==t&&(t={});for(var i=Object.assign({},this.fc),s=(t&&t.style&&Object.assign(i,t.style),1===this.Xt&&(i.color="#002FA7"),t&&t.height?t.height:this.ac),o=[],n=0;n<e.length;n++)!function(t){var t=e[t],i=t.pointList;if(0===i.length)return;var t=t.level,n=[],r=(i.forEach(function(t){var i=parseFloat(""+t.x),t=parseFloat(""+t.y);n.push({x:i,y:t,z:s})}),i.length<2&&(r=parseFloat(""+i[0].x),i=parseFloat(""+i[0].y),n.push({x:r,y:i,z:s})),new fengmap.FMSegment);r.level=t,r.points=n,o.push(r)}(n);i=new fengmap.FMLineMarker(Object.assign({segments:o},i));return i.passed=t&&t.passed?t.passed:this.Oc,i}}),a);function Qe(t){return(Qe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function $e(t,i){for(var n=0;n<i.length;n++){var r=i[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Je(t,i){return(Je=Object.setPrototypeOf||function(t,i){return t.__proto__=i,t})(t,i)}function Ke(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var t,i=ts(n),i=(t=r?(t=ts(this).constructor,Reflect.construct(i,arguments,t)):i.apply(this,arguments),this);if(t&&("object"===Qe(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");if(void 0!==i)return i;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}}function ts(t){return(ts=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}a=function(){var t=s,i=He;if("function"!=typeof i&&null!==i)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(i&&i.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),i&&Je(t,i);var n,r,e=Ke(s);function s(t,i,n){if(this instanceof s)return e.call(this,t,i,n);throw new TypeError("Cannot call a class as a function")}return t=s,n&&$e(t.prototype,n),r&&$e(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}();function is(t){return function(t){if(Array.isArray(t))return ns(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,i){if(t){if("string"==typeof t)return ns(t,i);var n=Object.prototype.toString.call(t).slice(8,-1);return"Map"===(n="Object"===n&&t.constructor?t.constructor.name:n)||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ns(t,i):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ns(t,i){(null==i||i>t.length)&&(i=t.length);for(var n=0,r=new Array(i);n<i;n++)r[n]=t[n];return r}function rs(t,i){for(var n=0;n<i.length;n++){var r=i[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function es(t,i,n){return i&&rs(t.prototype,i),n&&rs(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}var ss=es(function t(i){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function");this.Cn=void 0!==i.level?i.level:null,this.Nr=void 0!==i.points?i.points:null,this.jc=-1,this.Bt=null,this.Sn()});Object.assign(ss.prototype,{Sn:function(){this.Nr&&(this.Bt=new u,this.Bt.Dt(this.Nr),this.jc=this.Nr.length,this.Nr[0].x==this.Nr[this.jc-1].x&&this.Nr[0].y==this.Nr[this.jc-1].y?this.jc--:this.Nr.push(this.Nr[0]))},Eu:function(t,i){return S.ot(t,i,this.Bt.Nt,this.Bt.It)},ze:function(t){return!!S.ht(t,this.Bt.min,this.Bt.max)&&S.lt(t,this.Nr,this.jc)},Ec:function(t){var i=0;return this.ze(t[0])&&(i|=1),this.ze(t[1])&&(i|=2),i},Ye:function(t,i){if(!S.ot(t[0],t[1],this.Bt.min,this.Bt.max))return!1;for(var n,r,e=!1,s=0;s<this.jc;s++){var o={};1==S.xt(t[0],t[1],this.Nr[s],this.Nr[s+1],o)&&(e=!0,i.push(o))}return t[0].x!=t[1].x?(n=t[0].x<t[1].x,i.sort(function(t,i){return n?t.x-i.x:i.x-t.x})):(r=t[0].y<t[1].y,i.sort(function(t,i){return r?t.y-i.y:i.y-t.y})),e},Tc:function(t,i){for(var n=[],r=(n.push(t[0]),n.push.apply(n,is(i)),n.push(t[1]),[]),e=0;e<n.length-1;e++)r.push([n[e],n[e+1]]);return r},ff:function(t){if(this.Cn!=t.Cn)return!1;if(this.Nr.length!=t.Nr.length)return!1;for(var i=0;i<this.Nr.length;i++){if(this.Nr[i].x!=t.Nr[i].x)return!1;if(this.Nr[i].y!=t.Nr[i].y)return!1}return!0}});function os(t){return(os="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function us(t,i){for(var n=0;n<i.length;n++){var r=i[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function hs(t,i){return(hs=Object.setPrototypeOf||function(t,i){return t.__proto__=i,t})(t,i)}function as(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var t,i=fs(n),i=(t=r?(t=fs(this).constructor,Reflect.construct(i,arguments,t)):i.apply(this,arguments),this);if(t&&("object"===os(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");if(void 0!==i)return i;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}}function fs(t){return(fs=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var cs=function(){var t=e,i=He;if("function"!=typeof i&&null!==i)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(i&&i.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),i&&hs(t,i);var n,r=as(e);function e(t,i,n){if(this instanceof e)return t.type=Ze.Drive,r.call(this,t,i,n);throw new TypeError("Cannot call a class as a function")}return t=e,(i=[{key:"route",value:function(t,i,n){this.sc.obstruct=void 0===t.obstruct||t.obstruct;var r=R.ROUTE_FAILED_CANNOT_ARRIVE;(r=t.viapoints&&0<t.viapoints.length?(this.sc.Kh=t.viapoints,this.sc.Ga(t.start,t.dest)):this.sc.hh(t.start.level,t.start,t.dest.level,t.dest,t.mode||g.MODULE_SHORTEST))===R.ROUTE_SUCCESS?(this.oc=this.sc.rf(),this.uc=[this.cc(this.oc,{language:s.ZH,type:this.Xt}),this.cc(this.oc,{language:s.EN,type:this.Xt})],this.hc=this.sc.Pa,i&&i(this.Dn())):n&&n(r)}}])&&us(t.prototype,i),n&&us(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function ls(t){return(ls="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function vs(t,i){for(var n=0;n<i.length;n++){var r=i[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ys(t,i){return(ys=Object.setPrototypeOf||function(t,i){return t.__proto__=i,t})(t,i)}function ds(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var t,i=bs(n),i=(t=r?(t=bs(this).constructor,Reflect.construct(i,arguments,t)):i.apply(this,arguments),this);if(t&&("object"===ls(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");if(void 0!==i)return i;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}}function bs(t){return(bs=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var ps,ws=function(){var t=e,i=He;if("function"!=typeof i&&null!==i)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(i&&i.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),i&&ys(t,i);var n,r=ds(e);function e(t,i,n){if(this instanceof e)return t.type=Ze.Walk,r.call(this,t,i,n);throw new TypeError("Cannot call a class as a function")}return t=e,(i=[{key:"route",value:function(t,i,n){this.sc.toDoors=void 0!==t.toDoors&&t.toDoors,this.sc.obstruct=void 0===t.obstruct||t.obstruct,this.sc.barrierFree=void 0!==t.barrierFree&&t.barrierFree;var r=R.ROUTE_FAILED_CANNOT_ARRIVE;(r=t.viapoints&&0<t.viapoints.length?(this.sc.Kh=t.viapoints,this.sc.Ga(t.start,t.dest)):this.sc.hh(t.start.level,t.start,t.dest.level,t.dest,t.mode||g.MODULE_SHORTEST,t.priority||m.PRIORITY_DEFAULT))===R.ROUTE_SUCCESS?(this.oc=this.sc.rf(),this.uc=[this.cc(this.oc,{language:s.ZH,type:this.Xt}),this.cc(this.oc,{language:s.EN,type:this.Xt})],this.hc=this.sc.Pa,i&&i(this.Dn())):n&&n(r)}}])&&vs(t.prototype,i),n&&vs(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),t=t(28),ms={VERSION:C,BUILD:U,XMLHttpRequest:t.a,FMType:B,FMNaviMode:g,FMNaviPriority:m,FMRouteResult:R,FMLanguageType:s,FMSearchRequest:i,FMSearchAnalyser:n,FMNaviAnalyser:a,FMNaviObstruction:ss,FMNaviDriveAnalyser:cs,FMNaviWalkAnalyser:ws},t=xi.a.global(),_s=void 0!==t?t.fengmap:{};for(ps in void 0===_s&&(_s={}),ms)_s[ps]=ms[ps];void 0!==t&&(t.fengmap=_s);A.default=_s}]).default});